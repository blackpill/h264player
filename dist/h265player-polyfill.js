/*! h265player built @2020/10/22 ‰∏ãÂçà10:29:40 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.h265player=e():t.h265player=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=224)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";n.r(e);e.default={ProcessorResetEnd:"DataProcessorController.processorResetEnd",DataProcessorReady:"DataProcessorController.dataProcessorReady",DecodeStartDecode:"DecodeController.startDecode",DecodeFlush:"DecodeController.flush",DecodeDecoded:"DecodeController.decoded",DecodeApppendEnd:"DecodeController.appendEnd",DecodeFlushEnd:"DecodeController.flushEnd",DecodeReady:"DecodeController.ready",DemuxResetEnd:"DemuxController.resetEnd",DemuxStartDemux:"DemuxController.startDemux",DemuxLast:"DemuxController.last",DemuxVideo:"DemuxController.video",DemuxAAC:"DemuxController.AAC",DemuxReady:"DemuxController.ready",ImagePlayerRenderEnd:"ImagePlayer.renderEnd",ImagePlayerWait:"ImagePlayer.wait",ImagePlayerReady:"ImagePlayer.ready",ImagePlayerEnd:"ImagePlayer.end",ImagePlayerBuffeUpdate:"ImagePlayer.bufferUpdate",ControlBarPlay:"ControlBar.onPlay",ControlBarPause:"ControlBar.onPause",ControlBarPauseLoading:"ControlBar.onPauseLoading",LoadDataReadBufferByNo:"LoadData.readBufferByNo",LoadDataReadBuffer:"LoadData.readBuffer",LoadDataRead:"LoadData.onRead",LoadDataSeek:"LoadData.onSeek",LoadDataFirstLoaded:"LoadData.onFirstLoaded",LoaderPlayListStart:"Loader.playlistStart",LoaderLoading:"Loader.onLoading",LoaderError:"Loader.onError",LoaderLoaded:"Loader.onLoaded",LoaderUpdateSpeed:"Loader.updateSpeed",LoaderLoadFile:"Loader.loadFile",LoaderPlayListLoaded:"Loader.playlistLoaded",AudioPlayerReady:"AudioPlayer.MSEReady",AudioPlayerDataReady:"AudioPlayer.dataReady",AudioPlayerWait:"AudioPlayer.wait",AudioPlayerEnd:"AudioPlayer.end",AudioPlayerPlaySuccess:"AudioPlayer.playSuccess",AudioPlayerPlayFail:"AudioPlayer.playFail",PlayerMaxPTS:"DemuxController.maxpts",PlayerSeekEnd:"Player.seekend",PlayerSpeedTo:"Player.speedTo",PlayerChangeRate:"Player.changeRate",PlayerChangeSrc:"Player.changeSrc",PlayerPlaying:"Player.playing",PlayerTimeUpdate:"Player.timeUpdate",PlayerbufferUpdate:"Player.bufferupdate",PlayerResetReady:"Player.resetReady",PlayerWait:"Player.wait",PlayerLoadNext:"Player.loadNext",PlayerOnPlay:"Player.onPlay",PlayerOnPause:"Player.onPause",PlayerOnSeek:"Player.onSeek",PlayerOnVolume:"Player.onVolume",PlayerReady:"Player.ready",PlayerPlay:"Player.play",PlayerReset:"Player.reset",PlayerLoadedMetaData:"Player.loadedMetaData",PlayerEnd:"Player.end",PlayerPause:"Player.pause",PlayerSeeking:"Player.seeking",PlayerAlert:"Player.alert",PlayerThrowError:"Player.throwError",StreamDataReady:"StreamController.dataReady"}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(59);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(12),i=n(1);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(13),i=n(21),o=n(34),a=n(28),s=n(43),u=function(t,e,n){var c,l,f,h,p=t&u.F,d=t&u.G,v=t&u.S,y=t&u.P,g=t&u.B,m=d?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,b=d?i:i[e]||(i[e]={}),_=b.prototype||(b.prototype={});for(c in d&&(n=e),n)f=((l=!p&&m&&void 0!==m[c])?m:n)[c],h=g&&l?s(f,r):y&&"function"==typeof f?s(Function.call,f):f,m&&a(m,c,f,t&u.U),b[c]!=f&&o(b,c,h),y&&_[c]!=f&&(_[c]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){t.exports=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a}));var r={projectName:"GOLDPLAY",projectAbbreviation:"GP",mode:"production",basePath:"./",get distPath(){var t="";return("development"==this.mode||"test"==this.mode)&&(t="/dist/"),t},get libPath(){return this.distPath+"lib/"},hideBarBoxTime:300,speedList:[{name:"0.5X",value:.5},{name:"1.0X",value:1},{name:"1.5X",value:1.5},{name:"2.0X",value:2},{name:"3.0X",value:3}]},i={maxDuration:30,maxSize:1024e6,maxRetryCount:3,maxSegment:10},o=1/9e4,a={READYBUFFERLENGTH:1e3,MAXBUFFERLENGTH:5e3}},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(0),u=n.n(s),c=n(10),l=console||{};function f(t,e){if(l[t]){if(this.disabled||this.level<0)return;if("production"===c.c.mode&&("error"!==t||"warn"!==t))return;if(1===this.level&&["info"].includes(t))return;if(2===this.level&&["log","info"].includes(t))return;if(this.level>2&&"error"!==t)return;for(var n=(new Date).toLocaleString(),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=["[32m".concat(e,"[39m")].concat(i,[n]);"error"!==t&&"warn"!==t||(a=[e].concat(i,[n])),"function"==typeof l[t]&&l[t].apply(l,a)}}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i()(this,t),u()(this,"prefix",c.c.projectName),u()(this,"joiner",">"),u()(this,"left","["),u()(this,"right","]"),u()(this,"disabled",!1),u()(this,"level",0),Object.assign(this,n),"string"==typeof e?this.file=e:e&&e.constructor&&(this.file=e.constructor.name)}return a()(t,[{key:"setDisabled",value:function(t){this.disabled=t}},{key:"setLevel",value:function(t){this.level=t}}],[{key:"get",value:function(e,n){return new t(e,n)}}]),t}();["info","log","debug","warn","error"].forEach((function(t){h.prototype[t]=function(e,n){n=void 0===n?"":this.joiner+n;for(var r=this.left+e+n+this.right,i=this.left+this.prefix+" "+this.file+this.right+r,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];f.apply(this,[t,i].concat(a))}})),e.a=h},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(98)("wks"),i=n(62),o=n(13).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=n(37),i=n(24),o=n(38),a=n(126),s=n(82),u=n(83),c=n(85),l=n(49),f=n(39),h=function(){if(1===arguments.length)this.selection=arguments[0];else{if(0===arguments.length)throw new l.ValueError("Required argument 'data' not found");this.selection=r.apply(null,arguments)}Object.defineProperty(this,"size",{get:function(){return this.selection.size}.bind(this)}),Object.defineProperty(this,"shape",{get:function(){return this.selection.shape}.bind(this)}),Object.defineProperty(this,"ndim",{get:function(){return this.selection.shape.length}.bind(this)}),Object.defineProperty(this,"dtype",{get:function(){return this.selection.dtype}.bind(this),set:function(t){var e=f.getType(t);e!==f.getType(this.dtype)&&(this.selection=r(new e(this.selection.data),this.selection.shape,this.selection.stride,this.selection.offset))}.bind(this)}),Object.defineProperty(this,"T",{get:function(){return this.transpose()}.bind(this)})};h.prototype.get=function(){for(var t=arguments.length,e=0;e<t;e++)arguments[e]<0&&(arguments[e]+=this.shape[e]);return this.selection.get.apply(this.selection,arguments)},h.prototype.set=function(){return this.selection.set.apply(this.selection,arguments)},h.prototype.slice=function(){for(var t=this.ndim,e=new Array(t),n=new Array(t),r=new Array(t),i=this.shape,o=0;o<t;o++){var a=arguments[o];if(void 0===a)break;if(null!==a)if(f.isNumber(a))n[o]=a<0?a+i[o]:a,e[o]=null,r[o]=1;else if(4===a.length&&null===a[1]&&null===a[2]){var s=a[0]<0?a[0]+i[o]:a[0];n[o]=s,e[o]=null,r[o]=a[3]||1}else{var u=a[0]<0?a[0]+i[o]:a[0],c=a[1]<0?a[1]+i[o]:a[1];n[o]=c?u:0,e[o]=c?c-u:u,r[o]=a[2]||1}}var l=this.selection.lo.apply(this.selection,n),p=l.hi.apply(l,e),d=p.step.apply(p,r);return new h(d)},h.prototype.pick=function(t){return new h(this.selection.pick.apply(this.selection,arguments))},h.prototype.lo=function(){return new h(this.selection.lo.apply(this.selection,arguments))},h.prototype.hi=function(){return new h(this.selection.hi.apply(this.selection,arguments))},h.prototype.step=function(){return new h(this.selection.step.apply(this.selection,arguments))},h.prototype.flatten=function(){if(1===this.ndim)return new h(this.selection);var t=f.getType(this.dtype),e=f.flatten(this.tolist(),!0);return e instanceof t||(e=new t(e)),new h(e,[this.size])},h.prototype.reshape=function(t){if(0===arguments.length)throw new l.ValueError("function takes at least one argument (0 given)");if(1===arguments.length&&f.isNumber(t)&&-1===t&&(t=[f.shapeSize(this.shape)]),1===arguments.length&&f.isNumber(t)&&(t=[t]),arguments.length>1&&(t=[].slice.call(arguments)),t.filter((function(t){return-1===t})).length>1)throw new l.ValueError("can only specify one unknown dimension");var e=f.shapeSize(t);if(t=t.map(function(t){return-1===t?-1*this.size/e:t}.bind(this)),this.size!==f.shapeSize(t))throw new l.ValueError("total size of new array must be unchanged");var n,r,i,o,a=this.selection.shape,s=this.selection.offset,u=this.selection.stride,c=a.length,p=t.length;if(c===p){var d=!0;for(i=0;i<p;++i)if(a[i]!==t[i]){d=!1;break}if(d)return new h(this.selection.data,a,u,s)}else if(1===c){for(n=new Array(p),i=p-1,o=1;i>=0;--i)n[i]=o,o*=t[i];for(r=s,i=0;i<p;++i)n[i]<0&&(r-=(t[i]-1)*n[i]);return new h(this.selection.data,t,n,r)}var v=Math.min(c,p),y=!0;for(i=0;i<v;i++)if(a[i]!==t[i]){y=!1;break}if(y){for(n=new Array(p),i=0;i<p;i++)n[i]=u[i]||1;return r=s,new h(this.selection.data,t,n,r)}return this.flatten().reshape(t)},h.prototype.transpose=function(t){if(0===arguments.length){var e=this.ndim;t=new Array(e);for(var n=0;n<e;n++)t[n]=e-n-1}else arguments.length>1&&(t=arguments);return new h(this.selection.transpose.apply(this.selection,t))},h.prototype.dot=function(t){t=t instanceof h?t:y(t,this.dtype);var e=this.shape,n=t.shape;if(2===e.length&&2===n.length&&e[1]===n[0]){var r=f.getType(this.dtype),i=new h(new r(e[0]*n[1]),[e[0],n[1]]);return a(i.selection,this.selection,t.selection),i}if(1===e.length&&2===n.length&&e[0]===n[0])return this.reshape([e[0],1]).T.dot(t).reshape(n[1]);if(2===e.length&&1===n.length&&e[1]===n[0])return this.dot(t.reshape([n[0],1])).reshape(e[0]);if(1===e.length&&1===n.length&&e[0]===n[0])return this.reshape([e[0],1]).T.dot(t.reshape([n[0],1])).reshape([1]);throw new l.ValueError("cannot compute the matrix product of given arrays")},h.prototype.assign=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return f.isNumber(t)?(o.assigns(n.selection,t),n):(t=y(t,this.dtype),o.assign(n.selection,t.selection),n)},h.prototype.add=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return f.isNumber(t)?(o.addseq(n.selection,t),n):(t=y(t,this.dtype),o.addeq(n.selection,t.selection),n)},h.prototype.subtract=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return f.isNumber(t)?(o.subseq(n.selection,t),n):(t=y(t,this.dtype),o.subeq(n.selection,t.selection),n)},h.prototype.multiply=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return f.isNumber(t)?(o.mulseq(n.selection,t),n):(t=y(t,this.dtype),o.muleq(n.selection,t.selection),n)},h.prototype.divide=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return f.isNumber(t)?(o.divseq(n.selection,t),n):(t=y(t,this.dtype),o.diveq(n.selection,t.selection),n)},h.prototype.pow=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return f.isNumber(t)?(o.powseq(n.selection,t),n):(t=y(t,this.dtype),o.poweq(n.selection,t.selection),n)},h.prototype.exp=function(t){0===arguments.length&&(t=!0);var e=t?this.clone():this;return o.expeq(e.selection),e},h.prototype.log=function(t){0===arguments.length&&(t=!0);var e=t?this.clone():this;return o.logeq(e.selection),e},h.prototype.sqrt=function(t){0===arguments.length&&(t=!0);var e=t?this.clone():this;return o.sqrteq(e.selection),e},h.prototype.max=function(){return 0===this.selection.size?null:o.sup(this.selection)},h.prototype.min=function(){return 0===this.selection.size?null:o.inf(this.selection)},h.prototype.sum=function(){return o.sum(this.selection)},h.prototype.std=function(t){t=f.defaults(t,{ddof:0});var e=this.clone();o.powseq(e.selection,2);var n=this.mean(),r=f.shapeSize(this.shape),i=o.sum(e.selection)/(r-t.ddof)-n*n*r/(r-t.ddof);return i>0?Math.sqrt(Math.abs(i)):0},h.prototype.mean=function(){return o.sum(this.selection)/f.shapeSize(this.shape)},h.prototype.mod=function(t,e){1===arguments.length&&(e=!0);var n=e?this.clone():this;return f.isNumber(t)?(o.modseq(n.selection,t),n):(t=y(t,this.dtype),o.modeq(n.selection,t.selection),n)},h.prototype.tolist=function(){return m(this.selection)},h.prototype.valueOf=function(){return this.tolist()},h.prototype.toString=function(){var t=b(this.max()).length,e=/\[\s+\[/g;var n=JSON.stringify(this.tolist(),(function e(n,r){if(f.isString(r))return r;if(f.isNumber(r)){var i=b(r);return new Array(Math.max(0,t-i.length+2)).join(" ")+i}var o;n=n||0;var a=c.printThreshold,s=a/2|0;return o=r.length>a?[].concat(r.slice(0,s),[" ..."],r.slice(r.length-s)):r,new Array(n+1).join(" ")+"["+o.map((function(t,r){return e(0===r&&0===n?1:n+1,t)})).join(",")+"]"})).replace(/\]\,(\s*)\[/g,"],\n$1      [").replace(e,"[[").replace(e,"[[").replace(/\]\,(\s+)...\,(\s+)\[/g,"],\n$2       ...\n$2      [").slice(2,-1);switch(this.dtype){case"array":return"array(["+n+")";default:return"array(["+n+", dtype="+this.dtype+")"}},h.prototype.inspect=h.prototype.toString,h.prototype.toJSON=function(){return JSON.stringify(this.tolist())},h.prototype.clone=function(){var t=this.selection;return void 0===t.data.slice?new h(r([].slice.apply(t.data),t.shape,t.stride,t.offset)):new h(r(t.data.slice(),t.shape,t.stride,t.offset))},h.prototype.equal=function(t){if(t=y(t),this.size!==t.size||this.ndim!==t.ndim)return!1;for(var e=this.ndim,n=0;n<e;n++)if(this.shape[n]!==t.shape[n])return!1;return o.all(o.eqeq(this.selection,t.selection))},h.prototype.round=function(t){0===arguments.length&&(t=!0);var e=t?this.clone():this;return o.roundeq(e.selection),e},h.prototype.negative=function(){var t=this.clone();return o.neg(t.selection,this.selection),t},h.prototype.diag=function(){var t=this.ndim;if(1===t){var e=f.getType(this.dtype),n=[this.shape[0],this.shape[0]],r=new h(new e(f.shapeSize(n)),n);"array"===r.dtype&&o.assigns(r.selection,0);for(var i=0;i<this.shape[0];i++)r.set(i,i,this.get(i));return r}var a=this.shape,s=this.selection.stride,u=1<<30,c=0;for(i=0;i<t;++i)u=0|Math.min(u,a[i]),c+=s[i];return new h(this.selection.data,[u],[c],this.selection.offset)},h.prototype.iteraxis=function(t,e){var n=this.shape;if(-1===t&&(t=n.length-1),t<0||t>n.length-1)throw new l.ValueError("invalid axis");for(var r=0;r<n[t];r++){for(var i=new Array(t+1),o=0;o<t+1;o++)i[o]=o===t?r:null;e(y(m(this.selection.pick.apply(this.selection,i)),this.dtype),r)}};var p=i({args:["array","array","array","array"],body:function(t,e,n,r){var i=t,o=i*(n+r);t=o-r*(i+e),e=o+n*(e-i)}}),d=i({args:["array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],body:function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,v,y,g,m){f*l+h*c+p*u+d*s+e*a+v*o+y*i+g*r+m*n}}),v=i({args:["index","array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-2,-2],array:1},{offset:[-2,-1],array:1},{offset:[-2,0],array:1},{offset:[-2,1],array:1},{offset:[-2,2],array:1},{offset:[-1,-2],array:1},{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[-1,2],array:1},{offset:[0,-2],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[0,2],array:1},{offset:[1,-2],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1},{offset:[1,2],array:1},{offset:[2,-2],array:1},{offset:[2,-1],array:1},{offset:[2,0],array:1},{offset:[2,1],array:1},{offset:[2,2],array:1}],body:function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,v,y,g,m,b,_,w,x,k,S,E,P,T,A,R,B,L,C,D,I,O,N,M,U,j,F,V,H,W,z,$,G,Y,q,X,K,J){t[0]<2||t[1]<2?0:A*T+R*P+B*E+L*S+C*k+D*x+I*w+O*_+N*b+M*m+U*g+j*y+n*v+F*d+V*p+H*h+W*f+z*l+$*c+G*u+Y*s+q*a+X*o+K*i+J*r}});function y(t,e){if(t instanceof h)return t;var n=f.getType(e);if(f.isNumber(t))return new h(n!==Array?new n([t]):[t],[1]);var r=f.getShape(t);return r.length>1&&(t=f.flatten(t,!0)),t instanceof n||(t=new n(t)),new h(t,r)}h.prototype.convolve=function(t){t=h.new(t);var e=this.ndim;if(e!==t.ndim)throw new l.ValueError("arrays must have the same dimensions");for(var n=new Array(e),r=new Array(e),i=this.selection,o=this.shape,a=t.selection,s=t.shape,u=0;u<e;u++){var c=o[u]-s[u]+1;if(c<0)throw new l.ValueError("filter cannot be greater than the array");n[u]=c,r[u]=-1}if(2===e&&3===s[0]&&3===s[1]){var p=new h(new Float32Array(f.shapeSize(o)),o);return d(p.selection,i,a.get(0,0),a.get(0,1),a.get(0,2),a.get(1,0),a.get(1,1),a.get(1,2),a.get(2,0),a.get(2,1),a.get(2,2)),p.lo(1,1).hi(n[0],n[1])}if(3===e&&1===s[2]&&1===o[2]&&3===s[0]&&3===s[1]){var y=new h(new Float32Array(f.shapeSize(o)),o);return d(y.selection.pick(null,null,0),i.pick(null,null,0),a.get(0,0,0),a.get(0,1,0),a.get(0,2,0),a.get(1,0,0),a.get(1,1,0),a.get(1,2,0),a.get(2,0,0),a.get(2,1,0),a.get(2,2,0)),y.lo(1,1).hi(n[0],n[1])}if(2===e&&5===s[0]&&5===s[1]){var g=new h(new Float32Array(f.shapeSize(o)),o);return v(g.selection,i,a.get(0,0),a.get(0,1),a.get(0,2),a.get(0,3),a.get(0,4),a.get(1,0),a.get(1,1),a.get(1,2),a.get(1,3),a.get(1,4),a.get(2,0),a.get(2,1),a.get(2,2),a.get(2,3),a.get(2,4),a.get(3,0),a.get(3,1),a.get(3,2),a.get(3,3),a.get(3,4),a.get(4,0),a.get(4,1),a.get(4,2),a.get(4,3),a.get(4,4)),g.lo(2,2).hi(n[0],n[1])}if(3===e&&1===s[2]&&1===o[2]&&5===s[0]&&5===s[1]){var m=new h(new Float32Array(f.shapeSize(o)),o);return v(m.selection,i,a.get(0,0,0),a.get(0,1,0),a.get(0,2,0),a.get(0,3,0),a.get(0,4,0),a.get(1,0,0),a.get(1,1,0),a.get(1,2,0),a.get(1,3,0),a.get(1,4,0),a.get(2,0,0),a.get(2,1,0),a.get(2,2,0),a.get(2,3,0),a.get(2,4,0),a.get(3,0,0),a.get(3,1,0),a.get(3,2,0),a.get(3,3,0),a.get(3,4,0),a.get(4,0,0),a.get(4,1,0),a.get(4,2,0),a.get(4,3,0),a.get(4,4,0)),m.lo(2,2).hi(n[0],n[1])}return this.fftconvolve(t)},h.prototype.fftconvolve=function(t){if(t=h.new(t),this.ndim!==t.ndim)throw new l.ValueError("arrays must have the same dimensions");var e,n=this.selection,i=t.selection,a=this.ndim,c=1,d=new Array(a),v=new Array(a),y=new Array(a);for(e=a-1;e>=0;--e)v[e]=n.shape[e],d[e]=c,c*=v[e],y[e]=n.shape[e]-i.shape[e]+1;var g=f.getType(n.dtype),m=new h(new g(f.shapeSize(y)),y),b=m.selection,_=u.mallocDouble(c),w=r(_,v,d,0);o.assigns(w,0),o.assign(w.hi.apply(w,n.shape),n);var x=u.mallocDouble(c),k=r(x,v,d,0);o.assigns(k,0),s(1,w,k);var S=u.mallocDouble(c),E=r(S,v,d,0);o.assigns(E,0),o.assign(E.hi.apply(E,i.shape),i);var P=u.mallocDouble(c),T=r(P,v,d,0);o.assigns(T,0),s(1,E,T),p(w,k,E,T),s(-1,w,k);var A,R=new Array(a),B=new Array(a),L=!1;for(e=0;e<a;++e)b.shape[e]>v[e]&&(L=!0),B[e]=i.shape[e]-1,R[e]=Math.min(b.shape[e],v[e]-B[e]);return L&&o.assign(b,0),A=(A=w.lo.apply(w,B)).hi.apply(A,R),o.assign(b.hi.apply(b,R),A),u.freeDouble(_),u.freeDouble(x),u.freeDouble(S),u.freeDouble(P),m},h.new=y,t.exports=h;var g=i({args:["array","scalar","index"],body:function(t,e,n){var r,i=e;for(r=0;r<n.length-1;++r)i=i[n[r]];i[n[n.length-1]]=t}});function m(t){var e=function t(e,n){var r=0|e[n=n||0];if(r<=0)return[];var i,o=new Array(r);if(n===e.length-1)for(i=0;i<r;++i)o[i]=0;else for(i=0;i<r;++i)o[i]=t(e,n+1);return o}(t.shape,0);return g(t,e),e}function b(t){return String(Number((t||0).toFixed(c.nFloatingValues)))}},function(t,e,n){var r=n(45),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){t.exports=n(97)},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(14)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(15),i=n(188),o=n(57),a=Object.defineProperty;e.f=n(22)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(120),i=n(81),o=["args","body"],a=["pre","post","printCode","funcName","blockSize"];t.exports=function(t){for(var e in t)o.indexOf(e)<0&&a.indexOf(e)<0&&console.warn("cwise: Unknown argument '"+e+"' passed to expression compiler");for(var n=0;n<o.length;++n)if(!t[o[n]])throw new Error("cwise: Missing argument: "+o[n]);return i({args:t.args,pre:r(t.pre||function(){}),body:r(t.body),post:r(t.post||function(){}),debug:!!t.printCode,funcName:t.funcName||t.body.name||"cwise",blockSize:t.blockSize||64})}},function(t,e,n){var r=n(51);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(0),u=n.n(s),c=n(10),l={eval:EvalError,range:RangeError,reference:ReferenceError,syntax:SyntaxError,type:TypeError,uri:URIError,default:Error},f=null,h=(f||(f=new(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1001;return i()(this,t),u()(this,"type",""),u()(this,"errorName","DefaultError"),u()(this,"code",null),u()(this,"message",""),u()(this,"stack",""),this.type=e,this.code=n,this.throws.bind(this)}return a()(t,[{key:"throws",value:function(t){for(var e="",n=Error,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(t instanceof Error){for(var a in l)if(t instanceof l[a]){this.errorName=l[a].name,n=t.constructor;break}this.stack=t.stack,i&&i.splice&&(e=i[0],i.splice(0,1))}else e=t.toString();this.message="[".concat(c.c.projectName," ERROR:")+this.type+"-"+this.code+"]"+e;try{throw new n(this.message,"[args]:",i)}catch(t){this.stack=this.stack||t.stack,console.error(t,"[message]:",e,"[args]:",i)}}}]),t}())),f)},function(t,e){t.exports=function(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}},function(t,e,n){var r=n(13),i=n(34),o=n(33),a=n(62)("src"),s=n(229),u=(""+s).split("toString");n(21).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,n){var r=n(8),i=n(14),o=n(51),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},function(t,e,n){var r=n(59),i=n(111);function o(e,n,a){return i()?t.exports=o=Reflect.construct:t.exports=o=function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}t.exports=o},function(t,e){function n(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,u,"next",t)}function u(t){n(a,i,o,s,u,"throw",t)}s(void 0)}))}}},function(t,e){t.exports=function(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(23),i=n(61);t.exports=n(22)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(90),i=n(51);t.exports=function(t){return r(i(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(118),i=n(119),o="undefined"!=typeof Float64Array;function a(t,e){return t[0]-e[0]}function s(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(a);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}function u(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var i="generic"===t;if(-1===e){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===e){o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",o)(c[t][0])}o=["'use strict'"];var a=r(e),u=a.map((function(t){return"i"+t})),l="this.offset+"+a.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),f=a.map((function(t){return"b"+t})).join(","),h=a.map((function(t){return"c"+t})).join(",");o.push("function "+n+"(a,"+f+","+h+",d){this.data=a","this.shape=["+f+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),i?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+n+"_get("+u.join(",")+"){"),i?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+n+"_index(",u.join(),"){return "+l+"}"),o.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+a.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+a.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var p=a.map((function(t){return"a"+t+"=this.shape["+t+"]"})),d=a.map((function(t){return"c"+t+"=this.stride["+t+"]"}));o.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+d.join(","));for(var v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");o.push("return new "+n+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"c"+t})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+a.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+a.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");o.push("return new "+n+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"b"+t})).join(",")+",c)}");var y=new Array(e),g=new Array(e);for(v=0;v<e;++v)y[v]="a[i"+v+"]",g[v]="b[i"+v+"]";o.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map((function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+y.join(",")+","+g.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset");for(v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(t){return"shape["+t+"]"})).join(",")+","+a.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(c[t],s)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,e,n,r){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===n){n=new Array(a);for(var s=a-1,l=1;s>=0;--s)n[s]=l,l*=e[s]}if(void 0===r){r=0;for(s=0;s<a;++s)n[s]<0&&(r-=(e[s]-1)*n[s])}for(var f=function(t){if(i(t))return"buffer";if(o)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),h=c[f];h.length<=a+1;)h.push(u(f,h.length-1));return(0,h[a+1])(t,e,n,r)}},function(t,e,n){"use strict";var r=n(81),i={body:"",args:[],thisVars:[],localVars:[]};function o(t){if(!t)return i;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function a(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return r({args:t.args,pre:o(t.pre),body:o(t.body),post:o(t.proc),funcName:t.funcName})}(t))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in s){var n=s[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var n=u[t];e[t]=a({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var n=c[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var n=l[t];e[n]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var n=f[t];e[n]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=r({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=r({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=r({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,n){"use strict";var r=n(86),i=n(128);function o(t){return"number"==typeof t}function a(t){return"function"==typeof t}t.exports={isNumber:o,isString:function(t){return"string"==typeof t},isFunction:a,flatten:function t(e,n,r){r=r||[];for(var i=-1,a=e.length;++i<a;){var s=e[i];o(s)?r[r.length]=s:n?t(s,n,r):r.push(s)}return r},shapeSize:function(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e},getType:function(t){return a(t)?t:r[t]||Array},getShape:function(t){var e;return"object"==typeof t?"object"==typeof(e=t[0])?"object"==typeof e[0]?function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e}(t):[t.length,e.length]:[t.length]:[]},defaults:i.defaults}},function(t,e,n){"use strict";var r=n(24),i=n(18),o=n(39),a=r({args:["array","array","array","array"],body:function(t,e,n,r){4899*e+9617*n+1868*r+8192>>14}});t.exports=function(t){t instanceof i||(t=new i(t));var e=t.shape,n=e[0],r=e[1];if(1===(e[2]||1))return t;var s=[n,r],u=new i(new Uint8Array(o.shapeSize(s)),s),c=t.selection.pick(null,null,0),l=t.selection.pick(null,null,1),f=t.selection.pick(null,null,2);return a(u.selection,c,l,f),u}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(3),i=n(59),o=n(112),a=n(30);function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},s(e)}t.exports=s},function(t,e,n){var r=n(44);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(91),i=n(61),o=n(35),a=n(57),s=n(33),u=n(188),c=Object.getOwnPropertyDescriptor;e.f=n(22)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(8),i=n(21),o=n(14);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){var r=n(43),i=n(90),o=n(25),a=n(19),s=n(204);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,p=e||s;return function(e,s,d){for(var v,y,g=o(e),m=i(g),b=r(s,d,3),_=a(m.length),w=0,x=n?p(e,_):u?p(e,0):void 0;_>w;w++)if((h||w in m)&&(y=b(v=m[w],w,g),t))if(n)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:x.push(v)}else if(l)return!1;return f?-1:c||l?l:x}}},function(t,e,n){"use strict";t.exports={ValueError:function(){var t=Error.apply(this,arguments);return t.name=this.constructor.name,t},ConfigError:function(){var t=Error.apply(this,arguments);return t.name=this.constructor.name,t},NotImplementedError:function(){var t=Error.apply(this,arguments);return t.name=this.constructor.name,t}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";if(n(22)){var r=n(63),i=n(13),o=n(14),a=n(8),s=n(109),u=n(183),c=n(43),l=n(77),f=n(61),h=n(34),p=n(78),d=n(45),v=n(19),y=n(215),g=n(65),m=n(57),b=n(33),_=n(92),w=n(16),x=n(25),k=n(175),S=n(66),E=n(68),P=n(67).f,T=n(177),A=n(62),R=n(17),B=n(48),L=n(99),C=n(93),D=n(179),I=n(75),O=n(102),N=n(76),M=n(178),U=n(206),j=n(23),F=n(46),V=j.f,H=F.f,W=i.RangeError,z=i.TypeError,$=i.Uint8Array,G=Array.prototype,Y=u.ArrayBuffer,q=u.DataView,X=B(0),K=B(2),J=B(3),Q=B(4),Z=B(5),tt=B(6),et=L(!0),nt=L(!1),rt=D.values,it=D.keys,ot=D.entries,at=G.lastIndexOf,st=G.reduce,ut=G.reduceRight,ct=G.join,lt=G.sort,ft=G.slice,ht=G.toString,pt=G.toLocaleString,dt=R("iterator"),vt=R("toStringTag"),yt=A("typed_constructor"),gt=A("def_constructor"),mt=s.CONSTR,bt=s.TYPED,_t=s.VIEW,wt=B(1,(function(t,e){return Pt(C(t,t[gt]),e)})),xt=o((function(){return 1===new $(new Uint16Array([1]).buffer)[0]})),kt=!!$&&!!$.prototype.set&&o((function(){new $(1).set({})})),St=function(t,e){var n=d(t);if(n<0||n%e)throw W("Wrong offset!");return n},Et=function(t){if(w(t)&&bt in t)return t;throw z(t+" is not a typed array!")},Pt=function(t,e){if(!w(t)||!(yt in t))throw z("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return At(C(t,t[gt]),e)},At=function(t,e){for(var n=0,r=e.length,i=Pt(t,r);r>n;)i[n]=e[n++];return i},Rt=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},Bt=function(t){var e,n,r,i,o,a,s=x(t),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,h=T(s);if(null!=h&&!k(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),e=0,n=v(s.length),i=Pt(this,n);n>e;e++)i[e]=f?l(s[e],e):s[e];return i},Lt=function(){for(var t=0,e=arguments.length,n=Pt(this,e);e>t;)n[t]=arguments[t++];return n},Ct=!!$&&o((function(){pt.call(new $(1))})),Dt=function(){return pt.apply(Ct?ft.call(Et(this)):Et(this),arguments)},It={copyWithin:function(t,e){return U.call(Et(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return M.apply(Et(this),arguments)},filter:function(t){return Tt(this,K(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){X(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Et(this),arguments)},lastIndexOf:function(t){return at.apply(Et(this),arguments)},map:function(t){return wt(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Et(this),arguments)},reduceRight:function(t){return ut.apply(Et(this),arguments)},reverse:function(){for(var t,e=Et(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return J(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(Et(this),t)},subarray:function(t,e){var n=Et(this),r=n.length,i=g(t,r);return new(C(n,n[gt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:g(e,r))-i))}},Ot=function(t,e){return Tt(this,ft.call(Et(this),t,e))},Nt=function(t){Et(this);var e=St(arguments[1],1),n=this.length,r=x(t),i=v(r.length),o=0;if(i+e>n)throw W("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Mt={entries:function(){return ot.call(Et(this))},keys:function(){return it.call(Et(this))},values:function(){return rt.call(Et(this))}},Ut=function(t,e){return w(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},jt=function(t,e){return Ut(t,e=m(e,!0))?f(2,t[e]):H(t,e)},Ft=function(t,e,n){return!(Ut(t,e=m(e,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};mt||(F.f=jt,j.f=Ft),a(a.S+a.F*!mt,"Object",{getOwnPropertyDescriptor:jt,defineProperty:Ft}),o((function(){ht.call({})}))&&(ht=pt=function(){return ct.call(this)});var Vt=p({},It);p(Vt,Mt),h(Vt,dt,Mt.values),p(Vt,{slice:Ot,set:Nt,constructor:function(){},toString:ht,toLocaleString:Dt}),Rt(Vt,"buffer","b"),Rt(Vt,"byteOffset","o"),Rt(Vt,"byteLength","l"),Rt(Vt,"length","e"),V(Vt,vt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,p="set"+t,d=i[c],g=d||{},m=d&&E(d),b=!d||!s.ABV,x={},k=d&&d.prototype,T=function(t,n){V(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,xt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,xt)}(this,n,t)},enumerable:!0})};b?(d=n((function(t,n,r,i){l(t,d,c,"_d");var o,a,s,u,f=0,p=0;if(w(n)){if(!(n instanceof Y||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return bt in n?At(d,n):Bt.call(d,n);o=n,p=St(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw W("Wrong length!");if((a=g-p)<0)throw W("Wrong length!")}else if((a=v(i)*e)+p>g)throw W("Wrong length!");s=a/e}else s=y(n),o=new Y(a=s*e);for(h(t,"_d",{b:o,o:p,l:a,e:s,v:new q(o)});f<s;)T(t,f++)})),k=d.prototype=S(Vt),h(k,"constructor",d)):o((function(){d(1)}))&&o((function(){new d(-1)}))&&O((function(t){new d,new d(null),new d(1.5),new d(t)}),!0)||(d=n((function(t,n,r,i){var o;return l(t,d,c),w(n)?n instanceof Y||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,St(r,e),i):void 0!==r?new g(n,St(r,e)):new g(n):bt in n?At(d,n):Bt.call(d,n):new g(y(n))})),X(m!==Function.prototype?P(g).concat(P(m)):P(g),(function(t){t in d||h(d,t,g[t])})),d.prototype=k,r||(k.constructor=d));var A=k[dt],R=!!A&&("values"==A.name||null==A.name),B=Mt.values;h(d,yt,!0),h(k,bt,c),h(k,_t,!0),h(k,gt,d),(u?new d(1)[vt]==c:vt in k)||V(k,vt,{get:function(){return c}}),x[c]=d,a(a.G+a.W+a.F*(d!=g),x),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){g.of.call(d,1)})),c,{from:Bt,of:Lt}),"BYTES_PER_ELEMENT"in k||h(k,"BYTES_PER_ELEMENT",e),a(a.P,c,It),N(c),a(a.P+a.F*kt,c,{set:Nt}),a(a.P+a.F*!R,c,Mt),r||k.toString==ht||(k.toString=ht),a(a.P+a.F*o((function(){new d(1).slice()})),c,{slice:Ot}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!o((function(){k.toLocaleString.call([1,2])}))),c,{toLocaleString:Dt}),I[c]=R?A:B,r||R||h(k,dt,B)}}else t.exports=function(){}},function(t,e,n){function r(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var r=n(n.s=ENTRY_MODULE);return r.default||r}function i(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,e,r){var o={};o[r]=[];var a=e.toString(),s=a.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return o;for(var u,c=s[1],l=new RegExp("(\\\\n|\\W)"+i(c)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");u=l.exec(a);)"dll-reference"!==u[3]&&o[r].push(u[3]);for(l=new RegExp("\\("+i(c)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");u=l.exec(a);)t[u[2]]||(o[r].push(u[1]),t[u[2]]=n(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);for(var f,h=Object.keys(o),p=0;p<h.length;p++)for(var d=0;d<o[h[p]].length;d++)f=o[h[p]][d],isNaN(1*f)||(o[h[p]][d]=1*o[h[p]][d]);return o}function a(t){return Object.keys(t).reduce((function(e,n){return e||t[n].length>0}),!1)}t.exports=function(t,e){e=e||{};var i={main:n.m},s=e.all?{main:Object.keys(i.main)}:function(t,e){for(var n={main:[e]},r={main:[]},i={main:{}};a(n);)for(var s=Object.keys(n),u=0;u<s.length;u++){var c=s[u],l=n[c].pop();if(i[c]=i[c]||{},!i[c][l]&&t[c][l]){i[c][l]=!0,r[c]=r[c]||[],r[c].push(l);for(var f=o(t,t[c][l],c),h=Object.keys(f),p=0;p<h.length;p++)n[h[p]]=n[h[p]]||[],n[h[p]]=n[h[p]].concat(f[h[p]])}}return r}(i,t),u="";Object.keys(s).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;s[t][e];)e++;s[t].push(e),i[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s[t].map((function(e){return JSON.stringify(e)+": "+i[t][e].toString()})).join(",")+"});\n"})),u=u+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s.main.map((function(t){return JSON.stringify(t)+": "+i.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([u],{type:"text/javascript"});if(e.bare)return c;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),f=new window.Worker(l);return f.objectURL=l,f}},function(t,e,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){var t=function(){},e={},n={},r={};function i(t,e){if(t){var i=r[t];if(n[t]=e,i)for(;i.length;)i[0](t,e),i.splice(0,1)}}function o(e,n){e.call&&(e={success:e}),n.length?(e.error||t)(n):(e.success||t)(e)}function a(e,n,r,i){var o,s,u=document,c=r.async,l=(r.numRetries||0)+1,f=r.before||t,h=e.replace(/[\?|#].*$/,""),p=e.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(h)?((s=u.createElement("link")).rel="stylesheet",s.href=p,(o="hideFocus"in s)&&s.relList&&(o=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(s=u.createElement("img")).src=p:((s=u.createElement("script")).src=e,s.async=void 0===c||c),s.onload=s.onerror=s.onbeforeload=function(t){var u=t.type[0];if(o)try{s.sheet.cssText.length||(u="e")}catch(t){18!=t.code&&(u="e")}if("e"==u){if((i+=1)<l)return a(e,n,r,i)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";n(e,u,t.defaultPrevented)},!1!==f(e,s)&&u.head.appendChild(s)}function s(t,n,r){var s,u;if(n&&n.trim&&(s=n),u=(s?r:n)||{},s){if(s in e)throw"LoadJS";e[s]=!0}function c(e,n){!function(t,e,n){var r,i,o=(t=t.push?t:[t]).length,s=o,u=[];for(r=function(t,n,r){if("e"==n&&u.push(t),"b"==n){if(!r)return;u.push(t)}--o||e(u)},i=0;i<s;i++)a(t[i],r,n)}(t,(function(t){o(u,t),e&&o({success:e,error:n},t),i(s,t)}),u)}if(u.returnPromise)return new Promise(c);c()}return s.ready=function(t,e){return function(t,e){t=t.push?t:[t];var i,o,a,s=[],u=t.length,c=u;for(i=function(t,n){n.length&&s.push(t),--c||e(s)};u--;)o=t[u],(a=n[o])?i(o,a):(r[o]=r[o]||[]).push(i)}(t,(function(t){o(e,t)})),s},s.done=function(t){i(t,[])},s.reset=function(){e={},n={},r={}},s.isDefined=function(t){return t in e},s})?r.apply(e,i):r)||(t.exports=o)},function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},function(t,e,n){"use strict";
/*! @name @videojs/vhs-utils @version 1.3.0 @license MIT */var r=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,r=0;r<n;++r)e[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,i)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}();t.exports=r},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(62)("meta"),i=n(16),o=n(33),a=n(23).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(14)((function(){return u(Object.preventExtensions({}))})),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,r)&&l(t),t}}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){!function(){"use strict";function e(t,e){throw new Error("abstract")}e.prototype.drawFrame=function(t){throw new Error("abstract")},e.prototype.clear=function(){throw new Error("abstract")},t.exports=e}()},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(190),i=n(162);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(45),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(15),i=n(191),o=n(162),a=n(161)("IE_PROTO"),s=function(){},u=function(){var t,e=n(159)("iframe"),r=o.length;for(e.style.display="none",n(163).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(190),i=n(162).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(33),i=n(25),o=n(161)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(17)("unscopables"),i=Array.prototype;null==i[r]&&n(34)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){var n={validateDimension:function(t){if(t<=0||t!==(0|t))throw"YUV plane dimensions must be a positive integer"},validateOffset:function(t){if(t<0||t!==(0|t))throw"YUV plane offsets must be a non-negative integer"},format:function(t){var e=t.width,n=t.height,r=t.chromaWidth||e,i=t.chromaHeight||n,o=t.cropLeft||0,a=t.cropTop||0,s=t.cropWidth||e-o,u=t.cropHeight||n-a,c=t.displayWidth||s,l=t.displayHeight||u;return this.validateDimension(e),this.validateDimension(n),this.validateDimension(r),this.validateDimension(i),this.validateOffset(o),this.validateOffset(a),this.validateDimension(s),this.validateDimension(u),this.validateDimension(c),this.validateDimension(l),{width:e,height:n,chromaWidth:r,chromaHeight:i,cropLeft:o,cropTop:a,cropWidth:s,cropHeight:u,displayWidth:c,displayHeight:l}},allocPlane:function(t,e){return n.validateDimension(t),n.validateDimension(e),{bytes:new Uint8Array(t*e),stride:t}},suitableStride:function(t){n.validateDimension(t);var e=t%4;return 0==e?t:t+(4-e)},allocPlane:function(t,e,n,r,i){var o,a;if(this.validateDimension(t),this.validateDimension(e),i=i||0,r=r||this.suitableStride(t),this.validateDimension(r),r<t)throw"Invalid input stride for YUV plane; must be larger than width";if(o=r*e,n){if(n.length-i<o)throw"Invalid input buffer for YUV plane; must be large enough for stride times height";a=n.slice(i,i+o)}else a=new Uint8Array(o),r=r||this.suitableStride(t);return{bytes:a,stride:r}},lumaPlane:function(t,e,n,r){return this.allocPlane(t.width,t.height,e,n,r)},chromaPlane:function(t,e,n,r){return this.allocPlane(t.chromaWidth,t.chromaHeight,e,n,r)},frame:function(t,e,n,r){return{format:t,y:e=e||this.lumaPlane(t),u:n=n||this.chromaPlane(t),v:r=r||this.chromaPlane(t)}},copyPlane:function(t){return{bytes:t.bytes.slice(),stride:t.stride}},copyFrame:function(t){return{format:t.format,y:this.copyPlane(t.y),u:this.copyPlane(t.u),v:this.copyPlane(t.v)}},transferables:function(t){return[t.y.bytes.buffer,t.u.bytes.buffer,t.v.bytes.buffer]}};t.exports=n},function(t,e,n){var r=n(149),i=n(150),o=n(151),a=n(153);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()}},function(t,e,n){var r=n(23).f,i=n(33),o=n(17)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(8),i=n(51),o=n(14),a=n(165),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,n){var i={},s=o((function(){return!!a[t]()||"‚Äã¬Ö"!="‚Äã¬Ö"[t]()})),u=i[t]=s?e(f):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(13),i=n(23),o=n(22),a=n(17)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(28);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(113),i=n(114),o=n(115);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,r){return H(F(e,t.length-n),t,n,r)}function w(t,e,n,r){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return w(t,e,n,r)}function k(t,e,n,r){return H(V(e),t,n,r)}function S(t,e,n,r){return H(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):v.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=j(t[o]);return i}function B(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function O(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,o){return o||O(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,o){return o||O(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:F(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(36))},function(t,e,n){"use strict";t.exports=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,e(i=t[a],o)){if(a===n){n++;continue}t[n++]=i}return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,(r=t[o])!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}(t))}},function(t,e,n){"use strict";var r=n(122);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(t){var e=new i;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var o=0;o<n.length;++o){var a=n[o];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[o]="array",e.arrayArgs.push(o),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(o),e.shimArgs.push("scalar"+o);else if("index"===a){if(e.indexArgs.push(o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(o),o<e.pre.args.length&&e.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<e.post.args.length&&e.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[o]);e.argTypes[o]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(o)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,r(e)}},function(t,e,n){"use strict";var r=n(38),i=n(37),o=n(83),a=n(125);t.exports=function(t,e,n){var s,u,c=e.shape,l=c.length,f=1,h=new Array(l),p=0;for(s=l-1;s>=0;--s)if(h[s]=f,f*=c[s],p=Math.max(p,a.scratchMemory(c[s])),e.shape[s]!==n.shape[s])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var d,v=4*f+p;d="array"===e.dtype||"float64"===e.dtype||"custom"===e.dtype?o.mallocDouble(v):o.mallocFloat(v);var y,g,m,b,_=i(d,c.slice(0),h,0),w=i(d,c.slice(0),h.slice(0),f),x=i(d,c.slice(0),h.slice(0),2*f),k=i(d,c.slice(0),h.slice(0),3*f),S=4*f;for(r.assign(_,e),r.assign(w,n),s=l-1;s>=0&&(a(t,f/c[s],c[s],d,_.offset,w.offset,S),0!==s);--s){for(g=1,m=x.stride,b=k.stride,u=s-1;u<l;++u)b[u]=m[u]=g,g*=c[u];for(u=s-2;u>=0;--u)b[u]=m[u]=g,g*=c[u];r.assign(x,_),r.assign(k,w),y=_,_=x,x=y,y=w,w=k,k=y}r.assign(e,_),r.assign(n,w),o.free(d)}},function(t,e,n){"use strict";(function(t){var r=n(84),i=n(124),o=n(79).Buffer;t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,u="undefined"!=typeof BigInt64Array,c=t.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=i([32,0])),c.BIGUINT64||(c.BIGUINT64=i([32,0])),c.BIGINT64||(c.BIGINT64=i([32,0])),c.BUFFER||(c.BUFFER=i([32,0]));var l=c.DATA,f=c.BUFFER;function h(t){if(t){var e=t.length||t.byteLength,n=r.log2(e);l[n].push(t)}}function p(t){t=r.nextPow2(t);var e=r.log2(t),n=l[e];return n.length>0?n.pop():new ArrayBuffer(t)}function d(t){return new Uint8Array(p(t),0,t)}function v(t){return new Uint16Array(p(2*t),0,t)}function y(t){return new Uint32Array(p(4*t),0,t)}function g(t){return new Int8Array(p(t),0,t)}function m(t){return new Int16Array(p(2*t),0,t)}function b(t){return new Int32Array(p(4*t),0,t)}function _(t){return new Float32Array(p(4*t),0,t)}function w(t){return new Float64Array(p(8*t),0,t)}function x(t){return a?new Uint8ClampedArray(p(t),0,t):d(t)}function k(t){return s?new BigUint64Array(p(8*t),0,t):null}function S(t){return u?new BigInt64Array(p(8*t),0,t):null}function E(t){return new DataView(p(t),0,t)}function P(t){t=r.nextPow2(t);var e=r.log2(t),n=f[e];return n.length>0?n.pop():new o(t)}e.free=function(t){if(o.isBuffer(t))f[r.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|r.log2(e);l[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){h(t.buffer)},e.freeArrayBuffer=h,e.freeBuffer=function(t){f[r.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return p(t);switch(e){case"uint8":return d(t);case"uint16":return v(t);case"uint32":return y(t);case"int8":return g(t);case"int16":return m(t);case"int32":return b(t);case"float":case"float32":return _(t);case"double":case"float64":return w(t);case"uint8_clamped":return x(t);case"bigint64":return S(t);case"biguint64":return k(t);case"buffer":return P(t);case"data":case"dataview":return E(t);default:return null}return null},e.mallocArrayBuffer=p,e.mallocUint8=d,e.mallocUint16=v,e.mallocUint32=y,e.mallocInt8=g,e.mallocInt16=m,e.mallocInt32=b,e.mallocFloat32=e.mallocFloat=_,e.mallocFloat64=e.mallocDouble=w,e.mallocUint8Clamped=x,e.mallocBigUint64=k,e.mallocBigInt64=S,e.mallocDataView=E,e.mallocBuffer=P,e.clearCache=function(){for(var t=0;t<32;++t)c.UINT8[t].length=0,c.UINT16[t].length=0,c.UINT32[t].length=0,c.INT8[t].length=0,c.INT16[t].length=0,c.INT32[t].length=0,c.FLOAT[t].length=0,c.DOUBLE[t].length=0,c.BIGUINT64[t].length=0,c.BIGINT64[t].length=0,c.UINT8C[t].length=0,l[t].length=0,f[t].length=0}}).call(this,n(36))},function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){"use strict";t.exports={printThreshold:7,nFloatingValues:5}},function(t,e,n){"use strict";t.exports={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array}},function(t,e,n){"use strict";var r=n(37),i=n(18),o=n(49),a=n(134);t.exports=function(t){if(t instanceof HTMLCanvasElement)return function(t){var e=t.getContext("2d").getImageData(0,0,t.width,t.height),n=[t.width,t.height,4],o=[4,4*t.width,1],s=r(new Uint8Array(e.data),n,o,0).transpose(1,0);a(s)&&(s=s.pick(null,null,0));return new i(s)}(t);if(t instanceof HTMLImageElement)return function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0);var o=n.getImageData(0,0,t.width,t.height),s=[t.width,t.height,4],u=[4,4*t.width,1],c=r(new Uint8Array(o.data),s,u,0).transpose(1,0);a(c)&&(c=c.pick(null,null,0));return new i(c)}(t);throw new o.ValueError("expect input to be either an HTML Canvas or a (loaded) Image")}},function(t,e,n){"use strict";var r=n(18);t.exports.getRawData=function(t){var e,n;t instanceof r&&(t=t.selection);var i=0,o=t.shape,a=o[0],s=o[1],u=o[2]||1,c=new Uint8Array(a*s*u);if(3===t.shape.length)if(3===u)for(e=0;e<a;++e)for(n=0;n<s;++n)c[i++]=t.get(e,n,0),c[i++]=t.get(e,n,1),c[i++]=t.get(e,n,2);else if(4===u)for(e=0;e<a;++e)for(n=0;n<s;++n)c[i++]=t.get(e,n,0),c[i++]=t.get(e,n,1),c[i++]=t.get(e,n,2),c[i++]=t.get(e,n,3);else{if(1!==u)return new Error("Incompatible array shape");for(e=0;e<a;++e)for(n=0;n<s;++n)c[i++]=t.get(e,n,0)}else{if(2!==t.shape.length)return new Error("Invalid image");for(e=0;e<a;++e)for(n=0;n<s;++n)c[i++]=t.get(e,n)}return c},t.exports.setRawData=function(t,e){var n,r,i,o=0,a=t.shape[0],s=t.shape[1],u=t.shape[2]||1;if(3===t.shape.length)if(3===u)for(n=0;n<a;++n)for(r=0;r<s;++r)e[o++]=t.get(n,r,0),e[o++]=t.get(n,r,1),e[o++]=t.get(n,r,2),e[o++]=255;else if(4===u)for(n=0;n<a;++n)for(r=0;r<s;++r)e[o++]=t.get(n,r,0),e[o++]=t.get(n,r,1),e[o++]=t.get(n,r,2),e[o++]=t.get(n,r,3);else{if(1!==u)return new Error("Incompatible array shape");for(n=0;n<a;++n)for(r=0;r<s;++r)i=t.get(n,r,0),e[o++]=i,e[o++]=i,e[o++]=i,e[o++]=255}else{if(2!==t.shape.length)return new Error("Invalid image");for(n=0;n<a;++n)for(r=0;r<s;++r)i=t.get(n,r),e[o++]=i,e[o++]=i,e[o++]=i,e[o++]=255}}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){var o=e-1,a=e+r-1,s=t-1,u=t+n-1;return 0!==e&&0!==t?i.selection.get(s,o)-i.selection.get(u,o)-i.selection.get(s,a)+i.selection.get(u,a):0===e&&0===t?i.selection.get(t+n-1,e+r-1):0===e?-i.selection.get(s,e+r-1)+i.selection.get(t+n-1,e+r-1):-i.selection.get(u,o)+i.selection.get(u,a)}},function(t,e,n){var r=n(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(50),i=n(17)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(15),i=n(44),o=n(17)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},function(t,e,n){"use strict";(function(e){var r,i=(r=n(116))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=function(t){for(var n,r=(n=t,i.atob?i.atob(n):e.from(n,"base64").toString("binary")),o=new Uint8Array(r.length),a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return o}}).call(this,n(79).Buffer)},function(t,e,n){!function(){"use strict";var e=n(60),r=n(143),i=n(146),o={FrameSink:e,SoftwareFrameSink:r,WebGLFrameSink:i,attach:function(t,e){return("webGL"in(e=e||{})?e.webGL:i.isAvailable())?new i(t,e):new r(t,e)}};t.exports=o}()},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function h(){}function p(){}var d={};d[i]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&n.call(y,i)&&(d=y);var g=p.prototype=f.prototype=Object.create(d);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=g.constructor=p,p.constructor=h,h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),s(g,a,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var r=n(21),i=n(13),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(63)?"pure":"global",copyright:"¬© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(35),i=n(19),o=n(65);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(50);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(17)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(15);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(92),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(208);var r=n(28),i=n(34),o=n(14),a=n(51),s=n(17),u=n(180),c=s("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=s(t),p=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),d=p?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!e})):void 0;if(!p||!d||"replace"===t&&!l||"split"===t&&!f){var v=/./[h],y=n(a,h,""[t],(function(t,e,n,r,i){return e.exec===u?p&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),g=y[0],m=y[1];r(String.prototype,t,g),i(RegExp.prototype,h,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},function(t,e,n){var r=n(43),i=n(203),o=n(175),a=n(15),s=n(19),u=n(177),c={},l={};(e=t.exports=function(t,e,n,f,h){var p,d,v,y,g=h?function(){return t}:u(t),m=r(n,f,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=s(t.length);p>b;b++)if((y=e?m(a(d=t[b])[0],d[1]):m(t[b]))===c||y===l)return y}else for(v=g.call(t);!(d=v.next()).done;)if((y=i(v,m,d.value,e))===c||y===l)return y}).BREAK=c,e.RETURN=l},function(t,e,n){var r=n(13).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(13),i=n(8),o=n(28),a=n(78),s=n(58),u=n(106),c=n(77),l=n(16),f=n(14),h=n(102),p=n(73),d=n(166);t.exports=function(t,e,n,v,y,g){var m=r[t],b=m,_=y?"set":"add",w=b&&b.prototype,x={},k=function(t){var e=w[t];o(w,t,"delete"==t||"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(g||w.forEach&&!f((function(){(new b).entries().next()})))){var S=new b,E=S[_](g?{}:-0,1)!=S,P=f((function(){S.has(1)})),T=h((function(t){new b(t)})),A=!g&&f((function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)}));T||((b=e((function(e,n){c(e,b,t);var r=d(new m,e,b);return null!=n&&u(n,y,r[_],r),r}))).prototype=w,w.constructor=b),(P||A)&&(k("delete"),k("has"),y&&k("get")),(A||E)&&k(_),g&&w.clear&&delete w.clear}else b=v.getConstructor(e,t,y,_),a(b.prototype,n),s.NEED=!0;return p(b,t),x[t]=b,i(i.G+i.W+i.F*(b!=m),x),g||v.setStrong(b,t,y),b}},function(t,e,n){for(var r,i=n(13),o=n(34),a=n(62),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[h[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){"use strict";n.r(e);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(1),u=n.n(s),c=n(6),l=n.n(c),f=n(7),h=n.n(f),p=n(3),d=n.n(p),v=n(0),y=n.n(v),g=n(27),m=n.n(g),b=n(32),_=n.n(b),w=n(11);function x(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S=w.a.get("Events.js"),E=function(){function t(e){i()(this,t),y()(this,"eventsQueue",{}),y()(this,"target",{}),y()(this,"disallowRepeat",!1),this.target=e}return a()(t,[{key:"add",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=x(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.on(o,n,r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"on",value:function(t,e,n){if(void 0===this.eventsQueue[t]&&(this.eventsQueue[t]={methods:[],once:!1}),"function"==typeof e){if(!this.disallowRepeat||!this.eventsQueue[t].methods.includes(e))return this.eventsQueue[t].methods.push(e),void 0!==n&&(this.eventsQueue[t].once=n),this.target}else S.error("on","the argument is not function.",e)}},{key:"once",value:function(t,e){this.on(t,e,!0)}},{key:"off",value:function(t,e){var n=this.eventsQueue[t];if(n){var r=n.methods;if(e)for(var i=r.length;i--;)r[i]===e&&r.splice(i,1);else delete this.eventsQueue[t];return this.target}}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this.eventsQueue[t];if(o){var a=o.methods;return a.forEach((function(t){t.apply(e.target,r)})),o.once&&this.off(t),this.target}}},{key:"clear",value:function(t){delete this.eventsQueue[t]}},{key:"clearAll",value:function(){this.eventsQueue={}}}]),t}(),P=function(t){var e=new E(t);return function(t){return e.target=t,e}},T=n(12),A=n.n(T),R=w.a.get("Element.js"),B=function(){function t(){i()(this,t)}return a()(t,null,[{key:"createEl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1?arguments[1]:void 0;if("string"!=typeof t)return R.error("please input element name"),null;var n=document.createElement(t,e);return n}},{key:"registerElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HTMLElement,n=arguments.length>2?arguments[2]:void 0,r=document.registerElement(t,{prototype:Object.create(e.prototype),extends:n});return r}},{key:"addEl",value:function(t,e){if(t&&e)try{e.appendChild(t)}catch(t){R.error(t)}}},{key:"removeEl",value:function(t){try{var e=t.parentNode;e&&e.removeChild(t)}catch(t){R.error(t)}}},{key:"addClass",value:function(t){try{for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=t.classList).add.apply(e,r)}catch(t){R.error(t)}}},{key:"removeClass",value:function(){}},{key:"hasClass",value:function(){}},{key:"isElement",value:function(t){try{return t instanceof HTMLElement}catch(e){return"object"===A()(t)&&1===t.nodeType&&"object"===A()(t.style)&&"object"===A()(t.ownerDocument)}}},{key:"setAttributes",value:function(e,n){if(t.isElement(e))for(var r=0,i=n.length;r<i;r++){var o=n[r],a=o.name;a=o.name.replace(/["|']/g,""),e.setAttribute(a,o.value)}}},{key:"syncAttributes",value:function(e,n){var r=n.attributes;t.setAttributes(e,r);var i=e.attributes;t.setAttributes(n,i)}},{key:"getClientWidth",value:function(){return document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth}},{key:"getClientHeight",value:function(){return document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight}},{key:"adaptSizeElement",value:function(t,e,n,r){var i=n,o=r;o.width=t||o.width||i.offsetWidth,o.height=e||o.height||i.offsetHeight;var a=o.width,s=o.height,u=0;o.style.position="absolute",i.offsetWidth<=0&&(i.style.width=a+"px"),i.offsetHeight<=0&&(i.style.height=s+"px");var c=i.offsetWidth/a,l=i.offsetHeight/s;u=l>c?c:l,o.style.top=i.offsetTop+(i.offsetHeight-s*u)/2+"px",o.style.left=i.offsetLeft+(i.offsetWidth-a*u)/2+"px",o.style.transform="scale(".concat(u,", ").concat(u,")"),o.style["transform-origin"]="top left",o.style.display="inline-block"}}]),t}(),L=n(30),C=n.n(L),D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(this,t),y()(this,"logger",null),y()(this,"__instance__",null),y()(this,"__singleton__",null),this.options=e,this.setLogger(this.constructor.name+".js")}return a()(t,[{key:"setLogger",value:function(t){this.logger=new w.a(t)}},{key:"getLogger",value:function(){return this.logger}},{key:"setOptions",value:function(t){Object.assign(this.options,t)}},{key:"toString",value:function(){return JSON.stringify(this)}},{key:"events",get:function(){return this.options&&this.options.events?this.options.events(this):P(this)}}],[{key:"getInstance",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.__instance__=C()(this,e),this.__instance__}},{key:"getSingleton",value:function(){if(!this.__singleton__){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.__singleton__=C()(this,e)}return this.__singleton__}}]),t}();function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var O=function(t){l()(n,t);var e=I(n);function n(t){var r;return i()(this,n),r=e.call(this),y()(u()(r),"component",null),r.component=t.component,r}return a()(n,[{key:"confirm",value:function(){}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.component.data.content=t,"default"!==this.component.data.display&&""!==this.component.data.display||this.component.showBox(),"show"!==this.component.data.display&&this.component.show()}},{key:"hide",value:function(){this.component.hide()}}]),n}(D),N=n(26),M=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(this,t),y()(this,"logger",null),this.options=e,this.debug=e.debug||!1,this.setLogger(this.constructor.name+".js")}return a()(t,[{key:"setLogger",value:function(t){this.logger=new w.a(t)}},{key:"getLogger",value:function(){return this.logger}},{key:"setOptions",value:function(t){Object.assign(this.options,t)}},{key:"toString",value:function(){return JSON.stringify(this)}},{key:"events",get:function(){return this.options&&this.options.events?this.options.events(this):P(this)}},{key:"alert",get:function(){var t="";return this.options&&this.options.alertError&&(t=this.options.alertError),t}}]),t}(),U=n(10);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var F=function(t){l()(n,t);var e=j(n);function n(){var t;return i()(this,n),t=e.call(this),y()(u()(t),"loadData",null),y()(u()(t),"sourceURL",""),t}return a()(n,[{key:"init",value:function(){}},{key:"setLoadData",value:function(t){this.loadData=t}},{key:"setSourceURL",value:function(t){this.sourceURL=t}},{key:"getLoadData",value:function(){return this.getLoadData}},{key:"getSourceURL",value:function(){return this.getSourceURL}}]),n}(M),V={LOAD_PLAYLIST:10,get 10(){return"loading playlist"},LOADED_PLAYLIST:11,get 11(){return"playlist is loaded"},IDLE:0,get 0(){return"is free"},LOADING:1,get 1(){return"loading segment"},DONE:2,get 2(){return"segment is loaded"},ERROR:3,get 3(){return"load get error"}},H=w.a.get("M3U8Parser.js",{level:2}),W={lineDelimiter:/\r?\n/,extensionHeader:"#EXTM3U",tagPrefix:"#EXT",segmentPrefix:"#EXTINF",segmentParse:/^#EXTINF: *([0-9.]+)(, *(.+?)?)?$/,tagParse:/^#EXT-X-([A-Z-]+)(:(.+))?$/,version:"VERSION",allowCache:"ALLOW-CACHE",combined:"COMBINED",endList:"ENDLIST",targetDuration:"TARGETDURATION",mediaSequence:"MEDIA-SEQUENCE",discontinuity:"DISCONTINUITY",streamInf:"STREAM-INF",isComment:function(t){return t&&"#"===t[0]&&!t.startsWith(W.tagPrefix)},isBlank:function(t){return""===t},canStrip:function(t){return W.isBlank(t)||W.isComment(t)}},z=0,$=1,G={file:void 0,name:void 0,start:0,end:0,discontinuity:void 0,duration:void 0},Y=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i()(this,t),y()(this,"source",""),y()(this,"segments",[]),y()(this,"_currentSegment",null),y()(this,"discontinuous",null),y()(this,"tags",{VERSION:void 0,TARGETDURATION:void 0}),y()(this,"_state",null),this.source=e,this.options=n,this.parse(this.source)}return a()(t,[{key:"readSegment",value:function(t){var e=W.segmentParse.exec(t);if(null!==e){var n=parseFloat(e[1],10),r=e[3];n%1!=0&&this.tags.VERSION>=3&&H.info("readsegment","Version must be 3 or higher to support floating.","duration:",n),n<this.tags.TARGETDURATION&&H.info("readsegment","Segment duration must be less than the TARGETDURATION","duration:",n),n*=1e3,this._currentSegment=Object.assign({},G,{duration:n,name:r,discontinuity:this.discontinuous});var i=this.segments[this.segments.length-1]||{start:0,end:0};this._currentSegment.start=i.end,this._currentSegment.end=i.end+n,this.discontinuous=!1,this._state=$}else H.warn("readsegment","read segment failed","line:",t)}},{key:"readTag",value:function(t){var e=W.tagParse.exec(t);if(null!==e)return{name:e[1],value:e[3]}}},{key:"readLine",value:function(t){if(t.startsWith(W.segmentPrefix))return this.readSegment(t);var e=this.readTag(t);if(e)switch(e.name){case W.version:this.tags.VERSION=parseFloat(e.value,10);break;case W.mediaSequence:this.tags.MEDIA_SEQUENCE=parseFloat(e.value,10);break;case W.allowCache:this.tags.ALLOW_CACHE=!!/\s*(YES|yes)\s*/.test(e.value);break;case W.discontinuity:this.tags.DISCONTINUITY=!0,this.discontinuous=!0;break;case W.targetDuration:this.tags.TARGETDURATION=parseFloat(e.value,10);break;case W.combined:this.tags.COMBINED=e.value;break;case W.streamInf:this.tags.STREAM_INF=e.value;break;case W.endList:this.tags.ENDLIST="EOF";break;default:H.warn("readLine","unknow line","line:",t)}}},{key:"addFile",value:function(t){if("#"!==t[0]){this._currentSegment.file=t;var e=this.parseSDParam(t);if(e>=0){this._currentSegment.start=e,this._currentSegment.end=e+this._currentSegment.duration;var n=this.segments[this.segments.length-1]||{sd:0,start:0,end:0};n.duration=e-n.start,n.end=e}this._currentSegment.name||(this._currentSegment.name=t.substr(Math.max(0,t.lastIndexOf("/")),t.lastIndexOf("."))),this.segments.push(this._currentSegment),this._state=z}else{var r=this.readTag(t);switch(r.name){case"PROGRAM-DATE-TIME":var i=new Date(r.value);this._currentSegment.time=i;break;default:H.warn("addFile","Invalid tag.","tag.name:",r.name)}}}},{key:"parseSDParam",value:function(t){var e=-1;try{var n=new URL(t).searchParams.get("sd");n&&(e=parseInt(n,10))}catch(t){}return e}},{key:"parse",value:function(t){var e=this;if("string"==typeof(t=t||this.source)){this._state=z,this.discontinuous=!1;var n=t.split(W.lineDelimiter);if(n[0]==W.extensionHeader)return n.forEach((function(t){if(!W.canStrip(t))switch(e._state){case z:e.readLine(t);break;case $:e.addFile(t);break;default:Object(N.a)("parsing m3u8 get an error, it is unknow state.")}})),this;H.error("parse","it is not a valid  m3u8 header","header:",n[0])}else Object(N.a)("m3u8 file is not text.",t)}},{key:"version",get:function(){return this.tags.VERSION}},{key:"duration",get:function(){return this.segments.length?this.segments.reduce((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n="number"==typeof t?t:t.duration;return n+e.duration})):0}},{key:"targetDuration",get:function(){return this.tags.TARGETDURATION}},{key:"mediaSequence",get:function(){return this.tags.MEDIA_SEQUENCE}},{key:"allowCache",get:function(){return this.tags.ALLOW_CACHE}},{key:"length",get:function(){return this.segments.length}}]),t}(),q=n(54),X=n.n(q);function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Object";return function(e){var n="[object "+t+"]";return Object.prototype.toString.call(e)==n}}var J=function(){function t(){i()(this,t)}return a()(t,null,[{key:"importScripts",value:function(t,e,n){var r="ready"+Date.now();t instanceof Array?X()(t,r):X()([t],r),X.a.ready(r,{success:e,error:n})}},{key:"blobData",value:function(t){var e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}},{key:"escapeHTML",value:function(e){if(t.isString(e))return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{key:"getInnerWidthHeight",value:function(){return{width:window.innerWidth,height:window.innerHeight}}},{key:"Fullscreen",value:function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&(t.webkitRequestFullScreen(),setTimeout((function(){console.error("fullscreen success"),document.dispatchEvent(new Event("fullscreenchange"))}),0))}},{key:"exitFullscreen",value:function(){var t=document;t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&(t.webkitExitFullscreen(),setTimeout((function(){console.error("exitfullscreen success"),document.dispatchEvent(new Event("fullscreenchange"))}),0))}},{key:"buildFilePath",value:function(t,e){return t.map((function(t){return e+t}))}},{key:"insertSort",value:function(t,e,n){var r,i,o=t.length;if(0!==o)if(n){var a=n(e);r=a.key,i=a.value;for(var s=0;s<o;s++)if(i<t[s][r]){for(var u=o;u>s;)t[u]=t[u-1],u--;return void(t[s]=e)}t.push(e)}else{i=e;for(var c=0;c<o;c++)if(i<t[c]){for(var l=o;l>c;)t[l]=t[l-1],l--;return void(t[c]=i)}t.push(i)}else t.push(e)}},{key:"isSafari",value:function(){var t=navigator.userAgent;return/Safari/.test(t)&&!/Chrome/.test(t)}},{key:"msec2sec",value:function(t){var e=(t/1e3).toFixed(3);return parseFloat(e,10)}}]),t}();y()(J,"isObject",(function(){return K("Object")})),y()(J,"isString",(function(){return K("String")})),y()(J,"isFunction",(function(){return K("Function")}));var Q=n(42),Z=n.n(Q);function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var et=function(t){l()(n,t);var e=tt(n);function n(){return i()(this,n),e.call(this)}return a()(n,[{key:"add",value:function(t){this.push(Object.freeze(t))}},{key:"addAll",value:function(t){var e=this;t.forEach((function(t){e.add(t)}))}},{key:"get",value:function(t){return this[t]}},{key:"getLast",value:function(){return this[this.length-1]}},{key:"getBy",value:function(t){var e=this;if("function"==typeof t){var n=new this.constructor;return this.every((function(r,i){return!0===t.call(e,r,i,e)&&n.add(r),!0})),n}}},{key:"indexOfByTime",value:function(t,e){e||(e=function(e){return t>=e.start&&t<e.end});for(var n=this.length-1,r=0;r<=n;){var i=Math.floor((n+r)/2),o=this[i];if(e(o))return i;o.start>t?n=i-1:r=i+1}return-1}},{key:"getByTime",value:function(t){var e=this.indexOfByTime(t);if(e>=0)return this[e]}},{key:"getByKey",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])&&(e=e[0]),this.getBy((function(t){var n=!1;return e.every((function(e){return!Object.prototype.hasOwnProperty.call(t,e)||(n=!0,!1)})),n}))}},{key:"getByValue",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])&&(e=e[0]),this.getBy((function(t){var n=!1;return t.each((function(t,r){if(e.includes(r))return n=!0,!1})),n}))}},{key:"getByKeyValue",value:function(t,e){return this.getBy((function(n){return n[t]===e}))}},{key:"getValues",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])&&(e=e[0]),this.map((function(t){return e.length?t.get(t,e):t.getValues(t)}))}},{key:"indexOfBy",value:function(t){var e=0,n=this.length;for(t=t||function(){return!1};e<n;){if(!0===t.call(this,this[e],e,this))return e;e++}return-1}},{key:"indexOfByKey",value:function(t,e){return this.indexOfBy((function(n){return n[t]===e}))}},{key:"indexOfByKeyValue",value:function(t,e){return this.indexOfByKey(t,e)}},{key:"each",value:function(t){if("function"==typeof t)return this.forEach(t),this}},{key:"remove",value:function(t,e){return this.length<=0||(t=t<0?0:t,e=e||t+1,this.splice(t,e-t)),this}},{key:"removeItem",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])&&(e=e[0]),this.removeBy((function(t){return e.includes(t)}))}},{key:"removeBy",value:function(t){for(var e=0,n=this.length;e<n;e++)!0===t.call(this,this[e],e,this)&&(this.splice(e,1),n--,e--);return this}},{key:"removeByKeyValue",value:function(t,e){return this.removeBy((function(n){return n[t]===e}))}},{key:"toJSON",value:function(){var t=Array.from(this);return t.forEach((function(e,n){t[n]=e&&"function"==typeof e.toJSON?e.toJSON():e})),t}},{key:"toArray",value:function(){return Array.from(this)}},{key:"size",get:function(){return this.length}}]),n}(Z()(Array)),nt=function(){function t(){i()(this,t)}return a()(t,[{key:"pair",value:function(){return Object.entries(this)}},{key:"keys",value:function(){return Object.keys(this)}},{key:"set",value:function(t,e){return this[t]=e,this}},{key:"get",value:function(t){return this[t]}},{key:"add",value:function(t,e){return Object.prototype.hasOwnProperty.call(this,t)||this.set(t,e),this}},{key:"addAll",value:function(t){for(var e in t)this.add(e,t[e]);return this}},{key:"toJSON",value:function(){var t={};for(var e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t[e]=this[e]);return t}}]),t}();function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var it=function(t){l()(n,t);var e=rt(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"no",0),y()(u()(r),"name",null),y()(u()(r),"duration",0),y()(u()(r),"file",null),y()(u()(r),"start",0),y()(u()(r),"end",0),Object.assign(u()(r),t),r}return n}(nt);function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var at=function(t){l()(n,t);var e=ot(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,[{key:"add",value:function(t){t instanceof it||(t=new it(t)),t.no=this.length+1,J.isObject(t)&&this.push(t)}}]),n}(et),st=n(2),ut=n(55),ct=n.n(ut),lt=n(56),ft=n.n(lt),ht=n(94),pt=n.n(ht),dt=n(95),vt=n.n(dt),yt=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return ct()(e,t),e.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(ft.a),gt=function(t){for(var e,n=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},i=n.length;i--;)""!==n[i]&&((e=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),r[e[0]]=e[1]);return r},mt=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}ct()(e,t);var n=e.prototype;return n.push=function(t){var e,n,r=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce((function(e,n){var r=n(t);return r===t?e:e.concat([r])}),[t]).forEach((function(t){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void r.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void r.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void r.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void r.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void r.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void r.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void r.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void r.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void r.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var o=gt(e[1]);if(o.URI&&(n.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],u=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}r.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=gt(e[1]),n.attributes.RESOLUTION){var c=n.attributes.RESOLUTION.split("x"),l={};c[0]&&(l.width=parseInt(c[0],10)),c[1]&&(l.height=parseInt(c[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=gt(e[1])),void r.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))r.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void r.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=gt(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=gt(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void r.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void r.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void r.trigger("data",n);r.trigger("data",{type:"tag",data:t.slice(4)})}}}else r.trigger("data",{type:"comment",text:t.slice(1)})})):this.trigger("data",{type:"uri",uri:t}))},n.addParser=function(t){var e=this,n=t.expression,r=t.customType,i=t.dataParser,o=t.segment;"function"!=typeof i&&(i=function(t){return t}),this.customParsers.push((function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:i(t),customType:r,segment:o}),!0}))},n.addTagMapper=function(t){var e=t.expression,n=t.map;this.tagMappers.push((function(t){return e.test(t)?n(t):t}))},e}(ft.a),bt=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new yt,e.parseStream=new mt,e.lineStream.pipe(e.parseStream);var n,r,i=u()(e),o=[],a={},s=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var f=0;return e.parseStream.on("data",(function(t){var e,u;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(t.offset=f)),"offset"in t&&(a.byterange=e,e.offset=t.offset),f=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:vt()(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(r.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,l=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){n={},t.uri&&(n.uri=t.uri),t.byterange&&(n.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes?(a.attributes||(a.attributes={}),pt()(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],(u={default:/yes/i.test(t.attributes.DEFAULT)}).default?u.autoselect=!0:u.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(u.language=t.attributes.LANGUAGE),t.attributes.URI&&(u.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(u.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(u.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(u.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=u}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){l+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||s).call(i)},uri:function(){a.uri=t.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),r&&(a.key=r),a.timeline=l,n&&(a.map=n),a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(i)})),e}ct()(e,t);var n=e.prototype;return n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(ft.a);function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach((function(e){y()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var St={HLS:function(t){l()(n,t);var e=_t(n);function n(t){var r;return i()(this,n),r=e.call(this),y()(u()(r),"state",V.IDLE),y()(u()(r),"maxBufferDuration",U.b.maxDuration),y()(u()(r),"maxBufferSize",U.b.maxSize),y()(u()(r),"baseUrl",""),y()(u()(r),"options",null),y()(u()(r),"httpWorker",null),y()(u()(r),"sourceData",null),y()(u()(r),"segmentPool",[]),y()(u()(r),"currentNo",null),y()(u()(r),"maxRetryCount",U.b.maxRetryCount),r.options=t,r.loaderController=r.options.loaderController,r.dataController=r.loaderController.dataController,r.httpWorker=t.httpWorker,r.setSegmentPool(new at),r}return a()(n,[{key:"loadPlaylist",value:function(t){var e=this;this.options.player.options.beforeLoad?this.options.player.options.beforeLoad(this.sourceURL,this.options.sourceURL).then((function(t){e.options.sourceURL=t,e.httpWorker.postMessage({type:"invoke",fileType:"m3u8",method:"get",name:"playlist",url:t})})):this.httpWorker.postMessage({type:"invoke",fileType:"m3u8",method:"get",name:"playlist",url:this.sourceURL}),this.httpWorker.onmessage=function(n){var r=n.data,i=n.data.data;if(i)"playlist"==r.name&&e.parsePlaylist(i,t);else{var o="Get the ".concat(r.fileType," file error. URL: ").concat(r.url);e.events.emit(st.default.PlayerAlert,o),e.events.emit(st.default.LoaderError,o,r);var a=[e.state,"request playlist error.","data:",r,o];e.events.emit(st.default.PlayerThrowError,a)}}}},{key:"parsePlaylist",value:function(t,e){var n,r=new bt;r.push(t),r.end();var i=r.manifest,o=null===(n=i.playlists)||void 0===n?void 0:n.length;if(o){var a=i.playlists[o-1];return this.sourceURL=a.uri,void this.loadPlaylist(e)}var s=new Y(t);if(s.segments&&s.segments.length){s.segments.forEach((function(t){t.start=J.msec2sec(t.start),t.end=J.msec2sec(t.end),t.duration=J.msec2sec(t.duration)})),this.setSourceData(Object.freeze(s)),this.segmentPool.addAll(s.segments),e.call(this,s)}else{this.events.emit(st.default.LoaderError,s),this.events.emit(st.default.PlayerAlert,"Parse playlist file error.");var u=[this.state,"Parse playlist error.","data:",s];this.events.emit(st.default.PlayerThrowError,u)}}},{key:"setSourceData",value:function(t){this.sourceData=t}},{key:"getSourceData",value:function(){return this.sourceData}},{key:"setSegmentPool",value:function(t){this.segmentPool=t}},{key:"getSegmentPool",value:function(){return this.segmentPool}},{key:"isNotFree",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t="["+t+"]loader is not free. please wait.",this.state!==V.IDLE&&this.state!==V.DONE&&(this.logger.warn("isNotFree","check status for loader","notice:",t),!0)}},{key:"getBaseUrl",value:function(t){var e=this.options.sourceURL;if(!(t.indexOf("//")>-1)){var n=e.lastIndexOf("/");return e.substr(0,n+1)}return""}},{key:"checkLoadCondition",value:function(t){if(t.no>this.segmentPool.length)return!1;var e=this.dataController.getLoadDataBufferPool().bufferDuration;return!(this.options.player.playbackRate<=1&&e>=this.maxBufferDuration)||(this.logger.info("checkLoadCondition","stop load next segment.","bufferDuration:",e,"maxBufferDuration:",this.maxBufferDuration),!1)}},{key:"loadFile",value:function(t,e,n){var r=this;if(t instanceof it)if(this.isNotFree()&&"seek"!==e&&"start"!==e)this.logger.warn("loadFile","is loading","segment:",t,"type:",e);else{if(!this.checkLoadCondition(t))return this.state=V.IDLE,void this.logger.warn("loadFile","checkLoadCondition failed","segment:",t,"type:",e);this.currentNo=t.no;var i=this.getBaseUrl(t.file)+t.file,o=1,a=function(){if(r.options.player.options.beforeLoad)r.options.player.options.beforeLoad(t.file,r.options.sourceURL).then((function(e){r.httpWorker.postMessage({type:"invoke",fileType:"ts",method:"get",name:t.no,url:e})}));else{var e=function(t,e){return"function"==typeof r.options.processURL?r.options.processURL(t,e):t}(i,t);r.httpWorker.postMessage({type:"invoke",fileType:"ts",method:"get",name:t.no,url:e})}};this.state=V.LOADING,this.events.emit(st.default.LoaderLoading,t,e,n),this.httpWorker.onmessage=function(i){r.state=V.DONE;var s=i.data;if(r.logger.info("loadfile","httpWorker","onmessage get data"),s&&"error"!==s.type)"notice"===s.type?"speed"===s.noticeType&&r.events.emit(st.default.LoaderUpdateSpeed,s.data):"ts"===s.fileType&&s.name===t.no?(r.logger.info("loadFile","read success","data no:",s.name),r.state=V.IDLE,r.events.emit(st.default.LoaderLoaded,s,t,e,n)):r.logger.warn("loadFile","is not ts file or the segment'no is not equal.","fileType:",s.fileType,"data:",s);else if(r.state=V.ERROR,o<=r.maxRetryCount)r.logger.warn("loadFile","retry to load","count:",o,"segment:",t),a(),o+=1;else{r.events.emit(st.default.LoaderError,t,e,n);r.events.emit(st.default.PlayerAlert,"Load file error, please concat administrator.");var u=[r.state,"Load File error.","load count:",o,"segment:",t];r.events.emit(st.default.PlayerThrowError,u)}},a()}}},{key:"destroy",value:function(){this.httpWorker&&this.httpWorker.terminate()}}]),n}(F)},Et=function(t){l()(n,t);var e=kt(n);function n(t,r){var o;return i()(this,n),o=e.call(this),y()(u()(o),"state",null),y()(u()(o),"exeLoader",null),y()(u()(o),"loadData",null),y()(u()(o),"type","HLS"),y()(u()(o),"options",null),y()(u()(o),"dataController",null),o.type=t||o.type,o.player=r.player,o.options=r.player.options,o.dataController=o.player.dataController,o.init(o.type,o.options),o}return a()(n,[{key:"init",value:function(t,e){this.bindEvent(),this.setExeLoader(new St[t](xt(xt({},e),{},{player:this.player,loaderController:this}))),this.setSourceURL(e.sourceURL),this.player.loadData?this.setLoadData(this.player.loadData):this.setLoadData(this.dataController.getDataInstance("load",e)),this.exeLoader.setLoadData(this.loadData)}},{key:"run",value:function(){this.state=V.LOAD_PLAYLIST,this.events.emit(st.default.LoaderPlayListStart,this),this.logger.info("run",V[this.state],"url:",this.options.sourceURL),this.loadPlaylist()}},{key:"bindEvent",value:function(){var t=this;this.events.on(st.default.LoaderLoadFile,(function(e,n,r){t.exeLoader.loadFile(e,n,r)}))}},{key:"loadPlaylist",value:function(t){var e=this;this.exeLoader.loadPlaylist((function(n){n?(e.dataController.setLoadDataSourceData(e.exeLoader.getSourceData()),e.dataController.setLoadDataSegmentPool(e.exeLoader.getSegmentPool()),e.state=V.LOADED_PLAYLIST,e.events.emit(st.default.LoaderPlayListLoaded,e),"function"==typeof t&&t.call(e,n)):e.logger.error("run","start load m3u8","data:",n)}))}},{key:"switchPlaylist",value:function(t,e){this.setSourceURL(t),this.dataController.clearLoadData(),this.state=V.LOAD_PLAYLIST,this.events.emit(st.default.LoaderPlayListStart,this),this.logger.info("switchPlaylist",V[this.state],"url:",t),this.loadPlaylist(e)}},{key:"setExeLoader",value:function(t){this.exeLoader=t}},{key:"getExeLoader",value:function(){return this.exeLoader}},{key:"setSourceURL",value:function(t){this.exeLoader.setSourceURL(t)}},{key:"getSourceURL",value:function(){return this.exeLoader.getSourceURL()}},{key:"setLoadData",value:function(t){this.loadData=t}},{key:"getLoadData",value:function(){return this.loadData}},{key:"getSourceData",value:function(){return this.exeLoader.getSourceData()}},{key:"destroy",value:function(){this.exeLoader.destroy()}}]),n}(D);function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Tt=function(t){l()(n,t);var e=Pt(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"no",0),y()(u()(r),"start",0),y()(u()(r),"end",0),y()(u()(r),"blob",null),y()(u()(r),"arrayBuffer",null),y()(u()(r),"duration",0),Object.assign(u()(r),t),r}return a()(n,[{key:"size",get:function(){return this.blob.size}}]),n}(nt);function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Rt=function(t){l()(n,t);var e=At(n);function n(t){return i()(this,n),e.call(this,t)}return a()(n,[{key:"add",value:function(t){t instanceof Tt||(t=new Tt(t));var e=this.length;if(0!==e){for(;e--;)if(t.no<=this[e].no)return void this.splice(e,1,t);return this.push(t),this}this.push(t)}},{key:"getBufferSize",value:function(){return this.length<=0?0:this.reduce((function(t,e){return t+e.blob.size}),0)}},{key:"getBufferDuration",value:function(){return this.length<=0?0:this.reduce((function(t,e){return t+(e.end-e.start)}),0)}},{key:"bufferSize",get:function(){return this.getBufferSize()}},{key:"bufferDuration",get:function(){return this.getBufferDuration()}}]),n}(et);function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Lt=function(t){l()(n,t);var e=Bt(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this),y()(u()(t),"bufferPool",[]),y()(u()(t),"sourceData",{}),y()(u()(t),"options",{}),y()(u()(t),"segmentPool",[]),y()(u()(t),"readBufferNo",null),y()(u()(t),"startLoadTime",null),y()(u()(t),"currentSeekTime",null),t.options=r,t.init(),t}return a()(n,[{key:"init",value:function(){var t=this;this.setBufferPool(new Rt),this.events.on(st.default.LoadDataReadBufferByNo,(function(e,n){t.readBufferByNo(e,n)})),this.events.on(st.default.LoadDataReadBuffer,(function(e,n){t.readBuffer(e,n)})),this.events.on(st.default.LoaderLoaded,(function(e,n,r,i){var o=t.createBuffer({arrayBuffer:Uint8Array.from(e.arrayBuffer)},n);if(t.segmentLoaded(n,o),"seek"===r&&i===t.currentSeekTime)return t.events.emit(st.default.LoadDataSeek,o,i),void t.removeBufferByNo(o.no);i===t.startLoadTime&&t.events.emit(st.default.LoadDataFirstLoaded,o,i)}))}},{key:"setOptions",value:function(t){Object.assign(this.options,t)}},{key:"startLoad",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.logger.info("startLoad","begin to load ts data","time:",t),isNaN(t)?this.logger.error("seekTime","seek","time:",t):(this.startLoadTime=t,this.loadSegmentByTime(t,"start"))}},{key:"readBuffer",value:function(t,e){var n=this.getSegmentByTime(t);n&&this.readBufferByNo(n.no,e)}},{key:"segmentLoaded",value:function(t,e){e&&this.addBufferPool(e),t.no===this.options.player.currentIndex&&this.readBufferByNo(t.no),t.no<this.segmentPool.getLast().no&&this.loadSegmentByNo(t.no+1)}},{key:"seekTime",value:function(t){if(isNaN(t))this.logger.error("seekTime","seek","time:",t);else{var e;this.currentSeekTime=t;var n=this.bufferPool.indexOfByTime(t);n>-1?(e=this.bufferPool[n],this.events.emit(st.default.LoadDataSeek,e,t)):(this.removeBufferPool(this.bufferPool.length),this.loadSegmentByTime(t,"seek"))}}},{key:"loadSegmentByTime",value:function(t,e){if(!isNaN(t)){var n=this.segmentPool.indexOfByTime(t);if(n>=0){var r=this.segmentPool[n];this.events.emit(st.default.LoaderLoadFile,r,e,t)}else this.logger.error("loadSegmentByTime","time over","time:",t,"type:",e)}}},{key:"createBuffer",value:function(t,e){if(t){var n={start:e.start,end:e.end,no:e.no,duration:e.end-e.start,arrayBuffer:t.arrayBuffer};return new Tt(n)}}},{key:"isValidSegmentNo",value:function(t){return!isNaN(t)&&t>0&&t<=this.segmentPool.length}},{key:"loadSegmentByNo",value:function(t){var e=t-1,n=this.segmentPool.get(e);n&&this.events.emit(st.default.LoaderLoadFile,n,"play")}},{key:"readBufferByNo",value:function(t,e){this.isValidSegmentNo(t)?(this.readBufferNo=t,e=e||function(t){this.events.emit(st.default.LoadDataRead,t)},this.getBlobByNo(t,e)):this.logger.error("readBufferByNo","check buffer no","is not valid no",t)}},{key:"getSegmentByTime",value:function(t){var e=this.segmentPool.indexOfByTime(t);return this.segmentPool[e]}},{key:"getBlobByNo",value:function(t,e){if(isNaN(t))this.logger.error("getBlobByNo","isNaN","no:",t);else{var n;if(!this.isBufferReading)return this.isBufferReading=!0,n=this.bufferPool.getByKeyValue("no",t)[0],"function"==typeof e&&(e.call(this,n),n&&this.removeBufferByNo(n.no)),this.isBufferReading=!1,n;this.logger.warn("getBlobByNo","isBufferReading","no:",t)}}},{key:"addBufferPool",value:function(t){if(this.bufferPool.length){if(this.bufferPool[0].no===t.no+1)return this.bufferPool.unshift(t),!0;var e=this.bufferPool.getLast();if(t.no-e.no==1)return this.bufferPool.push(t),!0;if(this.bufferPool.indexOfByKey("no",t.no))return!0;this.bufferPool.splice(0,this.bufferPool.length)}this.bufferPool.push(t)}},{key:"removeBufferPool",value:function(t){this.bufferPool.splice(0,t+1)}},{key:"removeBufferByNo",value:function(t){var e=this.bufferPool.indexOfByKey("no",t);if(!(e<=-1))return this.removeBufferPool(e),this.bufferPool.length?this.bufferPool.getLast().no<this.segmentPool.getLast().no&&this.loadSegmentByNo(this.bufferPool.getLast().no+1):t<this.segmentPool.getLast().no&&this.loadSegmentByNo(t+1),!0}},{key:"clear",value:function(){this.sourceData={},this.readBufferNo=null,this.currentSeekTime=null,this.bufferPool.length=0,this.segmentPool.length=0}},{key:"getSegmentByNo",value:function(t){return this.segmentPool.get(t-1)}},{key:"getSegment",value:function(t){return this.segmentPool.getByTime(t)}},{key:"setSourceData",value:function(t){this.sourceData=t}},{key:"getSourceData",value:function(){return this.sourceData}},{key:"setBufferPool",value:function(t){this.bufferPool=t}},{key:"getBufferPool",value:function(){return this.bufferPool}},{key:"setSegmentPool",value:function(t){this.segmentPool=t}},{key:"getSegmentPool",value:function(){return this.segmentPool}}]),n}(M);function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Dt=function(t){l()(n,t);var e=Ct(n);function n(t){var r;return i()(this,n),r=e.call(this),y()(u()(r),"loadData",null),r.options=t,r}return a()(n,[{key:"setLoadData",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.loadData=C()(Lt,e)}},{key:"getLoadData",value:function(){return this.loadData}},{key:"getLoadDataBufferPool",value:function(){return this.loadData.bufferPool}},{key:"setLoadDataSourceData",value:function(t){this.loadData.setSourceData(t)}},{key:"setLoadDataSegmentPool",value:function(t){this.loadData.setSegmentPool(t)}},{key:"startLoad",value:function(t){t=Math.max(t,0),this.startLoadData(t)}},{key:"startLoadData",value:function(t){this.loadData.startLoad(t)}},{key:"clearLoadData",value:function(){this.loadData.clear()}},{key:"getDataInstance",value:function(t){if(t)switch(t){case"load":if(!this.loadData){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.setLoadData.apply(this,n)}return this.loadData;default:return null}}}]),n}(D);function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Ot,Nt,Mt=function(t){l()(n,t);var e=It(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"checkHanlder",null),y()(u()(r),"resetStatus",{processor:!1,audioPlayer:!1}),r.player=t.player,r.player?(r.audioPlayer=t.audioPlayer,r.imagePlayer=t.imagePlayer,r.loadData=t.loadData,r.bindEvent(),r):h()(r)}return a()(n,[{key:"bindEvent",value:function(){var t=this;this.events.on(st.default.ProcessorResetEnd,(function(){t.checkResetReady("processor")})),this.events.on(st.default.AudioPlayerReady,(function(){t.checkResetReady("audioPlayer")})),this.events.on(st.default.PlayerResetReady,(function(){t.onResetReady()})),this.events.on(st.default.LoadDataSeek,(function(e,n){t.onSeek(e,n)})),this.events.on(st.default.ImagePlayerRenderEnd,(function(e,n){t.onRenderEnd(e,n)})),this.events.on(st.default.ImagePlayerWait,(function(){t.audioPlayer.pause()}))}},{key:"play",value:function(t){this.logger.warn("play","play start"),this.sync(t)}},{key:"sync",value:function(t){var e=this.player,n=this.audioPlayer,r=this.imagePlayer,i=n.offset,o=r.offset,a=Math.min(i,o),s=Math.max(i,o);n.need||(a=o,s=o);var u=e.playbackRate;if(e.seeking&&(e.seeking=!1),!e.reseting&&"pause"!==e.status&&"waiting"!==n.status&&"wait"!==r.status)if("end"!==e.status){if(this.setCurrentTime(t),!(t<a))return n.need&&t>=i&&t<=o?(this.events.once(st.default.AudioPlayerPlaySuccess,(function(){r.render(o)})),n.playbackRate=u,void n.play()):void(t>=o&&(!n.need||t<=i)?r.render(t):t>s&&(this.audioPlayer.playbackRate=u,this.audioPlayer.play(),r.render(t)));this.sync(a)}else n.paused||n.pause()}},{key:"setCurrentTime",value:function(t){var e=t-(this.player.startPts||0);this.player.currentTime=e,this.events.emit(st.default.PlayerTimeUpdate,e)}},{key:"pause",value:function(){this.audioPlayer.pause(),this.clearDrawHanlder()}},{key:"seek",value:function(t){var e=this,n=this.imagePlayer.isBuffered(t),r=this.audioPlayer.isBuffered(t);this.player.pause(),n&&r?(this.logger.warn("seek","seek in buffer, time: ".concat(t,", buffer: ").concat(this.player.buffer()[0],", ").concat(this.player.buffer()[1])),this.audioPlayer.need?(this.audioPlayer.onSeekedHandler=function(){e.imagePlayer.render(t,!1)},this.audioPlayer.currentTime=t):(this.imagePlayer.render(t,!1),this.events.emit(st.default.StreamDataReady))):this.reset()}},{key:"reset",value:function(t){this.logger.info("reset","reset start"),this.player.reseting=!0,this.events.emit(st.default.PlayerReset,t),this.resetStatus={processor:!1,audioPlayer:!1},this.player.processController.reset(),this.player.streamController.reset(),this.player.audioPlayer.reset(t),this.player.imagePlayer.reset(),this.player.currentIndex=null}},{key:"checkResetReady",value:function(t){var e=this.resetStatus;if(t&&"string"==typeof t){e[t]=!0;for(var n=Object.keys(e),r=0;r<n.length;r++)if(!e[n[r]])return!1;this.logger.warn("checkResetReady","reset ready"),this.events.emit(st.default.PlayerResetReady)}}},{key:"onResetReady",value:function(){this.player.reseting=!1,this.logger.info("onResetReady","reset Ready"),this.player.changing&&this.events.emit(st.default.DataProcessorReady),this.player.seeking&&this.player.loadData.seekTime(this.player.currentTime/1e3)}},{key:"onSeek",value:function(t,e){var n=this.player.currentTime;this.logger.info("onseek",n,t,t.no,e),t&&t.no&&Math.abs(n-Math.floor(1e3*e))<2?(this.player.currentIndex=t.no,this.logger.info("seektime:",t.no,e,this.player.currentTime),this.player.seekSegmentNo=t.no,this.player.streamController.startLoad(t.no)):this.logger.warn("seek failue, not found data",n,t,e)}},{key:"clearDrawHanlder",value:function(){clearTimeout(this.drawFrameHanlder),this.drawFrameHanlder=null}},{key:"onRenderEnd",value:function(t,e){this.player.seekTime&&(this.logger.info("onRenderEnd","seektoRenderTime:",Date.now()-this.player.seekTime),this.player.seekTime=null);var n=this.imagePlayer,r=this.audioPlayer,i=this.player.playbackRate,o=r.currentTime,a=n.currentTime,s=r.offset,u=n.fragDuration,c=o-a,l=0;r.need?a<s?this.drawNext(a+u*i,u):(c>0&&c>u?u=(l=a+Math.ceil(c/u+i)*u)-o:(l=a+u*i,u-=c),this.drawNext(l,u)):this.drawNext(t+e,Math.ceil(e/i))}},{key:"drawNext",value:function(t,e){var n=this;this.drawFrameHanlder&&this.clearDrawHanlder(),this.drawFrameHanlder=setTimeout((function(){n.sync(t)}),e)}}]),n}(M);function Ut(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function Vt(t){if(Ot){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Ot.apply(void 0,[t].concat(n))}}function Ht(t){if(Nt){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Nt.apply(void 0,[t].concat(n))}}var Wt=function(){function t(e){i()(this,t),this.payload=e,this.nri=(96&this.payload[0])>>5,this.ntype=31&this.payload[0]}return a()(t,null,[{key:"type",value:function(e){return e.ntype in t.TYPES?t.TYPES[e.ntype]:"UNKNOWN"}},{key:"NDR",get:function(){return 1}},{key:"IDR",get:function(){return 5}},{key:"SEI",get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:"AUD",get:function(){return 9}},{key:"TYPES",get:function(){var e;return e={},y()(e,t.IDR,"IDR"),y()(e,t.SEI,"SEI"),y()(e,t.SPS,"SPS"),y()(e,t.PPS,"PPS"),y()(e,t.NDR,"NDR"),y()(e,t.AUD,"AUD"),e}}]),a()(t,[{key:"toString",value:function(){return"".concat(t.type(this),": NRI: ").concat(this.getNri())}},{key:"getNri",value:function(){return this.nri>>6}},{key:"type",value:function(){return this.ntype}},{key:"isKeyframe",value:function(){return this.ntype==t.IDR}},{key:"getSize",value:function(){return 4+this.payload.byteLength}},{key:"getData",value:function(){var t=new Uint8Array(this.getSize());return new DataView(t.buffer).setUint32(0,this.getSize()-4),t.set(this.payload,4),t}}]),t}(),zt=function(){function t(e){i()(this,t),this.data=e,this.index=0,this.bitLength=8*e.byteLength}return a()(t,[{key:"skipBits",value:function(t){if(this.bitsAvailable<t)return!1;this.index+=t}},{key:"readBits",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getBits(t,this.index,e);return n}},{key:"getBits",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.bitsAvailable<t)return 0;var r=e%8,i=this.data[e/8|0]&255>>>r,o=8-r;if(o>=t)return n&&(this.index+=t),i>>o-t;n&&(this.index+=o);var a=t-o;return i<<a|this.getBits(a,e+o,n)}},{key:"skipLZ",value:function(){var t;for(t=0;t<this.bitLength-this.index;++t)if(0!==this.getBits(1,this.index+t,!1))return this.index+=t,t;return t}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var t=this.skipLZ();return this.readBits(t+1)-1}},{key:"readEG",value:function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readBits(8*t)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"bitsAvailable",get:function(){return this.bitLength-this.index}}]),t}(),$t=function(){function t(e){i()(this,t),this.remuxer=e,this.track=e.mp4track}return a()(t,null,[{key:"extractNALu",value:function(t){for(var e,n,r=0,i=t.byteLength,o=0,a=[];r<i;)switch(e=t[r++],o){case 0:0===e&&(o=1);break;case 1:o=0===e?2:0;break;case 2:case 3:0===e?o=3:1===e&&r<i?(n&&a.push(t.subarray(n,r-o-1)),n=r,o=0):o=0}return n&&a.push(t.subarray(n,i)),a}},{key:"skipScalingList",value:function(t,e){for(var n=8,r=8,i=0;i<e;i++)0!==r&&(r=(n+t.readEG()+256)%256),n=0===r?n:r}},{key:"readSPS",value:function(e){var n,r,i,o,a,s,u=new zt(e),c=0,l=0,f=0,h=0,p=1;if(u.readUByte(),n=u.readUByte(),u.readBits(5),u.skipBits(3),u.readUByte(),u.skipUEG(),100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n){var d=u.readUEG();if(3===d&&u.skipBits(1),u.skipUEG(),u.skipUEG(),u.skipBits(1),u.readBoolean()){s=3!==d?8:12;for(var v=0;v<s;++v)u.readBoolean()&&(v<6?t.skipScalingList(u,16):t.skipScalingList(u,64))}}u.skipUEG();var y=u.readUEG();if(0===y)u.readUEG();else if(1===y){u.skipBits(1),u.skipEG(),u.skipEG(),r=u.readUEG();for(var g=0;g<r;++g)u.skipEG()}if(u.skipUEG(),u.skipBits(1),i=u.readUEG(),o=u.readUEG(),0===(a=u.readBits(1))&&u.skipBits(1),u.skipBits(1),u.readBoolean()&&(c=u.readUEG(),l=u.readUEG(),f=u.readUEG(),h=u.readUEG()),u.readBoolean()){if(u.readBoolean()){var m;switch(u.readUByte()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[u.readUByte()<<8|u.readUByte(),u.readUByte()<<8|u.readUByte()]}m&&(p=m[0]/m[1])}if(u.readBoolean()&&u.skipBits(1),u.readBoolean()&&(u.skipBits(4),u.readBoolean()&&u.skipBits(24)),u.readBoolean()&&(u.skipUEG(),u.skipUEG()),u.readBoolean())u.readUInt(),u.readUInt(),u.readBoolean()}return{width:Math.ceil((16*(i+1)-2*c-2*l)*p),height:(2-a)*(o+1)*16-(a?2:4)*(f+h)}}}]),a()(t,[{key:"parseSPS",value:function(e){var n=t.readSPS(new Uint8Array(e));this.track.width=n.width,this.track.height=n.height,this.track.sps=[new Uint8Array(e)],this.track.codec="avc1.";for(var r=new DataView(e.buffer,e.byteOffset+1,4),i=0;i<3;++i){var o=r.getUint8(i).toString(16);o.length<2&&(o="0"+o),this.track.codec+=o}}},{key:"parsePPS",value:function(t){this.track.pps=[new Uint8Array(t)]}},{key:"parseNAL",value:function(t){if(!t)return!1;var e=!1;switch(t.type()){case Wt.NDR:case Wt.IDR:e=!0;break;case Wt.PPS:this.track.pps||(this.parsePPS(t.getData().subarray(4)),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),e=!0;break;case Wt.SPS:this.track.sps||(this.parseSPS(t.getData().subarray(4)),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),e=!0;break;case Wt.AUD:Vt("AUD - ignoing and disable HD mode for live channel"),this.remuxer.isHDAvail&&(this.remuxer.isHDAvail=!1);break;case Wt.SEI:Vt("SEI - ignoing")}return e}}]),t}(),Gt=function(){function t(e){i()(this,t),this.listener={},this.type=""|e}return a()(t,[{key:"on",value:function(t,e){return this.listener[t]||(this.listener[t]=[]),this.listener[t].push(e),!0}},{key:"off",value:function(t,e){if(this.listener[t]){var n=this.listener[t].indexOf(e);return n>-1&&this.listener[t].splice(n,1),!0}return!1}},{key:"offAll",value:function(){this.listener={}}},{key:"dispatch",value:function(t,e){return!!this.listener[t]&&(this.listener[t].map((function(t){t.apply(null,[e])})),!0)}}]),t}(),Yt=Math.pow(2,32)-1,qt=function(){function t(){i()(this,t)}return a()(t,null,[{key:"init",value:function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,u,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,i))}},{key:"box",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i,o=8,a=n.length,s=a;a--;)o+=n[a].byteLength;for((i=new Uint8Array(o))[0]=o>>24&255,i[1]=o>>16&255,i[2]=o>>8&255,i[3]=255&o,i.set(t,4),a=0,o=8;a<s;++a)i.set(n[a],o),o+=n[a].byteLength;return i}},{key:"hdlr",value:function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])}},{key:"mdat",value:function(e){return t.box(t.types.mdat,e)}},{key:"mdhd",value:function(e,n){n*=e;var r=Math.floor(n/(Yt+1)),i=Math.floor(n%(Yt+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"mdia",value:function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))}},{key:"mfhd",value:function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}},{key:"minf",value:function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))}},{key:"moof",value:function(e,n,r){return t.box(t.types.moof,t.mfhd(e),t.traf(r,n))}},{key:"moov",value:function(e,n,r){for(var i=e.length,o=[];i--;)o[i]=t.trak(e[i]);return t.box.apply(null,[t.types.moov,t.mvhd(r,n)].concat(o).concat(t.mvex(e)))}},{key:"mvex",value:function(e){for(var n=e.length,r=[];n--;)r[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(r))}},{key:"mvhd",value:function(e,n){n*=e;var r=Math.floor(n/(Yt+1)),i=Math.floor(n%(Yt+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,o)}},{key:"sdtp",value:function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,o)}},{key:"stbl",value:function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))}},{key:"avc1",value:function(e){var n,r,i,o=[],a=[];for(n=0;n<e.sps.length;n++)i=(r=e.sps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<e.pps.length;n++)i=(r=e.pps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),u=e.width,c=e.height;return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,98,105,110,101,108,112,114,111,46,114,117,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(t){var e=t.config.byteLength,n=new Uint8Array(26+e+3);return n.set([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5,e]),n.set(t.config,26),n.set([6,1,2],26+e),n}},{key:"mp4a",value:function(e){var n=e.audiosamplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))}},{key:"stsd",value:function(e){return"audio"===e.type?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))}},{key:"tkhd",value:function(e){var n=e.id,r=e.duration*e.timescale,i=e.width,o=e.height,a=Math.floor(r/(Yt+1)),s=Math.floor(r%(Yt+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(e,n){var r=t.sdtp(e),i=e.id,o=Math.floor(n/(Yt+1)),a=Math.floor(n%(Yt+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),t.trun(e,r.length+16+20+8+16+8+8),r)}},{key:"trak",value:function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))}},{key:"trex",value:function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(e,n){var r,i,o,a,s,u,c=e.samples||[],l=c.length,f=12+16*l,h=new Uint8Array(f);for(n+=8+f,h.set([0,0,15,1,l>>>24&255,l>>>16&255,l>>>8&255,255&l,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<l;r++)o=(i=c[r]).duration,a=i.size,s=i.flags,u=i.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return t.box(t.types.trun,h)}},{key:"initSegment",value:function(e,n,r){t.types||t.init();var i,o=t.moov(e,n,r);return(i=new Uint8Array(t.FTYP.byteLength+o.byteLength)).set(t.FTYP),i.set(o,t.FTYP.byteLength),i}}]),t}(),Xt=function(){function t(e){i()(this,t),this.remuxer=e,this.track=e.mp4track,this.aacHeader=null}return a()(t,[{key:"getHeaderLength",value:function(t){return 1&t[1]?7:9}},{key:"getFrameLength",value:function(t){return(3&t[3])<<11|t[4]<<3|(224&t[5])>>>5}},{key:"isAACPattern",value:function(t){return 255===t[0]&&240==(240&t[1])&&0==(6&t[1])}},{key:"extractAAC",value:function(t){var e,n,r=0,i=t.byteLength,o=[];if(!this.isAACPattern(t))return Ht("Invalid ADTS audio format"),o;for(e=this.getHeaderLength(t),this.aacHeader||(this.aacHeader=t.subarray(0,e));r<i;)n=this.getFrameLength(t),o.push(t.subarray(e,n)),t=t.slice(n),r+=n;return o}},{key:"samplingRateMap",get:function(){return[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]}},{key:"getAACHeaderData",get:function(){return this.aacHeader}},{key:"setAACHeaderData",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.aacHeader=t}}]),a()(t,[{key:"setAACConfig",value:function(){var t,e,n,r=new Uint8Array(2),i=this.getAACHeaderData;i&&(t=1+((192&i[2])>>>6),e=(60&i[2])>>>2,n=(1&i[2])<<2,n|=(192&i[3])>>>6,r[0]=t<<3,r[0]|=(14&e)>>1,r[1]|=(1&e)<<7,r[1]|=n<<3,this.track.codec="mp4a.40."+t,this.track.channelCount=n,this.track.config=r,this.remuxer.readyToDecode=!0)}}]),t}(),Kt=1,Jt=function(){function t(){i()(this,t),this.seq=1}return a()(t,null,[{key:"getTrackID",value:function(){return Kt++}}]),a()(t,[{key:"flush",value:function(){this.seq++,this.mp4track.len=0,this.mp4track.samples=[]}},{key:"isReady",value:function(){return!(!this.readyToDecode||!this.samples.length)||null}}]),t}(),Qt=function(t){l()(n,t);var e=Ft(n);function n(){var t;return i()(this,n),(t=e.call(this)).readyToDecode=!1,t.nextDts=0,t.dts=0,t.timescale=1e3,t.mp4track={id:Jt.getTrackID(),type:"audio",channelCount:0,len:0,fragmented:!0,timescale:t.timescale,duration:t.timescale,samples:[],config:"",codec:""},t.samples=[],t.aac=new Xt(u()(t)),t}return a()(n,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.codec="",this.mp4track.channelCount="",this.mp4track.config="",this.mp4track.timescale=this.timescale}},{key:"remux",value:function(t){var e,n,r,i=Ut(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;e=(n=o.units).byteLength,this.samples.push({units:n,size:e,duration:o.duration}),this.mp4track.len+=e,this.readyToDecode||this.aac.setAACConfig()}}catch(t){i.e(t)}finally{i.f()}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var t,e,n=new Uint8Array(this.mp4track.len),r=0,i=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var o=this.samples.shift();(e=o.duration)<=0?(Vt("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(e)),this.mp4track.len-=o.size):(this.nextDts+=e,t={size:o.size,duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},n.set(o.units,r),r+=o.size,i.push(t))}return i.length?new Uint8Array(n.buffer,0,this.mp4track.len):null}}]),n}(Jt),Zt=function(t){l()(n,t);var e=Ft(n);function n(){var t;return i()(this,n),(t=e.call(this)).readyToDecode=!1,t.nextDts=0,t.dts=0,t.timescale=1e3,t.mp4track={id:Jt.getTrackID(),type:"video",len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:t.timescale,duration:t.timescale,samples:[]},t.samples=[],t.h264=new $t(u()(t)),t}return a()(n,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.sps="",this.mp4track.pps=""}},{key:"remux",value:function(t){var e,n,r,i,o,a,s=Ut(t);try{for(s.s();!(a=s.n()).done;){e=a.value,n=[],i=0,o=!1;var u,c=Ut(e.units);try{for(c.s();!(u=c.n()).done;)r=u.value,this.h264.parseNAL(r)&&(n.push(r),i+=r.getSize(),o||(o=r.isKeyframe()))}catch(t){c.e(t)}finally{c.f()}n.length>0&&this.readyToDecode&&(this.mp4track.len+=i,this.samples.push({units:n,size:i,keyFrame:o,duration:e.duration}))}}catch(t){s.e(t)}finally{s.f()}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var t,e,n=new Uint8Array(this.mp4track.len),r=0,i=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var o=this.samples.shift(),a=o.units;if((e=o.duration)<=0)Vt("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(e)),this.mp4track.len-=o.size;else{this.nextDts+=e,t={size:o.size,duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:o.keyFrame?0:1,dependsOn:o.keyFrame?2:1}};var s,u=Ut(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;n.set(c.getData(),r),r+=c.getSize()}}catch(t){u.e(t)}finally{u.f()}i.push(t)}}return i.length?new Uint8Array(n.buffer,0,this.mp4track.len):null}}]),n}(Jt);function te(t,e){var n=new Uint8Array((0|t.byteLength)+(0|e.byteLength));return n.set(t,0),n.set(e,0|t.byteLength),n}var ee=function(t){l()(n,t);var e=Ft(n);function n(t){var r;return i()(this,n),(r=e.call(this,"remuxer")).initialized=!1,r.trackTypes=[],r.tracks={},r.mediaDuration=t?1/0:1e3,r}return a()(n,[{key:"addTrack",value:function(t){"video"!==t&&"both"!==t||(this.tracks.video=new Zt,this.trackTypes.push("video")),"audio"!==t&&"both"!==t||(this.tracks.audio=new Qt,this.trackTypes.push("audio"))}},{key:"reset",value:function(){var t,e=Ut(this.trackTypes);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.tracks[n].resetTrack()}}catch(t){e.e(t)}finally{e.f()}this.initialized=!1}},{key:"destroy",value:function(){this.tracks={},this.offAll()}},{key:"flush",value:function(){if(this.initialized){var t,e=Ut(this.trackTypes);try{for(e.s();!(t=e.n()).done;){var n=t.value,r=this.tracks[n],i=r.getPayload();if(i&&i.byteLength){var o={type:n,payload:te(qt.moof(r.seq,r.dts,r.mp4track),qt.mdat(i)),dts:r.dts};this.dispatch("buffer",o);var a=(h=r.dts/1e3,p=void 0,d=void 0,v=void 0,y=void 0,y="",p=Math.floor(h),(d=parseInt(p/3600,10)%24)>0&&(y+=(d<10?"0"+d:d)+":"),y+=((v=parseInt(p/60,10)%60)<10?"0"+v:v)+":"+((p=p<0?0:p%60)<10?"0"+p:p));Vt("put segment (".concat(n,"): ").concat(r.seq," dts: ").concat(r.dts," samples: ").concat(r.mp4track.samples.length," second: ").concat(a)),r.flush()}}}catch(t){e.e(t)}finally{e.f()}}else if(this.isReady()){this.dispatch("ready");var s,u=Ut(this.trackTypes);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=this.tracks[c],f={type:c,payload:qt.initSegment([l.mp4track],this.mediaDuration,l.mp4track.timescale)};this.dispatch("buffer",f)}}catch(t){u.e(t)}finally{u.f()}Vt("Initial segment generated."),this.initialized=!0}var h,p,d,v,y}},{key:"isReady",value:function(){var t,e=Ut(this.trackTypes);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(!this.tracks[n].readyToDecode||!this.tracks[n].samples.length)return!1}}catch(t){e.e(t)}finally{e.f()}return!0}},{key:"remux",value:function(t){var e,n=Ut(this.trackTypes);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=t[r];"audio"===r&&this.tracks.video&&!this.tracks.video.readyToDecode||i.length>0&&this.tracks[r].remux(i)}}catch(t){n.e(t)}finally{n.f()}this.flush()}}]),n}(Gt),ne=function(t){l()(n,t);var e=Ft(n);function n(t,r){var o;return i()(this,n),(o=e.call(this,"buffer")).type=r,o.queue=new Uint8Array,o.cleaning=!1,o.pendingCleaning=0,o.cleanOffset=30,o.cleanRanges=[],o.sourceBuffer=t,o.sourceBuffer.addEventListener("updateend",(function(){o.dispatch("updateend",Date.now()),o.pendingCleaning>0&&(o.initCleanup(o.pendingCleaning),o.pendingCleaning=0),o.cleaning=!1,o.cleanRanges.length&&o.doCleanup()})),o.sourceBuffer.addEventListener("error",(function(t){o.dispatch("error",{type:o.type,name:"buffer",error:t})})),o}return a()(n,[{key:"destroy",value:function(){this.queue=null,this.sourceBuffer=null,this.offAll()}},{key:"doCleanup",value:function(){if(this.cleanRanges.length){var t=this.cleanRanges.shift();Vt("".concat(this.type," remove range [").concat(t[0]," - ").concat(t[1],")")),this.cleaning=!0,this.sourceBuffer.remove(t[0],t[1]),this.dispatch("clearBuffer")}else this.cleaning=!1}},{key:"initCleanup",value:function(t){if(this.sourceBuffer.updating)this.pendingCleaning=t;else if(this.sourceBuffer.buffered&&this.sourceBuffer.buffered.length&&!this.cleaning){for(var e=0;e<this.sourceBuffer.buffered.length;++e){var n=this.sourceBuffer.buffered.start(e),r=this.sourceBuffer.buffered.end(e);t-n>this.cleanOffset&&n<(r=t-this.cleanOffset)&&this.cleanRanges.push([n,r])}this.doCleanup()}}},{key:"doAppend",value:function(){if(this.queue.length&&!this.sourceBuffer.updating)try{this.sourceBuffer.appendBuffer(this.queue),this.queue=new Uint8Array}catch(t){if("QuotaExceededError"===t.name)return Vt("".concat(this.type," buffer quota full")),void this.dispatch("error",{type:this.type,name:"QuotaExceeded",error:"buffer error"});Ht("Error occured while appending ".concat(this.type," buffer -  ").concat(t.name,": ").concat(t.message)),this.dispatch("error",{type:this.type,name:"unexpectedError",error:"buffer error"})}}},{key:"feed",value:function(t){this.queue=te(this.queue,t)}}]),n}(Gt);window.MediaSource=window.MediaSource||window.WebKitMediaSource;var re=function(t){l()(n,t);var e=Ft(n);function n(t){var r;i()(this,n),r=e.call(this,"jmuxer"),window.MediaSource=window.MediaSource||window.WebKitMediaSource;if(r.options=Object.assign({},{node:"",mode:"both",flushingTime:1500,clearBuffer:!0,onReady:null,fps:30,debug:!1,onClearBuffer:null},t),r.options.debug&&(Ot=console.log,Nt=console.error),"string"==typeof r.options.node&&""==r.options.node&&Ht("no video element were found to render, provide a valid video element"),r.options.fps||(r.options.fps=30),r.frameDuration=1e3/r.options.fps|0,r.node="string"==typeof r.options.node?document.getElementById(r.options.node):r.options.node,r.sourceBuffers={},r.isMSESupported=!!window.MediaSource,!r.isMSESupported)throw"Oops! Browser does not support media source extension.";return r.setupMSE(),r.remuxController=new ee(r.options.clearBuffer),r.remuxController.addTrack(r.options.mode),"audio"===r.options.mode&&(r.aacParser=r.remuxController.tracks.audio.aac),r.mseReady=!1,r.lastCleaningTime=Date.now(),r.keyframeCache=[],r.frameCounter=0,r.remuxController.on("buffer",r.onBuffer.bind(u()(r))),r.remuxController.on("ready",r.createBuffer.bind(u()(r))),r.startInterval(),r}return a()(n,null,[{key:"isSupported",value:function(t){return window.MediaSource&&window.MediaSource.isTypeSupported(t)}}]),a()(n,[{key:"setupMSE",value:function(){this.mediaSource=new MediaSource,this.node.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("sourceclose",this.onMSEClose.bind(this)),this.mediaSource.addEventListener("webkitsourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("webkitsourceclose",this.onMSEClose.bind(this))}},{key:"feed",value:function(t){var e,n,r,i=!1,o={video:[],audio:[]};t&&this.remuxController&&(r=t.duration?parseInt(t.duration):0,t.video&&(e=$t.extractNALu(t.video)).length>0&&(o.video=this.getVideoFrames(e,r),i=!0),t.audio&&(n=this.aacParser.extractAAC(t.audio)).length>0&&(o.audio=this.getAudioFrames(n,r),i=!0),i?this.remuxController.remux(o):Ht("Input object must have video and/or audio property. Make sure it is not empty and valid typed array"))}},{key:"getVideoFrames",value:function(t,e){var n,r,i,o,a=[],s=[],u=0,c=[],l=Ut(t);try{for(l.s();!(o=l.n()).done;)n=o.value,r=new Wt(n),a.push(r),r.type()!==Wt.IDR&&r.type()!==Wt.NDR||(s.push({units:a}),a=[],this.options.clearBuffer&&(r.type()===Wt.IDR&&c.push(this.frameCounter),this.frameCounter++))}catch(t){l.e(t)}finally{l.f()}return e?(i=e/s.length|0,u=e-i*s.length):i=this.frameDuration,s.map((function(t){t.duration=u>0?i+1:i,0!==u&&u--})),this.options.clearBuffer&&(c=c.map((function(t){return t*i/1e3})),this.keyframeCache=this.keyframeCache.concat(c)),s}},{key:"getAudioFrames",value:function(t,e){var n,r,i,o=[],a=0,s=Ut(t);try{for(s.s();!(i=s.n()).done;)n=i.value,o.push({units:n})}catch(t){s.e(t)}finally{s.f()}return e?(r=e/o.length|0,a=e-r*o.length):r=this.frameDuration,o.map((function(t){t.duration=a>0?r+1:r,0!==a&&a--})),o}},{key:"destroy",value:function(){if(this.aacParser=null,this.stopInterval(),this.mediaSource){try{this.bufferControllers&&(this.mediaSource.endOfStream(),this.removeSourceBuffer())}catch(t){Ht("mediasource is not available to end ".concat(t.message))}this.mediaSource=null}if(this.remuxController&&(this.remuxController.destroy(),this.remuxController=null),this.bufferControllers){for(var t in this.bufferControllers)this.bufferControllers[t].destroy();this.bufferControllers=null}this.node=!1,this.mseReady=!1,this.videoStarted=!1}},{key:"createBuffer",value:function(){if(this.mseReady&&this.remuxController&&this.remuxController.isReady()&&!this.bufferControllers)for(var t in this.bufferControllers={},this.remuxController.tracks){var e=this.remuxController.tracks[t];if(!n.isSupported("".concat(t,'/mp4; codecs="').concat(e.mp4track.codec,'"')))return Ht("Browser does not support codec"),!1;var r=this.mediaSource.addSourceBuffer("".concat(t,'/mp4; codecs="').concat(e.mp4track.codec,'"'));this.bufferControllers[t]=new ne(r,t),this.sourceBuffers[t]=r,this.bufferControllers[t].on("error",this.onBufferError.bind(this)),this.bufferControllers[t].on("clearBuffer",this.onClearBuffer.bind(this)),this.bufferControllers[t].on("updateend",this.onUpdateEnd.bind(this))}}},{key:"onUpdateEnd",value:function(t){"function"==typeof this.options.onUpdateEnd&&this.options.onUpdateEnd(t)}},{key:"startInterval",value:function(){var t=this;this.interval=setInterval((function(){t.bufferControllers&&(t.releaseBuffer(),t.clearBuffer())}),this.options.flushingTime)}},{key:"stopInterval",value:function(){this.interval&&clearInterval(this.interval)}},{key:"releaseBuffer",value:function(){for(var t in this.bufferControllers)this.bufferControllers[t].doAppend()}},{key:"getSafeBufferClearLimit",value:function(t){for(var e,n="audio"===this.options.mode&&t||0,r=0;r<this.keyframeCache.length&&!(this.keyframeCache[r]>=t);r++)e=this.keyframeCache[r];return e&&(this.keyframeCache=this.keyframeCache.filter((function(t){return t<e&&(n=t),t>=e}))),n}},{key:"clearBuffer",value:function(){if(this.options.clearBuffer&&Date.now()-this.lastCleaningTime>1e4){for(var t in this.bufferControllers){var e=this.getSafeBufferClearLimit(this.node.currentTime);this.bufferControllers[t].initCleanup(e)}this.lastCleaningTime=Date.now()}}},{key:"onBuffer",value:function(t){this.bufferControllers&&this.bufferControllers[t.type]&&this.bufferControllers[t.type].feed(t.payload)}},{key:"onClearBuffer",value:function(){"function"==typeof this.options.onClearBuffer&&this.options.onClearBuffer()}},{key:"removeSourceBuffer",value:function(){if(this.mediaSource){var t=this.sourceBuffers;for(var e in t)this.mediaSource.removeSourceBuffer(t[e])}}},{key:"onMSEOpen",value:function(){this.mseReady=!0,this.createBuffer(),"function"==typeof this.options.onReady&&(this.options.onReady(),this.options.onReady=null)}},{key:"onMSEClose",value:function(){this.mseReady=!1,this.videoStarted=!1}},{key:"onBufferError",value:function(t){if("QuotaExceeded"!=t.name){if(this.mediaSource.sourceBuffers.length>0&&this.sourceBuffers[t.type]&&this.mediaSource.removeSourceBuffer(this.sourceBuffers[t.type]),0==this.mediaSource.sourceBuffers.length)try{this.mediaSource.endOfStream()}catch(t){Ht("mediasource is not available to end")}}else this.bufferControllers[t.type].initCleanup(this.node.currentTime)}}]),n}(Gt);function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var oe=function(t){l()(n,t);var e=ie(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"source",[]),y()(u()(r),"onPlay",void 0),r.source=t.source,r.onPlay=t.onPlay,r.init(),r}return a()(n,[{key:"init",value:function(){}},{key:"extract",value:function(t,e){for(var n=this.provide(e),r=0;r<n.size;r++)t[2*r]=n.left[r],t[2*r+1]=n.right[r];return n.size}},{key:"provide",value:function(t){for(var e=t,n=new Float32Array(e),r=new Float32Array(e),i=0,o=0,a=0;this.source.length>0;){var s=this.source.shift(),u=s.loadedPosition||0;o=s.startTime+s.duration*u/s.length;var c=Math.min(s.length-u,e-i),l=s.getChannelData(0),f=s.numberOfChannels>1?s.getChannelData(1):s.getChannelData(0);if(n.set(l.slice(u,u+c),i),r.set(f.slice(u,u+c),i),a+=c,i+=c,(u+=c)<s.length){s.loadedPosition=u,this.source.unshift(s);break}}return this.onPlay&&this.onPlay(o),{left:n,right:r,size:a}}}]),n}(M);function ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ue(t,e,n){return e&&se(t.prototype,e),n&&se(t,n),t}function ce(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t,e){return!e||"object"!==A()(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pe(t,e,n){return(pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=le(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var de=function(){function t(){ae(this,t),this._vector=new Float32Array,this._position=0,this._frameCount=0}return ue(t,[{key:"clear",value:function(){this.receive(this._frameCount),this.rewind()}},{key:"put",value:function(t){this._frameCount+=t}},{key:"putSamples",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=2*(e=e||0);n>=0||(n=(t.length-r)/2);var i=2*n;this.ensureCapacity(n+this._frameCount);var o=this.endIndex;this.vector.set(t.subarray(r,r+i),o),this._frameCount+=n}},{key:"putBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e=e||0,n>=0||(n=t.frameCount-e),this.putSamples(t.vector,t.position+e,n)}},{key:"receive",value:function(t){t>=0&&!(t>this._frameCount)||(t=this.frameCount),this._frameCount-=t,this._position+=t}},{key:"receiveSamples",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=2*e,r=this.startIndex;t.set(this._vector.subarray(r,r+n)),this.receive(e)}},{key:"extract",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.startIndex+2*e,i=2*n;t.set(this._vector.subarray(r,r+i))}},{key:"ensureCapacity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=parseInt(2*t);if(this._vector.length<e){var n=new Float32Array(e);n.set(this._vector.subarray(this.startIndex,this.endIndex)),this._vector=n,this._position=0}else this.rewind()}},{key:"ensureAdditionalCapacity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.ensureCapacity(this._frameCount+t)}},{key:"rewind",value:function(){this._position>0&&(this._vector.set(this._vector.subarray(this.startIndex,this.endIndex)),this._position=0)}},{key:"vector",get:function(){return this._vector}},{key:"position",get:function(){return this._position}},{key:"startIndex",get:function(){return 2*this._position}},{key:"frameCount",get:function(){return this._frameCount}},{key:"endIndex",get:function(){return 2*(this._position+this._frameCount)}}]),t}(),ve=function(){function t(e){ae(this,t),e?(this._inputBuffer=new de,this._outputBuffer=new de):this._inputBuffer=this._outputBuffer=null}return ue(t,[{key:"clear",value:function(){this._inputBuffer.clear(),this._outputBuffer.clear()}},{key:"inputBuffer",get:function(){return this._inputBuffer},set:function(t){this._inputBuffer=t}},{key:"outputBuffer",get:function(){return this._outputBuffer},set:function(t){this._outputBuffer=t}}]),t}(),ye=function(t){function e(t){var n;return ae(this,e),(n=he(this,le(e).call(this,t))).reset(),n._rate=1,n}return ce(e,t),ue(e,[{key:"reset",value:function(){this.slopeCount=0,this.prevSampleL=0,this.prevSampleR=0}},{key:"clone",value:function(){var t=new e;return t.rate=this._rate,t}},{key:"process",value:function(){var t=this._inputBuffer.frameCount;this._outputBuffer.ensureAdditionalCapacity(t/this._rate+1);var e=this.transpose(t);this._inputBuffer.receive(),this._outputBuffer.put(e)}},{key:"transpose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===t)return 0;for(var e=this._inputBuffer.vector,n=this._inputBuffer.startIndex,r=this._outputBuffer.vector,i=this._outputBuffer.endIndex,o=0,a=0;this.slopeCount<1;)r[i+2*a]=(1-this.slopeCount)*this.prevSampleL+this.slopeCount*e[n],r[i+2*a+1]=(1-this.slopeCount)*this.prevSampleR+this.slopeCount*e[n+1],a+=1,this.slopeCount+=this._rate;if(this.slopeCount-=1,1!==t)t:for(;;){for(;this.slopeCount>1;)if(this.slopeCount-=1,(o+=1)>=t-1)break t;var s=n+2*o;r[i+2*a]=(1-this.slopeCount)*e[s]+this.slopeCount*e[s+2],r[i+2*a+1]=(1-this.slopeCount)*e[s+1]+this.slopeCount*e[s+3],a+=1,this.slopeCount+=this._rate}return this.prevSampleL=e[n+2*t-2],this.prevSampleR=e[n+2*t-1],a}},{key:"rate",set:function(t){this._rate=t}}]),e}(ve),ge=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;ae(this,t),this._pipe=e,this.inputSize=n}return ue(t,[{key:"fillInputBuffer",value:function(){throw new Error("fillInputBuffer() not overridden")}},{key:"fillOutputBuffer",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.inputSize;this.outputBuffer.frameCount<t;){var n=e-this.inputBuffer.frameCount;if(this.fillInputBuffer(n),this.inputBuffer.frameCount<e)break;this._pipe.process()}}},{key:"clear",value:function(){this._pipe.clear()}},{key:"pipe",get:function(){return this._pipe}},{key:"inputBuffer",get:function(){return this._pipe.inputBuffer}},{key:"outputBuffer",get:function(){return this._pipe.outputBuffer}}]),t}(),me=function(){},be=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:me;return ae(this,e),(r=he(this,le(e).call(this,n,i))).callback=o,r.sourceSound=t,r.historyBufferSize=22050,r._sourcePosition=0,r.outputBufferPosition=0,r._position=0,r}return ce(e,t),ue(e,[{key:"onEnd",value:function(){this.callback()}},{key:"fillInputBuffer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Float32Array(2*t),n=this.sourceSound.extract(e,t,this._sourcePosition);this._sourcePosition+=n,this.inputBuffer.putSamples(e,0,n)}},{key:"extract",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.fillOutputBuffer(this.outputBufferPosition+e);var n=Math.min(e,this.outputBuffer.frameCount-this.outputBufferPosition);this.outputBuffer.extract(t,this.outputBufferPosition,n);var r=this.outputBufferPosition+n;return this.outputBufferPosition=Math.min(this.historyBufferSize,r),this.outputBuffer.receive(Math.max(r-this.historyBufferSize,0)),this._position+=n,n}},{key:"handleSampleData",value:function(t){this.extract(t.data,4096)}},{key:"clear",value:function(){pe(le(e.prototype),"clear",this).call(this),this.outputBufferPosition=0}},{key:"position",get:function(){return this._position},set:function(t){if(t>this._position)throw new RangeError("New position may not be greater than current position");var e=this.outputBufferPosition-(this._position-t);if(e<0)throw new RangeError("New position falls outside of history buffer");this.outputBufferPosition=e,this._position=t}},{key:"sourcePosition",get:function(){return this._sourcePosition},set:function(t){this.clear(),this._sourcePosition=t}}]),e}(ge),_e=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],we=function(t){function e(t){var n;return ae(this,e),(n=he(this,le(e).call(this,t)))._quickSeek=!0,n.midBufferDirty=!1,n.midBuffer=null,n.overlapLength=0,n.autoSeqSetting=!0,n.autoSeekSetting=!0,n._tempo=1,n.setParameters(44100,0,0,8),n}return ce(e,t),ue(e,[{key:"clear",value:function(){pe(le(e.prototype),"clear",this).call(this),this.clearMidBuffer()}},{key:"clearMidBuffer",value:function(){this.midBufferDirty&&(this.midBufferDirty=!1,this.midBuffer=null)}},{key:"setParameters",value:function(t,e,n,r){t>0&&(this.sampleRate=t),r>0&&(this.overlapMs=r),e>0?(this.sequenceMs=e,this.autoSeqSetting=!1):this.autoSeqSetting=!0,n>0?(this.seekWindowMs=n,this.autoSeekSetting=!1):this.autoSeekSetting=!0,this.calculateSequenceParameters(),this.calculateOverlapLength(this.overlapMs),this.tempo=this._tempo}},{key:"calculateOverlapLength",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=(t=this.sampleRate*e/1e3)<16?16:t,t-=t%8,this.overlapLength=t,this.refMidBuffer=new Float32Array(2*this.overlapLength),this.midBuffer=new Float32Array(2*this.overlapLength)}},{key:"checkLimits",value:function(t,e,n){return t<e?e:t>n?n:t}},{key:"calculateSequenceParameters",value:function(){var t,e;this.autoSeqSetting&&(t=150+-50*this._tempo,t=this.checkLimits(t,50,125),this.sequenceMs=Math.floor(t+.5)),this.autoSeekSetting&&(e=25- -10/1.5*.5+-10/1.5*this._tempo,e=this.checkLimits(e,15,25),this.seekWindowMs=Math.floor(e+.5)),this.seekWindowLength=Math.floor(this.sampleRate*this.sequenceMs/1e3),this.seekLength=Math.floor(this.sampleRate*this.seekWindowMs/1e3)}},{key:"clone",value:function(){var t=new e;return t.tempo=this._tempo,t.setParameters(this.sampleRate,this.sequenceMs,this.seekWindowMs,this.overlapMs),t}},{key:"seekBestOverlapPosition",value:function(){return this._quickSeek?this.seekBestOverlapPositionStereoQuick():this.seekBestOverlapPositionStereo()}},{key:"seekBestOverlapPositionStereo",value:function(){var t,e,n,r=0;for(this.preCalculateCorrelationReferenceStereo(),t=0,e=Number.MIN_VALUE;r<this.seekLength;r+=1)(n=this.calculateCrossCorrelationStereo(2*r,this.refMidBuffer))>e&&(e=n,t=r);return t}},{key:"seekBestOverlapPositionStereoQuick",value:function(){var t,e,n,r,i,o=0;for(this.preCalculateCorrelationReferenceStereo(),e=Number.MIN_VALUE,t=0,r=0,i=0;o<4;o+=1){for(var a=0;_e[o][a]&&!((i=r+_e[o][a])>=this.seekLength);)(n=this.calculateCrossCorrelationStereo(2*i,this.refMidBuffer))>e&&(e=n,t=i),a+=1;r=t}return t}},{key:"preCalculateCorrelationReferenceStereo",value:function(){for(var t,e,n=0;n<this.overlapLength;n+=1)e=n*(this.overlapLength-n),t=2*n,this.refMidBuffer[t]=this.midBuffer[t]*e,this.refMidBuffer[t+1]=this.midBuffer[t+1]*e}},{key:"calculateCrossCorrelationStereo",value:function(t,e){var n=this._inputBuffer.vector;t+=this._inputBuffer.startIndex;for(var r,i=0,o=2,a=2*this.overlapLength;o<a;o+=2)i+=n[r=o+t]*e[o]+n[r+1]*e[o+1];return i}},{key:"overlap",value:function(t){this.overlapStereo(2*t)}},{key:"overlapStereo",value:function(t){var e=this._inputBuffer.vector;t+=this._inputBuffer.startIndex;for(var n,r,i,o,a,s=this._outputBuffer.vector,u=this._outputBuffer.endIndex,c=0,l=1/this.overlapLength;c<this.overlapLength;c+=1)r=(this.overlapLength-c)*l,i=c*l,o=(n=2*c)+t,s[(a=n+u)+0]=e[o+0]*i+this.midBuffer[n+0]*r,s[a+1]=e[o+1]*i+this.midBuffer[n+1]*r}},{key:"process",value:function(){var t,e,n;if(null===this.midBuffer){if(this._inputBuffer.frameCount<this.overlapLength)return;this.midBuffer=new Float32Array(2*this.overlapLength),this._inputBuffer.receiveSamples(this.midBuffer,this.overlapLength)}for(;this._inputBuffer.frameCount>=this.sampleReq;){t=this.seekBestOverlapPosition(),this._outputBuffer.ensureAdditionalCapacity(this.overlapLength),this.overlap(Math.floor(t)),this._outputBuffer.put(this.overlapLength),(e=this.seekWindowLength-2*this.overlapLength)>0&&this._outputBuffer.putBuffer(this._inputBuffer,t+this.overlapLength,e);var r=this._inputBuffer.startIndex+2*(t+this.seekWindowLength-this.overlapLength);this.midBuffer.set(this._inputBuffer.vector.subarray(r,r+2*this.overlapLength)),this.skipFract+=this.nominalSkip,n=Math.floor(this.skipFract),this.skipFract-=n,this._inputBuffer.receive(n)}}},{key:"tempo",set:function(t){var e;this._tempo=t,this.calculateSequenceParameters(),this.nominalSkip=this._tempo*(this.seekWindowLength-this.overlapLength),this.skipFract=0,e=Math.floor(this.nominalSkip+.5),this.sampleReq=Math.max(e+this.overlapLength,this.seekWindowLength)+this.seekLength},get:function(){return this._tempo}},{key:"inputChunkSize",get:function(){return this.sampleReq}},{key:"outputChunkSize",get:function(){return this.overlapLength+Math.max(0,this.seekWindowLength-2*this.overlapLength)}},{key:"quickSeek",set:function(t){this._quickSeek=t}}]),e}(ve),xe=function(t,e){return(t>e?t-e:e-t)>1e-10},ke=function(){function t(){ae(this,t),this.transposer=new ye(!1),this.stretch=new we(!1),this._inputBuffer=new de,this._intermediateBuffer=new de,this._outputBuffer=new de,this._rate=0,this._tempo=0,this.virtualPitch=1,this.virtualRate=1,this.virtualTempo=1,this.calculateEffectiveRateAndTempo()}return ue(t,[{key:"clear",value:function(){this.transposer.clear(),this.stretch.clear()}},{key:"clone",value:function(){var e=new t;return e.rate=this.rate,e.tempo=this.tempo,e}},{key:"calculateEffectiveRateAndTempo",value:function(){var t=this._tempo,e=this._rate;this._tempo=this.virtualTempo/this.virtualPitch,this._rate=this.virtualRate*this.virtualPitch,xe(this._tempo,t)&&(this.stretch.tempo=this._tempo),xe(this._rate,e)&&(this.transposer.rate=this._rate),this._rate>1?this._outputBuffer!=this.transposer.outputBuffer&&(this.stretch.inputBuffer=this._inputBuffer,this.stretch.outputBuffer=this._intermediateBuffer,this.transposer.inputBuffer=this._intermediateBuffer,this.transposer.outputBuffer=this._outputBuffer):this._outputBuffer!=this.stretch.outputBuffer&&(this.transposer.inputBuffer=this._inputBuffer,this.transposer.outputBuffer=this._intermediateBuffer,this.stretch.inputBuffer=this._intermediateBuffer,this.stretch.outputBuffer=this._outputBuffer)}},{key:"process",value:function(){this._rate>1?(this.stretch.process(),this.transposer.process()):(this.transposer.process(),this.stretch.process())}},{key:"rate",get:function(){return this._rate},set:function(t){this.virtualRate=t,this.calculateEffectiveRateAndTempo()}},{key:"rateChange",set:function(t){this._rate=1+.01*t}},{key:"tempo",get:function(){return this._tempo},set:function(t){this.virtualTempo=t,this.calculateEffectiveRateAndTempo()}},{key:"tempoChange",set:function(t){this.tempo=1+.01*t}},{key:"pitch",set:function(t){this.virtualPitch=t,this.calculateEffectiveRateAndTempo()}},{key:"pitchOctaves",set:function(t){this.pitch=Math.exp(.69314718056*t),this.calculateEffectiveRateAndTempo()}},{key:"pitchSemitones",set:function(t){this.pitchOctaves=t/12}},{key:"inputBuffer",get:function(){return this._inputBuffer}},{key:"outputBuffer",get:function(){return this._outputBuffer}}]),t}(),Se=function(){function t(e){ae(this,t),this.buffer=e,this._position=0}return ue(t,[{key:"extract",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.position=n;for(var r=this.buffer.getChannelData(0),i=this.dualChannel?this.buffer.getChannelData(1):this.buffer.getChannelData(0),o=0;o<e;o++)t[2*o]=r[o+n],t[2*o+1]=i[o+n];return Math.min(e,r.length-n)}},{key:"dualChannel",get:function(){return this.buffer.numberOfChannels>1}},{key:"position",get:function(){return this._position},set:function(t){this._position=t}}]),t}(),Ee=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:me,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4096,i=t.createScriptProcessor(r,2,2),o=new Float32Array(2*r);return i.onaudioprocess=function(t){var i=t.outputBuffer.getChannelData(0),a=t.outputBuffer.getChannelData(1),s=e.extract(o,r);n(e.sourcePosition),0===s&&e.onEnd();for(var u=0;u<s;u++)i[u]=o[2*u],a[u]=o[2*u+1]},i},Pe=function(t){var e,n,r,i=Math.floor(t/60),o=t-60*i;return"".concat(i,":").concat((e=parseInt(o),r=r||"0",(e+="").length>=(n=2)?e:new Array(n-e.length+1).join(r)+e))},Te=function(t){var e=this.timePlayed,n=this.sampleRate;if(this.sourcePosition=t,this.timePlayed=t/n,e!==this.timePlayed){var r=new CustomEvent("play",{detail:{timePlayed:this.timePlayed,formattedTimePlayed:this.formattedTimePlayed,percentagePlayed:this.percentagePlayed}});this._node.dispatchEvent(r)}};!function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:me;ae(this,t),this._soundtouch=new ke;var a=new Se(n);this.timePlayed=0,this.sourcePosition=0,this._filter=new be(a,this._soundtouch,o),this._node=Ee(e,this._filter,(function(t){return Te.call(i,t)})),this.tempo=1,this.rate=1,this.duration=n.duration,this.sampleRate=e.sampleRate,this.listeners=[]}ue(t,[{key:"connect",value:function(t){this._node.connect(t)}},{key:"disconnect",value:function(){this._node.disconnect()}},{key:"on",value:function(t,e){this.listeners.push({name:t,cb:e}),this._node.addEventListener(t,(function(t){return e(t.detail)}))}},{key:"off",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.listeners;e&&(n=n.filter((function(t){return t.name===e}))),n.forEach((function(e){t._node.removeEventListener(e.name,(function(t){return e.cb(t.detail)}))}))}},{key:"formattedDuration",get:function(){return Pe(this.duration)}},{key:"formattedTimePlayed",get:function(){return Pe(this.timePlayed)}},{key:"percentagePlayed",get:function(){return 100*this._filter.sourcePosition/(this.duration*this.sampleRate)},set:function(t){this._filter.sourcePosition=parseInt(t*this.duration*this.sampleRate)}},{key:"node",get:function(){return this._node}},{key:"pitch",set:function(t){this._soundtouch.pitch=t}},{key:"pitchSemitones",set:function(t){this._soundtouch.pitchSemitones=t}},{key:"rate",set:function(t){this._soundtouch.rate=t}},{key:"tempo",set:function(t){this._soundtouch.tempo=t}}])}();function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Re=function(t){l()(n,t);var e=Ae(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"soundTouch",void 0),y()(u()(r),"filter",void 0),r.init(t.source),r}return a()(n,[{key:"init",value:function(t){this.soundTouch=new ke,this.soundTouch.tempo=1,this.soundTouch.rate=1,this.filter=new be(t,this.soundTouch,2048)}},{key:"provide",value:function(t){for(var e=new Float32Array(2*t),n=this.filter.extract(e,t),r=new Float32Array(n),i=new Float32Array(n),o=0;o<n;o++)r[o]=e[2*o],i[o]=e[2*o+1];return{size:n,left:r,right:i}}},{key:"rate",set:function(t){this.soundTouch.tempo=t}}]),n}(M);function Be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Le=function(t){l()(n,t);var e=Be(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"currentRate",1),y()(u()(r),"source",[]),y()(u()(r),"commonProcessor",void 0),y()(u()(r),"rateProcessor",void 0),y()(u()(r),"audioTime",0),r.source=t.source,r.init(),r}return a()(n,[{key:"init",value:function(){var t=this;this.commonProcessor=new oe({source:this.source,onPlay:function(e){t.audioTime=e}}),this.rateProcessor=new Re({source:this.commonProcessor})}},{key:"provide",value:function(t){var e=(1===this.currentRate?this.commonProcessor:this.rateProcessor).provide(t);return e.audioTime=this.audioTime,e}},{key:"rate",set:function(t){this.currentRate=t,this.rateProcessor.rate=t}}]),n}(M);function Ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var De="canplaythrough",Ie="seeked",Oe="waiting",Ne=function(t){l()(n,t);var e=Ce(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"audioContext",null),y()(u()(r),"scriptNode",null),y()(u()(r),"gainNode",null),y()(u()(r),"delay",0),y()(u()(r),"audioBuffer",new ArrayBuffer(0)),y()(u()(r),"decodedBuffer",[]),y()(u()(r),"isFirstPlay",!0),y()(u()(r),"defaultVolume",1),y()(u()(r),"currentRate",1),y()(u()(r),"eventListeners",{}),y()(u()(r),"canPlay",!1),y()(u()(r),"interval",void 0),y()(u()(r),"seekTimeDelta",0),y()(u()(r),"audioTime",0),y()(u()(r),"audioProvider",void 0),y()(u()(r),"isWaiting",!1),t=Object.assign({},t),r.flushTime=t.flushTime||1e3,r.onReady=t.onReady,r.init(),r}return a()(n,[{key:"init",value:function(){this.audioProvider=new Le({source:this.decodedBuffer}),"function"==typeof this.onReady&&setTimeout(this.onReady,0)}},{key:"feed",value:function(t){var e=t.audio;this.audioBuffer=this.appendByteArray(this.audioBuffer,e),this.canPlay||(this.canPlay=!0,this.triggerEvent(De))}},{key:"appendByteArray",value:function(t,e){var n=new Uint8Array((0|t.byteLength)+(0|e.byteLength));return n.set(new Uint8Array(t),0),n.set(new Uint8Array(e),0|t.byteLength),n.buffer}},{key:"decodeAudioData",value:function(t){var e=this;this.audioBuffer&&this.audioBuffer.byteLength>0&&(this.audioContext.decodeAudioData(this.audioBuffer,(function(n){n.startTime=e.delay,e.delay+=n.duration,e.decodedBuffer.push(n),t&&t.call()}),(function(t){e.logger.error("decodeAudioData",t)})),this.audioBuffer=new ArrayBuffer(0))}},{key:"play",value:function(){var t=this;return new Promise((function(e,n){t.isFirstPlay?(t.isFirstPlay=!1,t.logger.info("startPlay"),t.audioContext=new(window.AudioContext||window.webkitAudioContext),t.gainNode=t.audioContext.createGain(),t.gainNode.gain.value=t.defaultVolume,t.scriptNode=t.audioContext.createScriptProcessor(2048,2,2),t.scriptNode.onaudioprocess=function(e){var n=e.outputBuffer,r=n.length,i=t.audioProvider.provide(r);if(0!==i.size){t.isWaiting&&(t.isWaiting=!1,t.triggerEvent(De));var o=n.getChannelData(0),a=n.getChannelData(1);if(0!=i.audioTime&&(t.audioTime=i.audioTime),o.set(i.left),a.set(i.right),i.size<r){var s=new Float32Array(r-i.size);o.set(s,i.size),a.set(s,i.size)}}else t.isWaiting||(t.isWaiting=!0,t.triggerEvent(Oe))},t.scriptNode.connect(t.gainNode),t.gainNode.connect(t.audioContext.destination),t.decodeAudioData.call(t,t.testAutoplay.bind(t,e,n)),t.interval=setInterval(t.decodeAudioData.bind(t),t.flushTime)):"suspended"===t.audioContext.state?t.audioContext.resume().then((function(){t.logger.info("play","Audio is resumed"),e()})):(t.logger.info("Audio resumed from waiting"),e())}))}},{key:"pause",value:function(){var t=this;this.audioContext&&this.audioContext.suspend().then((function(){t.logger.info("pause","Audio is paused")}))}},{key:"addEventListener",value:function(t,e){this.eventListeners[t]=e}},{key:"triggerEvent",value:function(t){var e=this.eventListeners[t];e&&e.call()}},{key:"buffer",value:function(){var t=0;this.decodedBuffer.length>0&&(t=this.decodedBuffer[0].startTime);return{start:1e3*t,end:parseInt(1e3*this.delay)}}},{key:"destroy",value:function(){this.delay=0,this.audioContext&&(clearInterval(this.interval),this.scriptNode.disconnect(),this.scriptNode=null,this.audioContext.close(),this.audioContext=null),this.gainNode=null,this.audioBuffer=new ArrayBuffer(0),this.canPlay=!1,this.isFirstPlay=!0,this.decodedBuffer.length=0,this.seekTimeDelta=0,this.audioTime=0}},{key:"testAutoplay",value:function(t,e){var n=B.createEl("audio"),r=n.play();n=null;var i=!1;void 0!==r?(r.catch((function(){i=!0})),setTimeout((function(){r=null,i?e("Autoplay is prevented"):t()}),100)):e("Promise is undefined")}},{key:"currentTime",get:function(){return this.audioTime},set:function(t){var e=this;for(this.audioTime=t;this.decodedBuffer.length>0;){var n=this.decodedBuffer.shift();if(n.startTime<=t&&n.startTime+n.duration>t){n.loadedPosition=parseInt(n.length*(t-n.startTime)/n.duration),this.decodedBuffer.unshift(n);break}}setTimeout((function(){e.triggerEvent(Ie)}),0)}},{key:"volume",get:function(){return this.gainNode.gain.value},set:function(t){this.gainNode?this.gainNode.gain.value=t:this.defaultVolume=t}},{key:"playbackRate",set:function(t){t!==this.currentRate&&(this.currentRate=t,this.audioProvider.rate=t)}}]),n}(M);function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Ue=function(t){l()(n,t);var e=Me(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"need",!0),y()(u()(t),"first",!1),y()(u()(t),"offset",0),y()(u()(t),"currentPTS",0),y()(u()(t),"ready",!1),y()(u()(t),"end",!1),y()(u()(t),"lastData",null),y()(u()(t),"nodeParent",null),y()(u()(t),"useJMuxer",!1),t.player=r.audioNode,t.createAudioMuxer(),t.bindEvent(),t.logger.info("audioDecoder",t.useJMuxer?"JMuxer":"AudioContext"),t}return a()(n,[{key:"bindEvent",value:function(){var t=this;this.bindNodeEvent(),this.events.on(st.default.PlayerMaxPTS,(function(e){t.currentPTS===e&&(t.end=!0)}))}},{key:"bindNodeEvent",value:function(){var t=this;this.addEventListener("seeked",(function(){t.onSeekedHandler&&t.onSeekedHandler(),t.events.emit("AudioPlayer.seeked")})),this.addEventListener("canplaythrough",(function(){t.logger.info("canplaythrough"),t.ready||(t.ready=!0,t.status="ready",t.logger.info("constructor","canplaythrough","ready"),t.events.emit(st.default.AudioPlayerDataReady))})),this.addEventListener("waiting",(function(){t.ready=!1,t.end?(t.useJMuxer||t.player.destroy(),t.status="end",t.events.emit(st.default.AudioPlayerEnd,"audio"),t.logger.info("audioPlayer end")):(t.logger.warn("audioPlayer waiting",t.player.currentTime,t.currentPTS),t.status="waiting",t.events.emit(st.default.AudioPlayerWait,"audio"))}))}},{key:"reset",value:function(){this.lastData=null,this.first=!1,this.offset=0,this.currentPTS=0,this.ready=!1,this.end=!1,this.clear(),this.createAudioMuxer(),this.bindNodeEvent(),this.stime=null}},{key:"createNode",value:function(){this.player=document.createElement("audio"),this.player.classList.add("goldplay__audio--player"),this.parentNode.appendChild(this.player)}},{key:"createAudioMuxer",value:function(){this.useJMuxer?this.audioDecoder=new re({node:this.player,mode:"audio",debug:!1,clearBuffer:!0,flushingTime:10,onReady:this.onMSEReady.bind(this)}):(this.audioDecoder=new Ne({flushTime:100,onReady:this.onMSEReady.bind(this)}),this.player=this.audioDecoder)}},{key:"onMSEReady",value:function(){this.logger.info("onMSEReady","AudioPlayerReady"),this.events.emit(st.default.AudioPlayerReady)}},{key:"clear",value:function(){this.audioDecoder.destroy(),this.audioDecoder=null}},{key:"play",value:function(){var t=this;"playing"!==this.status&&(this.status="playing",this.player.play().then((function(){t.events.emit(st.default.AudioPlayerPlaySuccess)})).catch((function(e){t.logger.error("play","errorInfo:",e),t.events.emit(st.default.AudioPlayerPlayFail)})))}},{key:"pause",value:function(){"pause"!==this.status&&(this.status="pause",this.player.pause())}},{key:"send",value:function(t){if(!t.PTS)return this.need=!1,void this.events.emit(st.default.AudioPlayerDataReady);if(this.need=!0,this.audioDecoder){if(this.stime||(this.stime=Date.now()),(t=this.format(t)).audioEnd)return this.logger.info("push","audioEnd"),this.feed(this.lastData),void(this.lastData=null);if(this.first||(this.first=!0,this.offset=t.start),t.PTS>this.currentPTS){if(!this.lastData)return void(this.lastData=t);this.lastData.duration=t.PTS-this.lastData.PTS,this.feed(this.lastData),t.duration=this.lastData.duration,this.lastData=t}}else this.logger.error("send","audioDecoder is:",this.audioDecoder)}},{key:"feed",value:function(t){this.audioDecoder.feed({audio:t.data_byte,duration:t.duration}),this.currentPTS=t.PTS}},{key:"format",value:function(t){return t&&t.data_byte&&(t.start=t.PTS),t}},{key:"addEventListener",value:function(t,e){this.player.addEventListener(t,e)}},{key:"isBuffered",value:function(t){return!this.need||-1!==[this.buffer()].findIndex((function(e){return t>=e.start&&t<e.end}))}},{key:"buffer",value:function(){if(this.useJMuxer){for(var t=this.player.buffered,e=t.length,n={};e>0;)n.start=1e3*t.start(e-1)+this.offset,n.end=1e3*t.end(e-1)+this.offset,e--;return n}var r=this.player.buffer();return{start:r.start+this.offset,end:r.end+this.offset}}},{key:"muted",set:function(t){this.player.muted=!!t}},{key:"playbackRate",set:function(t){this.player.playbackRate=t}},{key:"volume",get:function(){return this.player.volume},set:function(t){this.player.volume=t,this.muted=0===t}},{key:"currentTime",get:function(){return parseInt(1e3*this.player.currentTime+this.offset)},set:function(t){this.player.currentTime=(t-this.offset)/1e3}},{key:"paused",get:function(){return this.player.paused}},{key:"offset",set:function(t){this.offset=t}}]),n}(M),je={playerContainer:"goldplay__container",screenContainer:"goldplay__screen--container",screenCanvas:"goldplay__screen--canvas",audioContainer:"goldplay__audio--container",audioPlayer:"goldplay__audio--player",controlContainer:"goldplay__control--container",containerFullPage:"goldplay__container-fullpage",containerFullScreen:"goldplay__container-fullscreen",controlContainerFloat:"goldplay__control--container-float",bigPlayButton:"goldplay__screen--bigplay",poster:"goldplay__screen--poster",nearside:"goldplay__control--nearside",sidebar:"goldplay__control--sidebar",buttonBlock:"goldplay__control--button-block",playButton:"goldplay__control--play",pauseButton:"goldplay__control--pause",replayButton:"goldplay__control--replay",speedBar:"goldplay__speed-bar",speedBarBox:"goldplay__speed-bar--box",rateBar:"goldplay__rate-bar",rateBarBox:"goldplay__rate-bar--box",fullPage:"goldplay__control--fullpage",fullScreen:"goldplay__control--fullscreen",waitingBar:"goldplay__waiting-bar",progressBar:"goldplay__progress-bar",progressBarHover:"goldplay__progress-bar-hover",progressBarPlay:"goldplay__progressbar--play",progressBarPlayHover:"goldplay__progressbar--play-hover",progressBarLoad:"goldplay__progressbar--load",progressBarLoadHover:"goldplay__progressbar--load-hover",progressBarDot:"goldplay__progressbar--dot",progressBarDotHover:"goldplay__progressbar--dot-hover",volumeBar:"goldplay__volume-bar",volumeBarAudio:"goldplay__volume-bar--audio",volumeBarAudioOn:"goldplay__volume-bar--audio-on",volumeBarAudioOff:"goldplay__volume-bar--audio-off",volumeBarHandle:"goldplay__volume-bar--handle",volumeBarRod:"goldplay__volume-bar--rod",volumeBarRodHover:"goldplay__volume-bar--rod-hover",volumeBarSize:"goldplay__volume-bar--size",volumeBarColumn:"goldplay__volume-bar--column",alertBox:"goldplay__alter-box",alertClose:"goldplay__alter--close"};function Fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Ve=je,He=function(){function t(){i()(this,t)}return a()(t,null,[{key:"createContainer",value:function(t){var e=function(t){l()(n,t);var e=Fe(n);function n(){return i()(this,n),e.apply(this,arguments)}return n}(Z()(HTMLDivElement));customElements.get("gp-container")||customElements.define("gp-container",e,{extends:"div"});var n=B.createEl("gp-container","div");return n.className=Ve.playerContainer,n.style.width=(t.options.width?t.options.width:t.el.offsetWidth)+"px",n.style.height=(t.options.height?t.options.height:t.el.offsetHeight)+"px",n}},{key:"createScreenContainer",value:function(t){var e=t.$container,n=function(t){l()(n,t);var e=Fe(n);function n(){return i()(this,n),e.apply(this,arguments)}return n}(Z()(HTMLDivElement));customElements.get("gp-screen")||customElements.define("gp-screen",n,{extends:"div"});var r,o=B.createEl("gp-screen","div");return o.classList.add(Ve.screenContainer),r=t.controlBarAutoHide||!1===t.controlBar?e.offsetHeight:e.offsetHeight-t.controlBarHeight,o.style.height=r+"px",o}},{key:"createAudioContainer",value:function(){var t=B.createEl("gp-audio");return t.classList.add(Ve.audioContainer),t.style.display="none",t}},{key:"createAudio",value:function(){var t=B.createEl("audio");return t.classList.add(Ve.audioPlayer),t.controls=!0,t}},{key:"clearCavans",value:function(t){var e=t.getContext("webgl");e.clear(e.COLOR_BUFFER_BIT)}}]),t}();y()(He,"createCanvas",(function(t){var e=B.createEl("canvas");return e.style.display="none",e.classList.add(Ve.screenCanvas),e.width=t.options.screenWidth||t.screenWidth,e.height=t.options.screenHeight||t.screenHeight,e}));var We=w.a.get("Template.js"),ze=function(){function t(){i()(this,t)}return a()(t,null,[{key:"mergeVar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t||""===t)return t;try{var n=new RegExp("\\${'?\"?\\s*([.:a-z0-9_s]+?)\\s*'?\"?}","ig");return t.replace(n,(function(t,n){n=n.trim();var r=e[n];return r=(r=void 0===(r=null===r?"":r)?"":r)||""}))}catch(e){return We.error("mergeVar","replace variable","error:",e),t}}},{key:"makeValue",value:function(e,n,r){if("string"!=typeof n&&"function"!=typeof n)return n;if("function"==typeof n&&(n=n.call(this,this.data)),!r)return t.escapeHTML.call(this,n);var i,o=function(e){var n="";return e&&(n=" ".concat(t.slotReplaceName,'="true"')),'<gp-slot style="display:none"'.concat(n,"></gp-slot>")};if(t.isSoltType(r)){if("function"!=typeof this.getComponent)return We.error("makeValue","the object is not support slot mode.",this.getComponent,n),n;switch(r){case t.slotTypeMap.component:i=n;var a=this.getComponent(i);"object"===A()(a)&&a.element?(a.element.setAttribute(t.slotReplaceName,"true"),n=a.element.outerHTML):n=o(i);break;case t.slotTypeMap.html:n=t.mergeVar.call(this,n,this.data)}var s="";void 0!==i&&(s=" ".concat(t.slotComName,'="').concat(i,'" '));var u="$1 "+t.slotTypeName+'="'+r+'" '+t.slotKeyName+'="'+e+'"'+s+"$2";return"string"==typeof n&&(n=(n=""===n?o():n).replace(/^\s*(<\s?[\w-]*)(.*[\r|\n|>])/,u)),n}if("string"==typeof r){var c=$e[r];return"function"==typeof c&&(n=c.call(this,n)),n}return t.escapeHTML.call(this,n)}},{key:"escapeHTML",value:function(t){return"string"!=typeof t?t:t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{key:"generate",value:function(e,n,r){var i=this,o=r[r.length-1]||{},a=[e[0]];return n.forEach((function(n,s){if(n){var u,c,l=n.split(t.pipSeparator);l.length>1&&(n=l[0],c=l[1]),u=Number.isInteger(n)?r[n]:o[n],void 0!==(u=t.makeValue.bind(i)(n,u,c))&&a.push(u),void 0!==e[s+1]&&a.push(e[s+1])}})),a.join("")}},{key:"create",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o;o=Array.isArray(e)?"array":"function"==typeof e?"function":"string";var a=this;if("object"===A()(a)||"function"==typeof a)if(void 0!==e&&""!==e)switch(void 0!==a.data&&null!==a.data||(We.info("create","this object.data is undefined or null",a),a.data={}),o){case"array":return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i[i.length-1]||{};"object"===A()(a)&&(a.__template__={tplObj:e,keys:r,dict:s});var u=t.generate.bind(a);return u(e,r,i)};case"function":var s=t.create.bind(a);return e.call(a,a.data,s,a);default:return function(n){return n=void 0!==n?n:a.data,t.mergeVar(e,n)}}else We.error("create","have not give tplObj parameter.",e);else We.error("create","this is not an object.",a)}},{key:"isSoltType",value:function(e){return e=String(e).toLowerCase(),t.slotTypeMap[e]}}]),t}();ze.pipSeparator="|",ze.slotTypeName="gp-slot-type",ze.slotKeyName="gp-slot-key",ze.slotComName="gp-slot-com",ze.slotReplaceName="gp-slot-replace",ze.slotTypeMap={html:"html",component:"component"};var $e={trim:function(t){return t.trim()},upperCase:function(t){return t.toUpperCase()},lowerCase:function(t){return t.toLowerCase()}},Ge=ze,Ye=n(20),qe=n.n(Ye),Xe=n(31),Ke=n.n(Xe),Je=w.a.get("Observer.js"),Qe=function(){function t(e){i()(this,t),y()(this,"object",null),this.setObject(e)}var e;return a()(t,[{key:"setObject",value:function(t){this.object=t}},{key:"watch",value:(e=Ke()(qe.a.mark((function t(e,n,r){var i;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"==typeof(i=this.object).watch){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,i.watch(e,n,r);case 5:!1!==t.sent&&"function"==typeof i.render&&i.render(e,n,r),"function"==typeof i.afterWatch&&i.afterWatch(e,n,r);case 8:case"end":return t.stop()}}),t,this)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=e.set,i=e.get;t=t||n.data;var o=n.object,a={set:function(t,e,i){return"function"==typeof r?r.call(n,t,e,i):(t[e]!==i&&(t[e]=i,o.__template__&&Object.prototype.hasOwnProperty.call(o.__template__.dict,e)&&n.watch(t,e,i)),!0)},get:function(t,e){return"function"==typeof i?i.call(n,t,e):"object"===A()(t[e])&&null!==t[e]?new Proxy(t[e],a):Reflect.get(t,e)}};return new Proxy(t,a)}}]),t}(),Ze=function(t){return"object"!==A()(t)&&Je.error("observer","this is not an object."),new Qe(t)};function tn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return en(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function rn(t){if(t){var e=[],n=[];for(n.push(t);n.length;){var r=n.shift(),i=r.getAttribute(Ge.slotTypeName);if(!Ge.isSoltType(i)){e.push(r);for(var o=r.children,a=0,s=o.length;a<s;a++)n.push(o[a])}}return e}}var on=function(t){return t.getAttribute&&t.getAttribute(Ge.slotTypeName)===Ge.slotTypeMap.html},an=function(t,e){return!(!(n=t).getAttribute||n.getAttribute(Ge.slotTypeName)!==Ge.slotTypeMap.component||t.getAttribute(Ge.slotComName)===e.getAttribute(Ge.slotComName));var n},sn=function(t,e,n){var r;(t||e)&&(!t&&e?n.appendChild(e):!e&&t?n.removeChild(t):t.tagName!==e.tagName||(r=e,on(t)&&on(r))||an(t,e)?t.replaceWith(e.cloneNode(!0)):t.nodeType===Node.TEXT_NODE&&t.nodeValue!==e.nodeValue?t.nodeValue=e.nodeValue:t.setAttribute&&B.setAttributes(t,e))},un=function(t){l()(n,t);var e=nn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"createTemplate",null),y()(u()(t),"template",""),y()(u()(t),"element",null),y()(u()(t),"eventsList",{}),y()(u()(t),"data",{}),y()(u()(t),"id",""),t.id=r.id||t.constructor.name,t.options=r,t.createTemplate=Ge.create.bind(u()(t)),t}return a()(n,[{key:"getTemplate",value:function(){return this.template}},{key:"setTemplate",value:function(t){this.template=t}},{key:"init",value:function(){this.data=Ze(this).create(this.data),this.render(),"function"==typeof this.afterInit&&this.afterInit()}},{key:"afterInit",value:function(){}},{key:"initProps",value:function(){}},{key:"bindEvent",value:function(){}},{key:"watch",value:function(){}},{key:"render",value:function(){var t="";t="function"==typeof this.template?this.template(this.data):this.template;var e=B.createEl("div");if("string"==typeof t){e.innerHTML=t;var n,r=e.firstElementChild,i=tn(r.querySelectorAll("["+Ge.slotReplaceName+"]"));try{for(i.s();!(n=i.n()).done;){var o=n.value;if("true"===o.getAttribute(Ge.slotReplaceName)){var a=o.getAttribute(Ge.slotComName),s=this.getComponent(a);if(!s)continue;var u=s.element;B.isElement(this.element)?o.replaceWith(u.cloneNode(!0)):o.replaceWith(u),s.element.removeAttribute(Ge.slotReplaceName)}}}catch(t){i.e(t)}finally{i.f()}B.isElement(this.element)?this.replaceNode(this.element,r):this.element=r}else this.logger.error("render:","this template is not html string","html:",t)}},{key:"replaceNode",value:function(t,e){if(t&&e){var n=rn(t),r=rn(e),i=n.length,o=r.length,a=Math.max(i,o);if(a<=0||t.tagName!==e.tagName)return t.replaceWith(e),void(this.element=e);for(;a--;){var s=n[a],u=r[a];if(s)if(u){if(s.tagName===u.tagName&&B.syncAttributes(s,u),!s.isEqualNode(u)){var c=Math.max(s.childNodes.length,u.childNodes.length);if(c<=0)sn(s,u,s.parentNode);else for(var l=0,f=c;l<f;l++){var h=s.childNodes[l],p=u.childNodes[l];(h||p)&&sn(h,p,s)}}}else s.parentNode.removeChild(s);else t.appendChild(u)}}}},{key:"show",value:function(){this.data.display="show",this.element&&(this.element.style.display="inline-block")}},{key:"hide",value:function(){this.data.display="hide",this.element&&(this.element.style.display="none")}},{key:"resetPosition",value:function(){var t=this.element.parentNode,e=t.offsetWidth,n=t.offsetHeight;this.element.style.marginTop=(n-this.element.offsetHeight)/2+"px",this.element.style.marginLeft=(e-this.element.offsetWidth)/2+"px"}},{key:"replace",value:function(t){this.element.replaceWith(t),this.element=t}},{key:"update",value:function(t){this.element.innerHTML=t}},{key:"addEventListener",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.addEventListener(e,n,r),{destroy:function(){t.removeEventListener(e,n)}}}},{key:"removeEventListenerAll",value:function(){var t=this;Object.keys(this.eventsList).forEach((function(e){t.eventsList[e].destroy()}))}},{key:"getComponent",value:function(t){if(void 0!==t)return this.options.componentsController?this.options.componentsController.getComponent(t):void 0}},{key:"getHTMLString",value:function(){return this.element.outerHTML}},{key:"destroy",value:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.events.emit("Component_"+this.id+".destroy",this),this.removeEventListenerAll()}}]),n}(M),cn=n(9),ln=n.n(cn),fn={formatHHMMSS:function(t){var e=parseInt(t,10),n=Math.floor(e/3600),r=Math.floor((e-3600*n)/60),i=e-3600*n-60*r;n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i);var o="";return"00"!==n&&(o=n+":"),o+r+":"+i}},hn={formatBytes:function(t,e){if(0==t)return"0 Bytes";var n=e<=0?0:e||2,r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}};function pn(){var t=ln()(['\n  <gp-poster class="goldplay__screen--poster">\n  <img src="','" width="','" data-display="','" heigth="','" class="goldplay__screen--poster-image">\n  <gp-speed class="goldplay__screen--poster-speed">',"</gp-speed>\n  </gp-poster>\n  "]);return pn=function(){return t},t}function dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var vn=function(t){l()(n,t);var e=dn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(pn(),"poster","width","display","height","speed")),y()(u()(t),"data",{poster:"",status:"",display:"show",speed:"",width:"",height:""}),y()(u()(t),"options",{}),t.options=r,r.player.poster&&(t.data.poster=r.player.poster),Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"resetPosition",value:function(){if(this.element){var t=this.element.parentNode.offsetWidth,e=this.element.parentNode.offsetHeight;this.element.style.width=t+"px",this.element.style.marginTop=(e-this.element.offsetHeight-20)/2+"px"}}},{key:"bindEvent",value:function(){var t=this;this.events.on(st.default.LoaderUpdateSpeed,(function(e){"show"===t.data.display&&(t.data.speed=hn.formatBytes(e.speed)+" /s")}))}},{key:"hide",value:function(){"hide"!==this.data.display&&(this.element.style.opacity=0,this.element.style.display="none",this.data.display="hide")}}]),n}(un);function yn(){var t=ln()(['\n    <gp-control class="goldplay__control--container ','" style="width:',"px;height:","px;opacity:",'" data-status="','">\n      ',"\n      ","\n      ","\n    </gp-control>\n  "]);return yn=function(){return t},t}function gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var mn=function(t){l()(n,t);var e=gn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(yn(),"containerFloatCss","width","height","opacity","status","progressBarName|component","sideControlBarName|component","nearControlBarName|component")),y()(u()(t),"hideDelayTime",void 0),y()(u()(t),"hideTimeCount",void 0),y()(u()(t),"data",{progressBarName:"progressBar",sideControlBarName:"sideControlBar",nearControlBarName:"nearControlBar",width:"",height:"",opacity:1,containerFloatCss:"",display:"show",status:""}),y()(u()(t),"options",{}),t.options=r,t.hideDelayTime=t.options.player.controlBarAutoHideTime||3,r.player.controlBarAutoHide&&(t.data.containerFloatCss=t.options.cssName.controlContainerFloat,t.resetPosition()),Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"initProps",value:function(){this.hideTimeCount=this.hideDelayTime}},{key:"bindEvent",value:function(){var t=this,e=this.options;e.player.controlBarAutoHide&&(e.$container.addEventListener("mousemove",(function(){t.hideTimeCount<=0&&(t.data.display="show",t.show()),t.hideTimeCount=t.hideDelayTime})),setInterval((function(){t.hideTimeCount>0?t.hideTimeCount-=1:"hide"!==t.data.display&&(t.data.display="hide",t.hide())}),100))}},{key:"setSize",value:function(t,e){void 0!==t&&(this.data.width=t),void 0!==e&&(this.data.height=e)}},{key:"show",value:function(){var t,e=this;this.options.player.controlBarAutoHide?(clearTimeout(t),t=setTimeout((function(){e.data.opacity=1}),1)):this.data.opacity=1}},{key:"hide",value:function(){this.data.opacity=0}},{key:"resetPosition",value:function(){this.setSize(this.options.$container.offsetWidth,this.options.player.controlBarHeight)}}]),n}(un),bn=w.a.get("Delegator.js");function _n(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:"object"===A()(t)&&(1===t.nodeType&&"string"==typeof t.nodeName)}function wn(t){t.preventDefault(),t.stopPropagation()}function xn(t,e,n,r,i){var o=function(t,e){if(t&&t.matches){if(!Array.isArray(e))return t.matches(e);for(var n=0,r=e.length;n<r;n++)if(t.matches(e[n]))return!0}return!1};function a(t){for(var e=(t=t||window.event).target||t.srcElement,i=t.currentTarget,a=!0;a&&e!==i&&e;){if(o(e,n)&&(a=!1!==r.call(e,t)),!a)return void wn(t);e=e.parentNode}}r.__delegateWrapper=a,function(t,e,n,r){void 0===r&&(r="blur"===e||"focus"===e),_n(t)&&t.addEventListener(e,n,r)}(t,e,a,i)}var kn=function(){function t(e){return i()(this,t),y()(this,"element",null),_n(e)?this.element=e:bn.error("constructor","new instance","element:",this.element),this}return a()(t,[{key:"off",value:function(t,e,n){return e.__delegateWrapper&&delete(e=e.__delegateWrapper).__delegateWrapper,this.element.removeEventListener(t,e,n),this}},{key:"on",value:function(t,e,n,r){var i=this;return Array.isArray(e)?e.forEach((function(e){xn(i.element,t,e,n,r)})):xn(this.element,t,e,n,r),this}},{key:"once",value:function(t,e,n,r){return this.on(t,e,n,{capture:r,once:!0}),this}}]),t}(),Sn=null,En=function(t){return"string"==typeof t&&(t=document.querySelector(t)),Sn?Sn.element=t:Sn=new kn(t),Sn},Pn=function(){function t(e,n){var r=n.$container,o=n.type,a=n.scope,s=n.onStart,u=n.onDrag,c=n.onRelease;i()(this,t),y()(this,"$container",null),y()(this,"$ele",null),y()(this,"active",!1),y()(this,"offsetX",0),y()(this,"offsetY",0),y()(this,"offsetLeft",0),y()(this,"offsetTop",0),y()(this,"orginOffsetLeft",0),y()(this,"orginOffsetTop",0),y()(this,"orginOffsetWidth",0),y()(this,"orginOffsetHeight",0),y()(this,"initialX",0),y()(this,"initialY",0),y()(this,"type","default"),y()(this,"scope",{}),this.$container=r||document.body,this.$ele=e,this.type=o,this.scope=a,this.eventsList={},this.onStart=s,this.onDrag=u,this.onRelease=c,this.bindEvent()}return a()(t,[{key:"addEventListener",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.addEventListener(e,n,r),{destroy:function(){t.removeEventListener(e,n)}}}},{key:"removeEventListenerAll",value:function(){var t=this;Object.keys(this.eventsList).forEach((function(e){t.eventsList[e].destroy()}))}},{key:"bindEvent",value:function(){var t=this;this.eventsList.mousedown=this.addEventListener(this.$container,"mousedown",(function(e){t.start(e)}),!1),this.eventsList.mouseup=this.addEventListener(this.$container,"mouseup",(function(e){t.release(e)}),!1),this.eventsList.mousemove=this.addEventListener(this.$container,"mousemove",(function(e){t.drag(e)}),!1)}},{key:"start",value:function(t){t.target===this.$ele&&(void 0===this.scope&&void 0!==this.$container&&(this.scope={left:this.$container.offsetLeft,right:this.$container.offsetLeft+this.$container.offsetWidth,top:this.$container.offsetTop,bottom:this.$container.offsetTop+this.$container.offsetHeight}),this.offsetLeft=this.$ele.offsetLeft,this.offsetTop=this.$ele.offsetTop,this.active=!0,this.initialX=t.clientX,this.initialY=t.clientY,this.orginOffsetLeft=this.$ele.offsetLeft,this.orginOffsetTop=this.$ele.offsetTop,this.orginOffsetWidth=this.$ele.offsetWidth,this.orginOffsetHeight=this.$ele.offsetHeight,"function"==typeof this.onStart&&this.onStart.call(this,this.offsetX,this.offsetY,t,this))}},{key:"release",value:function(t){this.active=!1,"function"==typeof this.onRelease&&this.onRelease.call(this,this.offsetX,this.offsetY,t,this)}},{key:"drag",value:function(t){this.active&&(t.preventDefault(),t.stopPropagation(),this.offsetX=t.clientX-this.initialX+this.offsetLeft,this.offsetY=t.clientY-this.initialY+this.offsetTop,this.setPosition(t))}},{key:"setPosition",value:function(t){switch(this.type){case"vertical":this.offsetX=this.orginOffsetLeft,this.offsetY<this.scope.top&&(this.offsetY=this.scope.top),this.offsetY>this.scope.bottom-this.orginOffsetHeight&&(this.offsetY=this.scope.bottom-this.orginOffsetHeight);break;case"level":this.offsetY=this.orginOffsetTop,this.offsetX>this.scope.right-this.orginOffsetWidth&&(this.offsetX=this.scope.right-this.orginOffsetWidth),this.offsetX<this.scope.left&&(this.offsetX=this.scope.left);break;default:isNaN(this.scope.right)||this.offsetX>this.scope.right-this.orginOffsetWidth&&(this.offsetX=this.scope.right-this.orginOffsetWidth),isNaN(this.scope.left)||this.offsetX<this.scope.left&&(this.offsetX=this.scope.left),isNaN(this.scope.top)||this.offsetY<this.scope.top&&(this.offsetY=this.scope.top),isNaN(this.scope.bottom)||this.offsetY>this.scope.bottom-this.orginOffsetHeight&&(this.offsetY=this.scope.bottom-this.orginOffsetHeight)}this.$ele.style.left=this.offsetX+"px",this.$ele.style.top=this.offsetY+"px","function"==typeof this.onDrag&&this.onDrag.call(this,this.offsetX,this.offsetY,t,this)}},{key:"destroy",value:function(){this.$ele.parentNode.removeChild(this.$ele),this.removeEventListenerAll()}}]),t}(),Tn=function(t,e){return new Pn(t,e)};function An(){var t=ln()(['\n    <gp-control-progressbar class="goldplay__progress-bar ','" data-status="','">\n      <div class="goldplay__progressbar--load ','">\n      </div>\n      <div class="goldplay__progressbar--play ','">\n      </div>\n      <span class="goldplay__progressbar--dot ','" title="','"></span>\n    </gp-control-progressbar>\n  ']);return An=function(){return t},t}function Rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Bn=function(t){l()(n,t);var e=Rn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(An(),"progressBarHoverCss","status","progressBarLoadHoverCss","progressBarPlayHoverCss","progressBarDotHoverCss","time")),y()(u()(t),"options",{}),y()(u()(t),"data",{playWidth:"",dot:"",time:"",status:""}),y()(u()(t),"setProgressBarSize",(function(e){t.$progressBarPlay.style.width=e+"px"})),t.options=r,Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"watch",value:function(){var t=this.options.cssName;"dragstart"===this.data.status?(this.data.progressBarHoverCss=t.progressBarHover,this.data.progressBarLoadHoverCss=t.progressBarLoadHover,this.data.progressBarPlayHoverCss=t.progressBarPlayHover,this.data.progressBarDotHoverCss=t.progressBarDotHover):"dragend"===this.data.status&&(this.data.progressBarHoverCss="",this.data.progressBarLoadHoverCss="",this.data.progressBarPlayHoverCss="",this.data.progressBarDotHoverCss="")}},{key:"afterInit",value:function(){}},{key:"initProps",value:function(){var t=this.element,e=this.options.cssName;this.$progressDragDot=t.querySelector("."+e.progressBarDot),this.$progressBarPlay=t.querySelector("."+e.progressBarPlay),this.$progressBarLoad=t.querySelector("."+e.progressBarLoad),this.timer=this.getComponent("timer"),this.pauseButton=this.getComponent("pauseButton")}},{key:"bindEvent",value:function(){var t=this,e=this.options.cssName,n=!1;this.events.on(st.default.PlayerTimeUpdate,(function(e){var r=t.options.loadData.sourceData.duration;if(!n&&e&&r){var i=e/1e3/r*t.progressBarWidth;t.setProgressPosition(i),t.timer.data.time=fn.formatHHMMSS(e/1e3)}})),this.events.on(st.default.PlayerbufferUpdate,(function(e){!n&&e&&t.updateProgressLoad(e)})),En(this.options.$controlBarContainer).on("click","."+e.progressBar,(function(n){if(n.target!==t.$progressDragDot){var r=(t.options.loadData.sourceData.duration||0)/t.progressBarWidth,i=0;n.target.classList.contains(e.progressBarLoad)&&(i=n.target.offsetLeft-n.target.parentNode.offsetLeft);var o=i+n.offsetX,a=o*r*1e3;return t.setProgressPosition(o),t.logger.info("bindEvent","click to seek","seekTime:",a,"offsetX:",o),n.target!==t.$progressBarLoad&&t.clearLoadBar(n.offsetX),t.timer.data.time=fn.formatHHMMSS(a/1e3),t.events.emit(st.default.PlayerOnSeek,a),!1}})),this.progressDragEvent=Tn(this.$progressDragDot,{$container:document.body,type:"level",scope:{left:this.progressBarLeft,right:this.progressBarLeft+this.progressBarWidth,top:this.$progressDragDot.offsetTop,bottom:this.$progressDragDot.offsetTop+this.$progressDragDot.offsetHeight},onStart:function(){n=!0,t.data.status="dragstart"},onDrag:function(e){var n;n=t.options.player.controlBarAutoHide?e:e-t.options.$controlBarContainer.offsetLeft;var r=0,i=t.$progressDragDot.offsetWidth;t.progressBarWidth-n<=i&&(r=i),t.setProgressBarSize(n),t.data.status="draging";var o=t.getSeekTime(t.progressBarWidth-r);t.timer.data.time=fn.formatHHMMSS(o/1e3),t.data.time=t.timer.data.time},onRelease:function(e,r,i){if(n){var o=t.getSeekTime();i.target!==t.$progressBarLoad&&t.clearLoadBar(e),t.events.emit(st.default.PlayerOnSeek,o),t.logger.info("bindEvent","onDrag release seek","seekTime:",o),t.data.status="dragend",n=!1}}})}},{key:"setProgressPosition",value:function(t){var e=Math.min(t,this.progressBarWidth),n=this.$progressDragDot,r=this.progressBarWidth,i=0,o=n.offsetWidth/2;e>r||r-e<=o?i=o-(r-e):e<=o&&(i=-(o-e));var a=e-i-n.offsetWidth/2;this.setProgressPlayWidth(e),this.setProgressDragDotLeft(a+this.progressBarLeft)}},{key:"setProgressPlayWidth",value:function(t){this.$progressBarPlay.style.width=t+"px"}},{key:"setProgressDragDotLeft",value:function(t){this.$progressDragDot.style.left=t+"px"}},{key:"getProgressPlayLeftWidth",value:function(){return{offsetLeft:this.$progressBarPlay.offsetLeft,offsetWidth:this.$progressBarPlay.offsetWidth}}},{key:"getProgressLoadLeftWidth",value:function(){return{offsetLeft:this.$progressBarLoad.offsetLeft,offsetWidth:this.$progressBarLoad.offsetWidth}}},{key:"setProgressLoadLeftWidth",value:function(t,e){var n=this.progressBarLeft+this.progressBarWidth;(t=Math.min(t,n))+e>n&&(e=n-t),this.$progressBarLoad.style.left=t+"px",this.$progressBarLoad.style.width=e+"px"}},{key:"updateProgressLoad",value:function(t){var e=this.options.loadData.sourceData.duration;if(e){var n=this.progressBarWidth,r=this.progressBarLeft,i=t[0]/1e3/e*n,o=t[1]/1e3/e*n,a=Math.floor(r+i),s=Math.floor(o-i);this.setProgressLoadLeftWidth(a,s)}}},{key:"getSeekTime",value:function(t,e){var n=this.progressBarWidth,r=(e=e||this.options.loadData.sourceData.duration||0)/(t||n);return this.$progressBarPlay.offsetWidth*r*1e3}},{key:"clearLoadBar",value:function(t){t<this.$progressBarLoad.offsetLeft-this.progressBarLeft&&(this.$progressBarLoad.style.width="0px")}},{key:"getDragDotPosition",value:function(){return{offsetLeft:this.$progressDragDot.offsetLeft,offsetTop:this.$progressDragDot.offsetTop,left:this.$progressDragDot.style.left,top:this.$progressDragDot.style.top}}},{key:"clearDragDotTop",value:function(){this.$progressDragDot.style.top=""}},{key:"progressBarWidth",get:function(){return this.element.offsetWidth}},{key:"progressBarLeft",get:function(){return this.element.offsetLeft}}]),n}(un);function Ln(){var t=ln()(['\n  <gp-button class="goldplay__control--play" data-status="','" title="','">\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n  viewBox="0 0 232.153 232.153" width="20" height="20" style="enable-background:new 0 0 232.153 232.153;" xml:space="preserve">\n  <g >\n  <path style="fill-rule:evenodd;clip-rule:evenodd;" d="M203.791,99.628L49.307,2.294c-4.567-2.719-10.238-2.266-14.521-2.266\n    c-17.132,0-17.056,13.227-17.056,16.578v198.94c0,2.833-0.075,16.579,17.056,16.579c4.283,0,9.955,0.451,14.521-2.267\n    l154.483-97.333c12.68-7.545,10.489-16.449,10.489-16.449S216.471,107.172,203.791,99.628z" fill="#f1f1f1"/>\n  </g>\n  </svg>\n  </gp-button>\n  ']);return Ln=function(){return t},t}function Cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Dn=function(t){l()(n,t);var e=Cn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(Ln(),"status","title")),y()(u()(t),"data",{title:"play",play:">"}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return n}(un);function In(){var t=ln()(['\n  <gp-button class="goldplay__control--pause" title="','" status="','">\n  ',"\n  </gp-button>\n  "]);return In=function(){return t},t}function On(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function Nn(){var t=ln()(['\n<svg style="display:','" class="goldplay__control--pausing" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 26 26" style="background:none" xml:space="preserve">\n<g>\n<path d="M2.667,0h6v26h-6V0z M15.333,0v26h6V0H15.333z" fill="#f1f1f1"/>\n</g>\n</svg>\n']);return Nn=function(){return t},t}var Mn=Ge.create(Nn(),"pauseHide"),Un=function(t){l()(n,t);var e=On(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate((function(t,e){return e(In(),"title","status","icon|html")}))),y()(u()(t),"data",{title:"pause",pauseHide:"",pauseLoadingHide:"none",icon:Mn,status:"",display:""}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"watch",value:function(){"pauseloading"===this.data.status?(this.data.pauseHide="none",this.data.pauseLoadingHide="inline-block",this.data.title="loading",this.data.icon='\n<svg version="1.1" class="goldplay__control--pause-loading" style="display:${\'pauseLoadingHide\'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="25px" height="25px" viewBox="0 0 612 792" style="background:none;margin: -4px 0 0 -5px;" xml:space="preserve">\n<linearGradient id="goldplay-pause-loading-gradient" gradientUnits="userSpaceOnUse" x1="1.98" y1="784.6123" x2="26.2101" y2="770.623" gradientTransform="matrix(21.8571 0 0 21.8571 -2.0895 -16600.5293)">\n    <stop offset="0.1682" style="stop-color:#f1f1f1;stop-opacity:0"></stop>\n    <stop offset="0.7502" style="stop-color:#f1f1f1"></stop>\n    <stop offset="1" style="stop-color:#f1f1f1"></stop>\n</linearGradient>\n<path style="transform-origin: center center;animation: goldplay-rotate-360 .8s linear infinite;" fill="url(#goldplay-pause-loading-gradient)" d="M306,133.714c144.257,0,262.286,118.028,262.286,262.286c0,144.257-118.029,262.286-262.286,262.286\n  C161.743,658.286,43.714,540.257,43.714,396C43.714,251.743,161.743,133.714,306,133.714 M306,90C137.7,90,0,227.7,0,396\n  s137.7,306,306,306s306-137.7,306-306S474.3,90,306,90L306,90z">\n    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0" to="360" dur=".8s" repeatCount="indefinite" />\n</path>\n<g>\n    <g>\n        <path fill="#f1f1f1" d="M229.5,514.028L229.5,514.028c-13.114,0-21.857-8.742-21.857-21.856V295.457\n        c0-10.929,8.743-21.857,21.857-21.857l0,0c10.929,0,21.857,8.743,21.857,21.857v196.715\n        C251.357,503.1,242.614,514.028,229.5,514.028z"></path>\n        <path fill="#f1f1f1" d="M229.5,273.6c-13.114,0-21.857,8.743-21.857,21.857v196.715c0,10.928,8.743,21.856,21.857,21.856\n        s21.857-10.929,21.857-21.856V295.457C251.357,282.343,242.614,273.6,229.5,273.6L229.5,273.6z"></path>\n    </g>\n    <g>\n        <path fill="#f1f1f1" d="M382.5,518.4L382.5,518.4c-13.114,0-21.857-8.743-21.857-21.857V299.829\n        c0-10.929,8.743-21.857,21.857-21.857l0,0c10.929,0,21.857,8.743,21.857,21.857v196.714\n        C404.357,509.657,395.614,518.4,382.5,518.4z"></path>\n        <path fill="#f1f1f1" d="M382.5,277.972c-10.929,0-21.857,8.743-21.857,21.857v196.714c0,10.929,10.929,21.857,21.857,21.857\n        s21.857-10.929,21.857-21.857V299.829C404.357,288.9,393.429,277.972,382.5,277.972L382.5,277.972z"></path>\n    </g>\n</g>\n</svg>\n'):"pause"===this.data.status&&(this.data.pauseHide="inline-block",this.data.pauseLoadingHide="none",this.data.title="pause",this.data.icon=Mn)}}]),n}(un);function jn(){var t=ln()(['\n  <gp-button class="goldplay__control--replay" title="','" data-display="','">\n  <svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n  width="24px" height="24px" viewBox="0 0 245.000000 206.000000"\n  preserveAspectRatio="xMidYMid meet">\n <g transform="translate(0.000000,206.000000) scale(0.100000,-0.100000)"\n fill="#f1f1f1" stroke="1">\n <path d="M1250 2046 c-286 -55 -525 -211 -681 -445 -91 -136 -152 -302 -167\n -453 -12 -119 3 -108 -143 -109 -70 -1 -156 -4 -192 -8 l-65 -6 262 -265 262\n -265 266 265 265 265 -62 6 c-35 4 -123 7 -197 8 l-134 1 7 69 c26 284 232\n 543 504 635 201 69 404 53 596 -47 62 -32 103 -63 177 -137 83 -83 102 -108\n 142 -190 63 -130 77 -193 77 -340 0 -178 -37 -298 -134 -435 -91 -126 -220\n -224 -369 -278 -72 -26 -99 -31 -218 -35 -117 -4 -146 -1 -215 17 -104 29\n -205 79 -283 142 l-63 52 -89 -89 c-49 -49 -89 -96 -89 -106 0 -24 154 -136\n 253 -185 89 -44 177 -74 272 -95 84 -17 303 -15 391 5 403 91 691 371 795 772\n 19 76 23 114 22 240 0 129 -4 164 -27 249 -99 377 -406 673 -778 751 -104 22\n -297 28 -385 11z"/>\n <path d="M1227 1418 c-9 -68 -7 -695 2 -770 l6 -57 240 200 c132 110 251 210\n 264 223 l23 24 -257 213 c-141 118 -260 215 -264 217 -5 1 -11 -21 -14 -50z"/>\n </g>\n </svg>\n  </gp-button>\n  ']);return jn=function(){return t},t}function Fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Vn=function(t){l()(n,t);var e=Fn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(jn(),"title","display")),y()(u()(t),"data",{title:"replay",display:"",replay:"->"}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return n}(un);function Hn(){var t=ln()(['\n  <gp-volume class="goldplay__volume-bar">\n    <gp-overbox class="goldplay-hoverbox goldplay__volume-bar--handle">\n      <span class="goldplay__volume-bar--precent">','</span>\n      <span class="goldplay__volume-bar--rod ','" title="adjust volume"></span>\n      <span class="goldplay__volume-bar--size">&nbsp;</span>\n      <span class="goldplay__volume-bar--column">&nbsp;</span>\n    </gp-overbox>\n    <gp-button class="goldplay__volume-bar--audio ','" title="','" data-mute="','" data-volume-size="','"  data-last-volume="','">\n    ',"\n    </gp-button>\n  </gp-volume>\n  "]);return Hn=function(){return t},t}function Wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function zn(){var t=ln()(['\n<svg xmlns="http://www.w3.org/2000/svg" style="display:','" width="20px" height="20px" viewBox="0 0 24 24" style="margin-left: -5px;">\n<path d="M12.2 13.914v6.678a.5.5 0 0 1-.825.38L5.2 15.679H3a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h2.2l.412-.353-2.558-2.558a.5.5 0 0 1 0-.707l.707-.707a.5.5 0 0 1 .707 0l16.849 16.849a.5.5 0 0 1 0 .707l-.707.707a.5.5 0 0 1-.707 0l-2.386-2.386a10 10 0 0 1-2.33 1.422c-.526.229-.583.284-.987.377v-2.375l.007-.003a8.332 8.332 0 0 0 1.717-1.014l-1.67-1.669a5.251 5.251 0 0 1-.054.034v-.089l-2-2zM8.373 4.96l3.002-2.572a.5.5 0 0 1 .825.38v6.019L8.373 4.959zm9.867 9.867c.48-.99.76-2.115.76-3.347 0-3.418-2.148-6.014-4.793-7.173a4.11 4.11 0 0 0-.007-.003V2c.027.006.054.012.082.02.852.221 1.274.453 1.436.535A10 10 0 0 1 21.2 11.48a9.954 9.954 0 0 1-1.326 4.98l-1.634-1.633zm-1.766-1.766L14.2 10.786V7.057a5.247 5.247 0 0 1 2.274 6.003z" fill="#f1f1f1"></path>\n</svg>\n']);return zn=function(){return t},t}function $n(){var t=ln()(['\n<svg xmlns="http://www.w3.org/2000/svg" style="display:','" width="20px" height="20px" viewBox="0 0 24 24" style="margin-left: -5px;">\n<path d="M5.2 7.68l6.175-5.293a.5.5 0 0 1 .825.38v17.825a.5.5 0 0 1-.825.38L5.2 15.679H3a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h2.2zm9 13.35v-2.375l.007-.003C16.852 17.493 19 14.897 19 11.479s-2.148-6.014-4.793-7.173a4.11 4.11 0 0 0-.007-.003V2c.027.006.054.012.082.02.852.221 1.274.453 1.436.535A10 10 0 0 1 21.2 11.48c0 4.106-2.474 7.633-6.013 9.174-.526.229-.583.284-.987.377zm0-13.973c1.5.925 2.5 2.582 2.5 4.473 0 1.892-1 3.55-2.5 4.473V7.057z" fill="#f1f1f1"></path>\n</svg>\n']);return $n=function(){return t},t}var Gn=Ge.create($n(),"audioOnHide"),Yn=Ge.create(zn(),"audioOffHide"),qn=function(t){l()(n,t);var e=Wn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(Hn(),"dataPrecent","volumeBarRodHoverCss","audioOffClass","title","dataMute","dataVolumeSize","dataLastVolume","icon|html")),y()(u()(t),"options",{}),y()(u()(t),"data",{audioONHide:"",audioOffHide:"",audioOffClass:"",dataVolumeSize:"",dataPrecent:"",dataLastVolume:"",dataMute:"",volumeBarRodHoverCss:"",icon:Gn,title:"turn off"}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"watch",value:function(){this.data.dataPrecent=Math.floor(100*this.data.dataVolumeSize),""!==this.data.audioOffClass?(this.data.dataMute="true",this.data.audioOffHide="inline-block",this.data.audioOnHide="none",this.data.icon=Yn,this.data.title="turn on"):(this.data.dataMute="",this.data.audioOffHide="none",this.data.audioOnHide="inline-block",this.data.icon=Gn,this.data.title="turn off")}},{key:"initProps",value:function(){var t=this.element,e=this.options.cssName;this.INIT_VOLUME_SIZE=void 0===this.options.player.defaultVolumeSize?.5:this.options.player.defaultVolumeSize,this.$volumeBarHandle=t.querySelector("."+e.volumeBarHandle),this.$volumeBarRod=t.querySelector("."+e.volumeBarRod),this.$volumeBarAudio=t.querySelector("."+e.volumeBarAudio),this.$volumeBarSize=t.querySelector("."+e.volumeBarSize),this.$volumeBarColumn=t.querySelector("."+e.volumeBarColumn),this.volumeBarColumnHeight=this.$volumeBarColumn.offsetHeight,this.volumeBarColumnTop=this.$volumeBarColumn.offsetTop,this.volumeBarRodHeight=this.$volumeBarRod.offsetHeight,this.volumeBarRodHeightHalf=this.volumeBarRodHeight/2,this.volumeBarColumnRealTop=this.volumeBarColumnTop+this.volumeBarRodHeightHalf,this.volumeBarColumnMaxHeight=this.volumeBarColumnHeight-this.volumeBarRodHeight}},{key:"bindEvent",value:function(){var t,e=this,n=this.options.$controlBarContainer,r=this.options.cssName;En(n).on("mouseover","."+r.volumeBar,(function(){clearTimeout(t),e.showVolumeBarHandle()})),En(n).on("mousewheel","."+r.volumeBarHandle,(function(t){var n=t.wheelDelta/500;n=e.data.dataVolumeSize+n,e.setVolumeSize(n),t.preventDefault(),t.stopPropagation()})),En(n).on("click",["."+r.volumeBarColumn,"."+r.volumeBarSize],(function(t){var n=0;return t.target===e.$volumeBarColumn?n=(e.$volumeBarColumn.offsetHeight-t.offsetY)/t.target.offsetHeight:t.target===e.$volumeBarSize&&(n=e.$volumeBarColumn.offsetHeight-t.target.offsetHeight+t.offsetY,n=e.$volumeBarColumn.offsetHeight-n,n/=e.$volumeBarColumn.offsetHeight),e.setVolumeSize(n),!1})),En(n).on("click","."+r.volumeBarAudio,(function(t){return e.$volumeBarAudio.classList.contains(r.volumeBarAudioOff)?e.setAudioOn(t.offsetY):e.setAudioOff(t.offsetY),!1}));En(n).on("mouseout","."+r.volumeBar,(function(n){t=setTimeout((function(){!function(t){var n=e.element,r={y:n.offsetTop+e.$volumeBarHandle.offsetTop,x:n.offsetLeft};return r.width=n.offsetWidth,r.height=e.$volumeBarHandle.offsetHeight,t.pageX>r.x&&t.pageX<r.x+r.width&&t.pageY>r.y&&t.pageY<r.y+r.height}(n)?e.hideVolumeBarHandle():clearTimeout(t)}),U.c.hideBarBoxTime)})),this.volumeDragEvent=Tn(this.$volumeBarRod,{$container:this.element,type:"vertical",scope:{top:this.volumeBarColumnTop,right:0,bottom:this.volumeBarColumnTop+this.volumeBarColumnHeight,left:0},onStart:function(){e.data.volumeBarRodHoverCss=e.options.cssName.volumeBarRodHover},onDrag:function(t,n){n-=1,e.dragHandle(n)},onRelease:function(){e.data.volumeBarRodHoverCss=""}})}},{key:"hideVolumeBarHandle",value:function(){this.$volumeBarHandle.style.visibility="hidden"}},{key:"showVolumeBarHandle",value:function(){this.$volumeBarHandle.style.visibility="visible"}},{key:"getVolume",value:function(){var t=(this.$volumeBarSize.offsetHeight-this.volumeBarRodHeight)/this.volumeBarColumnMaxHeight;return t=Math.min(t,1),(t=Math.max(t,0)).toFixed(2)}},{key:"setVolume",value:function(t){this.data.dataVolumeSize=Number(t),this.events.emit(st.default.PlayerOnVolume,t)}},{key:"initVolumeSize",value:function(){this.data.dataLastVolume=this.INIT_VOLUME_SIZE,this.setAudioOn()}},{key:"setAudioOn",value:function(){var t=this.data.dataLastVolume||0;this.setVolume(t);var e=parseFloat(t,10),n=Math.floor(e*this.volumeBarColumnMaxHeight),r=this.volumeBarColumnTop+(this.volumeBarColumnMaxHeight-n);this.$volumeBarSize.style.marginTop=r+"px",this.$volumeBarSize.style.height=n+this.volumeBarRodHeight+"px",this.$volumeBarRod.style.top=r+"px",this.data.audioOffClass=""}},{key:"setAudioOff",value:function(){this.setVolume(0),this.data.audioOffClass=this.options.cssName.volumeBarAudioOff;var t=this.getVolume();t>0&&(this.data.dataLastVolume=t),this.$volumeBarSize.style.height=this.volumeBarRodHeight+"px",this.$volumeBarSize.style.marginTop=this.volumeBarColumnRealTop-this.volumeBarRodHeightHalf+this.volumeBarColumnMaxHeight+"px",this.$volumeBarRod.style.top=this.volumeBarColumnRealTop+this.volumeBarColumnMaxHeight-this.volumeBarRodHeightHalf+"px"}},{key:"dragHandle",value:function(t){this.$volumeBarSize.style.marginTop=t+1+"px",this.$volumeBarSize.style.height=this.volumeBarColumnHeight-t+this.volumeBarRodHeight+"px";var e=this.getVolume();e<=0?this.setAudioOff(t):"true"==this.data.dataMute&&this.setAudioOn(t),this.setVolume(e)}},{key:"setVolumeSize",value:function(t){if((t=t.toFixed(2))>=1?t=1:t<.001&&(t=0),t!==this.data.dataVolumeSize){this.setVolume(t);var e=this.volumeBarColumnMaxHeight,n=e-t*e+this.volumeBarColumnTop;this.$volumeBarSize.style.marginTop=n+"px",this.$volumeBarSize.style.height=t*e+this.volumeBarRodHeight+"px",this.$volumeBarRod.style.top=n+"px",t<=0?this.data.audioOffClass=this.options.cssName.volumeBarAudioOff:"true"==this.data.dataMute&&(this.data.audioOffClass="")}}}]),n}(un);function Xn(){var t=ln()(['\n  <gp-wait class="goldplay-tip goldplay__waiting-bar" title="','" data-status="','">\n    <span class="goldplay__waiting-bar--icon">\n    <svg width="60px" height="60px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: none;opacity:0.8">\n    <circle cx="50" cy="50" fill="none" stroke-linecap="round" r="40" stroke-width="8" stroke="#f6f6f6" stroke-dasharray="62.83185307179586 62.83185307179586" transform="rotate(17.8841 50 50)">\n    <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="0.7s" begin="0s" repeatCount="indefinite">\n    </animateTransform>\n    </circle>\n    </svg>\n  </span>\n  <gp-speed class="goldplay__waiting-bar--speed">',"</gp-speed>\n  </gp-wait>\n  "]);return Xn=function(){return t},t}function Kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Jn=function(t){l()(n,t);var e=Kn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(Xn(),"title","status","speed")),y()(u()(t),"data",{title:"waiting",speed:"",status:"",display:"show"}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"initProps",value:function(){}},{key:"bindEvent",value:function(){var t=this;this.events.on(st.default.LoaderUpdateSpeed,(function(e){"show"===t.data.display&&(t.data.speed=hn.formatBytes(e.speed)+" /s")})),this.events.on(st.default.StreamDataReady,(function(){t.hideWaiting()}))}},{key:"showWaiting",value:function(){var t=this.options.cssName,e=this.options.$screenContainer;e.querySelector("."+t.waitingBar)||e.prepend(this.element),this.data.display="show",this.show(),this.resetPosition()}},{key:"hideWaiting",value:function(){var t=this.options.cssName;this.options.$screenContainer.querySelector("."+t.waitingBar)&&(this.data.display="hide",this.data.speed="Loading...",this.hide())}}]),n}(un);function Qn(){var t=ln()(['\n  <gp-alert class="goldplay-tip goldplay__alter-box" title="','" data-display="','">\n  <em title="close" class="goldplay__alter--close">\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background:none;opacity:0.6" xml:space="preserve" width="20px" height="20px" viewBox="0 0 496.158 496.158">\n    <path style="fill:#ff3300;" d="M496.158,248.085c0-137.021-111.07-248.082-248.076-248.082C111.07,0.003,0,111.063,0,248.085\n    c0,137.002,111.07,248.07,248.082,248.07C385.088,496.155,496.158,385.087,496.158,248.085z"/>\n    <path style="fill:#FFFFFF;" d="M277.042,248.082l72.528-84.196c7.91-9.182,6.876-23.041-2.31-30.951\n    c-9.172-7.904-23.032-6.876-30.947,2.306l-68.236,79.212l-68.229-79.212c-7.91-9.188-21.771-10.216-30.954-2.306\n    c-9.186,7.91-10.214,21.77-2.304,30.951l72.522,84.196l-72.522,84.192c-7.91,9.182-6.882,23.041,2.304,30.951\n    c4.143,3.569,9.241,5.318,14.316,5.318c6.161,0,12.294-2.586,16.638-7.624l68.229-79.212l68.236,79.212\n    c4.338,5.041,10.47,7.624,16.637,7.624c5.069,0,10.168-1.749,14.311-5.318c9.186-7.91,10.22-21.77,2.31-30.951L277.042,248.082z"/>\n    </svg>\n  </em>\n  <span class="goldplay__alter--warn">\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    width="30" height="30" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n    <path style="fill:#495A79;" d="M501.461,383.799L320.501,51.401C306.7,28.6,282.7,14.8,256,14.8s-50.7,13.8-64.501,36.601\n      L10.539,383.799C-3.259,407.501-3.56,435.701,9.941,459.4c13.499,23.699,37.798,37.8,65.099,37.8h361.92\n      c27.301,0,51.601-14.101,65.099-37.8C515.56,435.701,515.259,407.501,501.461,383.799z"/>\n    <path style="fill:#42516D;" d="M502.059,459.4c-13.499,23.699-37.798,37.8-65.099,37.8H256V14.8c26.7,0,50.7,13.801,64.501,36.601\n      L501.461,383.8C515.259,407.501,515.56,435.701,502.059,459.4z"/>\n    <path style="fill:#FFDE33;" d="M475.661,399.1L294.699,66.699C286.601,52.9,271.901,44.8,256,44.8s-30.601,8.101-38.699,21.899\n      L36.339,399.1c-8.399,14.101-8.399,31.199-0.298,45.3c8.099,14.399,22.798,22.8,39,22.8h361.92c16.201,0,30.901-8.401,39-22.8\n      C484.06,430.299,484.06,413.201,475.661,399.1z"/>\n    <path style="fill:#FFBC33;" d="M475.96,444.4c-8.099,14.399-22.798,22.8-39,22.8H256V44.8c15.901,0,30.601,8.101,38.699,21.899\n      L475.661,399.1C484.06,413.201,484.06,430.299,475.96,444.4z"/>\n    <g>\n      <path style="fill:#495A79;" d="M256,437.2c-16.538,0-30-13.462-30-30s13.462-30,30-30s30,13.462,30,30S272.538,437.2,256,437.2z"/>\n      <path style="fill:#495A79;" d="M286,317.2c0,16.538-13.462,30-30,30s-30-13.462-30-30v-150c0-16.538,13.462-30,30-30\n        s30,13.462,30,30V317.2z"/>\n    </g>\n    <g>\n      <path style="fill:#42516D;" d="M286,407.2c0-16.538-13.462-30-30-30v60C272.538,437.2,286,423.738,286,407.2z"/>\n      <path style="fill:#42516D;" d="M286,317.2v-150c0-16.538-13.462-30-30-30v210C272.538,347.2,286,333.738,286,317.2z"/>\n    </g>\n    </svg>\n  </span>\n  <gp-content class="goldplay__alter--content">',"</gp-content>\n  </gp-alert>\n  "]);return Qn=function(){return t},t}function Zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var tr=function(t){l()(n,t);var e=Zn(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(Qn(),"title","display","content|trim")),y()(u()(t),"data",{title:"alert",display:"default",content:""}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"bindEvent",value:function(){var t=this,e=this.options.$screenContainer,n=this.options.cssName;En(e).on("click","."+n.alertClose,(function(){t.hide()}))}},{key:"afterWatch",value:function(){"show"===this.data.display&&this.resetPosition()}},{key:"showBox",value:function(){var t=this.options.cssName,e=this.options.$screenContainer;e.querySelector("."+t.alertBox)||e.prepend(this.element),this.data.display="show",this.show()}},{key:"hideBox",value:function(){var t=this.options.cssName;this.options.$screenContainer.querySelector("."+t.alertBox)&&(this.data.display="hide",this.hide())}},{key:"show",value:function(){this.element.style.opacity=1,this.element.style.display="inline-block",this.resetPosition()}},{key:"hide",value:function(){this.element.style.opacity=0,this.element.style.display="none"}}]),n}(un);function er(){var t=ln()(['\n  <gp-time class="goldplay__control--timer">\n  <span gid="time" class="goldplay__control--timer-play">','</span>\n  <span gid="slash">','</span>\n  <span gid="total-time" class="goldplay__control--timer-total">',"</span>\n  </gp-time>\n  "]);return er=function(){return t},t}function nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var rr=function(t){l()(n,t);var e=nr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(er(),"time","slash","totalTime")),y()(u()(t),"data",{time:"00:00",totalTime:"",slash:"/"}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"setTotalTime",value:function(t){var e=t.sourceData;this.data.totalTime=fn.formatHHMMSS(e.duration)}},{key:"bindEvent",value:function(){var t=this;this.events.on(st.default.LoaderPlayListLoaded,(function(e){t.setTotalTime(e.loadData)}))}},{key:"updateTime",value:function(t){this.element.querySelector('[gid="time"]').innerHTML=t}},{key:"updateTotalTime",value:function(t){this.element.querySelector('[gid="total-time"]').innerHTML=t}}]),n}(un);function ir(){var t=ln()(['\n  <gp-speed class="goldplay__speed-bar" title="','">\n  <gp-overbox class="goldplay-hoverbox goldplay__speed-bar--box">\n  ','\n  </gp-overbox>\n  <gp-button class="goldplay__speed-bar--link">\n  ',"\n  </gp-button>\n  </gp-speed>\n  "]);return ir=function(){return t},t}function or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function ar(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return sr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ur=function(t){l()(n,t);var e=or(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(ir(),"title","speedListHTML|html","currentSpeedName")),y()(u()(t),"data",{title:"speed",currentSpeed:1,speedList:null,currentSpeedName:"ÂÄçÈÄü",speedListHTML:""}),y()(u()(t),"options",{}),t.options=r,t.speedList=t.options.player.options.speedList||U.c.speedList,t.updateSpeedListHTML(),Object.assign(t.data,r.data),t.init(),t.initProps(),t.showHideBar(),t}return a()(n,[{key:"initProps",value:function(){var t=this.options.cssName;this.$barBox=this.element.querySelector("."+t.speedBarBox)}},{key:"bindEvent",value:function(){var t=this,e=this.options.cssName,n=this.options.$controlBarContainer;En(n).on("mouseover","."+e.speedBar,(function(){clearTimeout(r),t.showBarBoxHandle()}));var r;En(n).on("mouseout","."+e.speedBar,(function(e){r=setTimeout((function(){!function(e){var n=t.element,r={y:t.$barBox.offsetTop,x:n.offsetLeft};return r.width=n.offsetWidth,r.height=t.$barBox.offsetHeight,e.pageX>r.x&&e.pageX<r.x+r.width&&e.pageY>r.y&&e.pageY<r.y+r.height}(e)?t.hideBarBoxHandle():clearTimeout(r)}),U.c.hideBarBoxTime)})),En(this.element).on("click","[gp-node-li]",(function(e){var n=e.target,r=parseFloat(n.getAttribute("value"),10);if(r!==t.data.currentSpeed){t.data.currentSpeed=r;var i=t.speedList.filter((function(t){return t.value===r}));t.events.emit(st.default.PlayerSpeedTo,i[0]),t.updateSpeedListHTML()}}))}},{key:"showHideBar",value:function(){this.speedList.length<=0&&this.hide()}},{key:"resetBoxPosition",value:function(){var t=33+28*this.speedList.length,e=(this.$barBox.offsetWidth-this.element.offsetWidth)/2;this.$barBox.style.marginTop=-t+"px",this.$barBox.style.marginLeft=-e+"px"}},{key:"hideBarBoxHandle",value:function(){this.$barBox.style.visibility="hidden"}},{key:"showBarBoxHandle",value:function(){this.$barBox.style.visibility="visible"}},{key:"updateSpeedListHTML",value:function(t){var e=this.speedList;if(!(e.length<=0)){void 0===t&&(t=this.data.currentSpeed);var n,r=e.slice(0,e.length).reverse(),i=ar(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.value===t?o.selected=!0:delete o.selected}}catch(t){i.e(t)}finally{i.f()}return this.data.speedListHTML=function(t){if(t){var e,n=["<ul>"],r=ar(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,o="",a="";i.selected&&(o="gp-selected",a=" selected=".concat(i.selected)),n.push('\n    <li class="'.concat(o,'" gp-node-li value="').concat(i.value,'" ').concat(a,">").concat(i.name,"</li>\n    "))}}catch(t){r.e(t)}finally{r.f()}return n.push("</ul>"),n.join("")}}(r)}}}]),n}(un);function cr(){var t=ln()(['\n  <gp-subtitle class="goldplay__subtitle">\n  </gp-subtitle>\n  ']);return cr=function(){return t},t}function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var fr=function(t){l()(n,t);var e=lr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(cr())),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return n}(un);function hr(){var t=ln()(['\n  <gp-rate class="goldplay__rate-bar" title="','">\n  <gp-overbox class="goldplay-hoverbox goldplay__rate-bar--box">\n  ','\n  </gp-overbox>\n  <gp-button class="goldplay__rate-bar--link">\n  ',"\n  </gp-button>\n  </gp-rate>\n  "]);return hr=function(){return t},t}function pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function dr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function vr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yr=function(t){l()(n,t);var e=pr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"rateList",[]),y()(u()(t),"defaultRate",{value:"600",name:"È´òÊ∏Ö"}),y()(u()(t),"template",t.createTemplate(hr(),"title","rateListHTML|html","currentRateName")),y()(u()(t),"data",{title:"stream rate",currentRate:"600",currentRateName:"È´òÊ∏Ö",rateListHTML:""}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.rateList=t.options.player.options.rateList||t.rateList,t.defaultRate=t.options.player.options.defaultRate||t.defaultRate,t.setDefaultRate(),t.updateRateListHTML(),t.init(),t.initProps(),t.showHideBar(),t}return a()(n,[{key:"initProps",value:function(){var t=this.options.cssName;this.$barBox=this.element.querySelector("."+t.rateBarBox)}},{key:"setDefaultRate",value:function(){var t=this;if(!(this.rateList.length<=0)){var e=this.rateList.find((function(e){return String(e.value)===String(t.defaultRate.value)}));e?(this.data.currentRateName=e.name,this.data.currentRate=e.value):(this.data.currentRateName=this.rateList[0].name,this.data.currentRate=this.rateList[0].value)}}},{key:"bindEvent",value:function(){var t=this,e=this.options.cssName,n=this.options.$controlBarContainer;En(n).on("mouseover","."+e.rateBar,(function(){clearTimeout(r),t.showBarBoxHandle()}));var r;En(n).on("mouseout","."+e.rateBar,(function(e){r=setTimeout((function(){!function(e){var n=t.element,r={y:t.$barBox.offsetTop,x:n.offsetLeft};return r.width=n.offsetWidth,r.height=t.$barBox.offsetHeight,e.pageX>r.x&&e.pageX<r.x+r.width&&e.pageY>r.y&&e.pageY<r.y+r.height}(e)?t.hideBarBoxHandle():clearTimeout(r)}),U.c.hideBarBoxTime)})),En(this.element).on("click","[gp-node-li]",(function(e){var n=e.target.getAttribute("value");if(n!==t.data.currentRate){t.data.currentRate=n;var r=t.rateList.filter((function(t){return t.value===n}));t.events.emit(st.default.PlayerChangeRate,r[0]),t.data.currentRateName=r[0].name,t.updateRateListHTML(),t.hideBarBoxHandle()}}))}},{key:"showHideBar",value:function(){var t=this.rateList;t&&t.length<=0&&this.hide()}},{key:"resetBoxPosition",value:function(){var t=33+28*this.rateList.length,e=(this.$barBox.offsetWidth-this.element.offsetWidth)/2;this.$barBox.style.marginTop=-t+"px",this.$barBox.style.marginLeft=-e+"px"}},{key:"hideBarBoxHandle",value:function(){this.$barBox.style.visibility="hidden"}},{key:"showBarBoxHandle",value:function(){this.$barBox.style.visibility="visible"}},{key:"updateRateListHTML",value:function(t){var e=this.rateList;if(!(e.length<=0)){void 0===t&&(t=this.data.currentRate);var n,r=e.slice(0,e.length).reverse(),i=dr(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.value===t?o.selected=!0:delete o.selected}}catch(t){i.e(t)}finally{i.f()}return this.data.rateListHTML=function(t){if(t){var e,n=["<ul>"],r=dr(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,o="",a="";i.selected&&(o="gp-selected",a=" selected=".concat(i.selected)),n.push('\n    <li class="'.concat(o,'" gp-node-li value="').concat(i.value,'" ').concat(a,">").concat(i.name,"</li>\n    "))}}catch(t){r.e(t)}finally{r.f()}return n.push("</ul>"),n.join("")}}(r)}}}]),n}(un);function gr(){var t=ln()(['\n  <gp-setting class="goldplay__setting-bar">\n  </gp-setting>\n  ']);return gr=function(){return t},t}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var br=function(t){l()(n,t);var e=mr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(gr())),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return n}(un);function _r(){var t=ln()(['\n  <gp-button class="goldplay__control--fullpage" title="','" data-status="','">\n  ',"\n  </gp-button>\n  "]);return _r=function(){return t},t}function wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function xr(){var t=ln()(['\n<svg xmlns="http://www.w3.org/2000/svg" style="display:','" width="20" height="20" viewBox="0 0 24 24">\n<path d="M3.5 6h17a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5h-17a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5zM6 9v6h12V9H6z" fill="#f1f1f1"></path>\n</svg>\n']);return xr=function(){return t},t}function kr(){var t=ln()(['\n<svg xmlns="http://www.w3.org/2000/svg" style="display:','" width="20" height="20" viewBox="0 0 24 24">\n  <path d="M2.5 4h19a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-19a.5.5 0 0 1-.5-.5v-15a.5.5 0 0 1 .5-.5zM5 7v10h14V7H5z" fill="#f1f1f1"></path>\n</svg>\n']);return kr=function(){return t},t}var Sr=Ge.create(kr(),"fullpageHide"),Er=Ge.create(xr(),"fullpageExitHide"),Pr=function(t){l()(n,t);var e=wr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"containerOriginStyle",""),y()(u()(t),"template",t.createTemplate(_r(),"title","status","icon|html")),y()(u()(t),"data",{fullpageHide:"",fullpageExitHide:"none",status:"",icon:Sr,title:"fullpage"}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"watch",value:function(){"fullpage"===this.data.status?(this.data.fullpageHide="none",this.data.fullpageExitHide="inline-block",this.data.title="exit fullspage",this.data.icon=Er):(this.data.fullpageHide="inline-block",this.data.fullpageExitHide="none",this.data.title="fullpage",this.data.icon=Sr)}},{key:"initProps",value:function(){var t=this.options;this.$container=this.options.$container,this.$screenContainer=t.$screenContainer,this.$controlBarContainer=this.getComponent("controlBarContainer").element,this.originWidth=t.$container.offsetWidth,this.originHeight=t.$container.offsetHeight,this.containerOriginStyle=t.$container.getAttribute("style"),this.screenContainerOrginStyle=this.$screenContainer.getAttribute("style"),this.controlContainerOrginWidth=this.$controlBarContainer.style.width}},{key:"bindEvent",value:function(){var t=this,e=this.options.cssName,n=document,r=window;En(this.$controlBarContainer).on("click","."+e.fullPage,(function(){var e=t.data.status;"fullscreen"===t.getComponent("fullScreen").data.status&&J.exitFullscreen(),"fullpage"===e?t.exitFullPage():t.fullPage()})),this.eventsList.esckeyup=this.addEventListener(n,"keyup",(function(e){27===e.keyCode&&"fullpage"===t.data.status&&t.exitFullPage()})),this.eventsList.windowresize=this.addEventListener(r,"resize",(function(){if("fullpage"===t.data.status){var e=J.getInnerWidthHeight();t.resizeTo(e.width,e.height),t.resetPosition()}}))}},{key:"fullPage",value:function(){this.data.status="fullpage";var t=this.options,e=this.options.cssName,n=J.getInnerWidthHeight();this.saveOriginPosition(),t.$container.classList.add(e.containerFullPage),this.resizeTo(n.width,n.height),this.resetPosition(),scrollTo(0,0)}},{key:"saveOriginPosition",value:function(){var t=this.getComponent("progressBar");this.posterOriginStyle=this.getComponent("poster").element.getAttribute("style"),this.originScroll={scrollX:scrollX,scrollY:scrollY},this.progressBarOriginLeft=t.progressBarLeft,this.progressBarOriginWidth=t.progressBarWidth,this.progressBarPlayWidthRate=t.getProgressPlayLeftWidth().offsetWidth/this.progressBarOriginWidth,this.progressBarLoadWidthRate=t.getProgressLoadLeftWidth().offsetWidth/this.progressBarOriginWidth,this.progressBarLoadLeftRate=(t.getProgressLoadLeftWidth().offsetLeft-this.progressBarOriginLeft)/this.progressBarOriginWidth}},{key:"setProgressBarPosition",value:function(){var t=this.getComponent("progressBar"),e=t.progressBarWidth,n=t.progressBarLeft,r=e*this.progressBarPlayWidthRate,i=e*this.progressBarLoadWidthRate,o=e*this.progressBarLoadLeftRate;t.setProgressPosition(r),t.setProgressLoadLeftWidth(o+n,i),this.getComponent("progressBar").clearDragDotTop()}},{key:"resizeTo",value:function(t,e){var n=this.options,r=n.player,i=r.controlBarAutoHide?e:e-r.controlBarHeight;r.$screenContainer.style.width=t+"px",r.$screenContainer.style.height=i+"px",n.$container.style.width=t+"px",n.$container.style.height=e+"px"}},{key:"resetPosition",value:function(){var t=this.options;this.setProgressBarPosition(),t.player.resizeScreen(),this.getComponent("bigPlayButton").resetPosition(),this.getComponent("poster").resetPosition(),this.getComponent("waitingBar").resetPosition(),this.getComponent("controlBarContainer").resetPosition()}},{key:"exitFullPage",value:function(){this.data.status="exitfullpage";var t=this.options.cssName;this.saveOriginPosition(),this.$container.classList.remove(t.containerFullPage),this.resetScreen()}},{key:"resetScreen",value:function(){this.$container.setAttribute("style",this.containerOriginStyle),this.$screenContainer.setAttribute("style",this.screenContainerOrginStyle),this.$controlBarContainer.style.width=this.controlContainerOrginWidth,this.getComponent("poster").element.setAttribute("style",this.posterOriginStyle),scrollTo(this.originScroll.scrollX,this.originScroll.scrollY),this.resetPosition()}}]),n}(un);function Tr(){var t=ln()(['\n  <gp-button class="goldplay__control--fullscreen" title="','" data-status="','">\n  ',"\n  </gp-button>\n  "]);return Tr=function(){return t},t}function Ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Rr='\n<svg xmlns="http://www.w3.org/2000/svg" gid="fullscreen" style="display:${\'fullscreenHide\'}" width="20" height="20" viewBox="0 0 24 24">\n<path d="M15 5.057V2h6.5a.5.5 0 0 1 .5.5V9h-2.943V5.057H15zm-6 0H5.057V9H2V2.5a.5.5 0 0 1 .5-.5H9v3.057zM15 22v-2.943h4.057V15H22v6.5a.5.5 0 0 1-.5.5H15zm-6 0H2.5a.5.5 0 0 1-.5-.5V15h3.057v4.057H9V22z" fill="#f1f1f1"></path>\n</svg>\n',Br=function(t){l()(n,t);var e=Ar(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(Tr(),"title","status","icon|html")),y()(u()(t),"data",{fullscreenHide:"inline-block",fullscreenExitHide:"none",status:"",icon:Rr,title:"fullscreen"}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"watch",value:function(){"fullscreen"===this.data.status?(this.data.fullscreenHide="none",this.data.fullscreenExitHide="inline-block",this.data.title="exit fullscreen",this.data.icon='\n<svg xmlns="http://www.w3.org/2000/svg" gid="fullscreenExit" style="display:${\'fullscreenExitHide\'}"  width="20" height="20" viewBox="0 0 24 24">\n<path d="M22 5.943V9h-6.5a.5.5 0 0 1-.5-.5V2h2.943v3.943H22zm-20 0h3.943V2H9v6.5a.5.5 0 0 1-.5.5H2V5.943zM22 15v2.943h-4.057V22H15v-6.5a.5.5 0 0 1 .5-.5H22zM2 15h6.5a.5.5 0 0 1 .5.5V22H5.943v-4.057H2V15z" fill="#f1f1f1"></path>\n</svg>\n'):(this.data.fullscreenHide="inline-block",this.data.fullscreenExitHide="none",this.data.title="fullscreen",this.data.icon=Rr)}},{key:"initProps",value:function(){this.getComponent("fullPage").initProps.call(this)}},{key:"bindEvent",value:function(){var t=this,e=this.options.$container,n=this.options.cssName,r=document,i=window;this.eventsList.fullscreenchange=this.addEventListener(r,"fullscreenchange",(function(){if(document.fullscreenElement||document.webkitFullscreenElement)t.fullScreen();else{var r=t.getComponent("fullPage");"fullpage"===r.data.status?(e.classList.remove(n.containerFullScreen),t.data.status="exitfullscreen",r.fullPage()):t.exitFullScreen()}})),this.eventsList.windowresize=this.addEventListener(i,"resize",(function(){document.fullscreenElement&&(t.resizeTo(screen.width,screen.height-(window.outerHeight-window.innerHeight)),t.resetPosition())})),En(this.$controlBarContainer).on("click","."+n.fullScreen,(function(){var e=t.data.status;t.saveOriginPosition(),"fullscreen"===e?J.exitFullscreen():J.Fullscreen()}))}},{key:"fullScreen",value:function(){this.data.status="fullscreen";var t=this.options,e=this.options.cssName,n={width:screen.width,height:screen.height-(outerHeight-innerHeight)};J.isSafari()&&(n.height=n.height+38),t.$container.classList.add(e.containerFullScreen),this.resizeTo(n.width,n.height),this.resetPosition(),scrollTo(0,0)}},{key:"saveOriginPosition",value:function(){this.getComponent("fullPage").saveOriginPosition.call(this)}},{key:"resizeTo",value:function(t,e){this.getComponent("fullPage").resizeTo.call(this,t,e)}},{key:"resetPosition",value:function(){this.getComponent("fullPage").resetPosition.call(this)}},{key:"setProgressBarPosition",value:function(){this.getComponent("fullPage").setProgressBarPosition.call(this)}},{key:"exitFullScreen",value:function(){this.data.status="exitfullscreen";var t=this.options.cssName;this.saveOriginPosition(),this.options.$container.classList.remove(t.containerFullScreen),this.resetScreen(),this.saveOriginPosition()}},{key:"resetScreen",value:function(){this.getComponent("fullPage").resetScreen.call(this)}}]),n}(un);function Lr(){var t=ln()(['\n  <gp-button class="goldplay__screen--bigplay" title="','" data-status="','">\n  ',"\n  </gp-button>\n  "]);return Lr=function(){return t},t}function Cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}function Dr(){var t=ln()(['<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nwidth="','" height="','" viewBox="0 0 438.533 438.533" style="','" xml:space="preserve">\n<g>\n<path d="M409.133,109.203c-19.608-33.592-46.205-60.189-79.798-79.796C295.736,9.801,259.058,0,219.273,0\n c-39.781,0-76.466,9.801-110.063,29.407c-33.595,19.604-60.192,46.201-79.8,79.796C9.801,142.8,0,179.489,0,219.267\n s9.804,76.463,29.407,110.062c19.607,33.585,46.204,60.189,79.799,79.798c33.597,19.605,70.283,29.407,110.063,29.407\n s76.47-9.802,110.065-29.407c33.593-19.602,60.189-46.206,79.795-79.798c19.603-33.599,29.403-70.287,29.403-110.062\n C438.533,179.489,428.732,142.795,409.133,109.203z M328.904,234.966L173.588,326.33c-2.856,1.711-5.902,2.567-9.136,2.567\n c-3.045,0-6.09-0.764-9.135-2.286c-6.09-3.614-9.136-8.939-9.136-15.985V127.907c0-7.041,3.046-12.371,9.136-15.987\n c6.28-3.427,12.369-3.333,18.271,0.284l155.316,91.36c6.088,3.424,9.134,8.663,9.134,15.703\n C338.038,226.308,334.992,231.537,328.904,234.966z" fill="','">\n</g>\n</svg>\n']);return Dr=function(){return t},t}var Ir=Ge.create(Dr(),"width","height","iconStyle","fillColor"),Or=function(t){l()(n,t);var e=Cr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"template",t.createTemplate(Lr(),"title","status","icon|html")),y()(u()(t),"data",{titie:"click to play",iconStyle:"opacity:0.5",display:"hide",status:"",width:100,height:100,fillColor:"#999",icon:Ir}),y()(u()(t),"options",{}),t.options=r,Object.assign(t.data,r.data),t.init(),t}return a()(n,[{key:"watch",value:function(){if("show"===this.data.display){var t=(this.element.parentNode.offsetHeight-this.data.height)/2;this.data.iconStyle="opacity:0.7;margin-top:".concat(t,"px")}}},{key:"resetPosition",value:function(){if("show"===this.data.display){var t=this.element.parentNode,e=t.offsetWidth,n=t.offsetHeight;!0===this.options.player.controlBarAutoHide&&(n-=this.options.player.controlBarHeight);var r=t.offsetTop,i=t.offsetLeft;this.element.style.width=e+"px",this.element.style.height=n+"px",this.element.style.top=r+"px",this.element.style.left=i+"px"}}},{key:"bindEvent",value:function(){var t=this,e=this.options.$screenContainer,n=this.options.cssName;En(e).on("click","."+n.bigPlayButton,(function(){t.events.emit(st.default.PlayerOnPlay,t),t.events.emit(st.default.ControlBarPlay,t),t.hide()})),En(e).on("mouseover","."+n.bigPlayButton,(function(){t.data.fillColor=t.options.bigPlayButtonColor||"#fff"})),En(e).on("mouseout","."+n.bigPlayButton,(function(e){var n=t.element,r={y:n.offsetTop,x:n.offsetLeft};r.width=n.offsetWidth,r.height=n.offsetHeight,e.pageX>r.x&&e.pageX<r.x+r.width&&e.pageY>r.y&&e.pageY<r.y+r.height||(t.data.fillColor="#999")}))}},{key:"show",value:function(){var t=this;"show"!==this.data.display&&(this.data.display="show",this.element.style.opacity="1",setTimeout((function(){t.element.style.display="inline-block"}),1))}},{key:"hide",value:function(){"hide"!==this.data.display&&(this.element.style.opacity="0",this.data.display="hide",this.element.style.display="none")}}]),n}(un);function Nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Mr=function(t){l()(n,t);var e=Nr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),(t=e.call(this,r)).options=Object.assign(t.options,r),t.componentsController=t.options.componentsController,t.init(),t}return a()(n,[{key:"render",value:function(){var t=this,e=B.createEl("gp-button-block");e.classList.add("goldplay__control--button-block"),n.componentList.forEach((function(n){var r=t.componentsController.getComponent(n);e.appendChild(r.element)})),this.element=e}}],[{key:"addCustomControl",value:function(t){n.componentList.push(t)}}]),n}(un);y()(Mr,"componentList",["playButton","pauseButton","replayButton"]);var Ur=Mr;function jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Fr=function(t){l()(n,t);var e=jr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),(t=e.call(this,r)).options=Object.assign(t.options,r),t.componentsController=t.options.componentsController,t.init(),t}return a()(n,[{key:"render",value:function(){var t=this,e=B.createEl("gp-control-sidebar");e.classList.add("goldplay__control--sidebar"),n.componentList.forEach((function(n){var r=t.componentsController.getComponent(n);e.appendChild(r.element)})),this.element=e}}],[{key:"addCustomControl",value:function(t,e){(e<0||e>n.componentList.length)&&(e=n.componentList.length),n.componentList.splice(e,0,t)}}]),n}(un);y()(Fr,"componentList",["speedBar","rateBar","volumeBar","fullPage","fullScreen"]);var Vr=Fr;function Hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Wr=function(t){l()(n,t);var e=Hr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),(t=e.call(this,r)).options=Object.assign(t.options,r),t.componentsController=t.options.componentsController,t.init(),t}return a()(n,[{key:"render",value:function(){var t=this,e=B.createEl("gp-control-nearside");e.classList.add("goldplay__control--button-block"),n.componentList.forEach((function(n){var r=t.componentsController.getComponent(n);e.appendChild(r.element)})),this.element=e}}],[{key:"addCustomControl",value:function(t,e){(e<0||e>n.componentList.length)&&(e=n.componentList.length),n.componentList.splice(e,0,t)}}]),n}(un);y()(Wr,"componentList",["playControl","timer"]);var zr=Wr,$r={BaseComponent:un,controlBarContainer:mn,bigPlayButton:Or,poster:vn,progressBar:Bn,playButton:Dn,pauseButton:Un,replayButton:Vn,volumeBar:qn,waitingBar:Jn,alertBox:tr,timer:rr,speedBar:ur,subtitle:fr,rateBar:yr,settingBar:br,fullPage:Pr,fullScreen:Br,playControl:Ur,sideControlBar:Vr,nearControlBar:zr};function Gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Yr=je,qr=function(t){return t.substr(0,1).toUpperCase()+t.substr(1)},Xr=function(t){l()(n,t);var e=Gr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"allComponents",{}),y()(u()(t),"controlBarController",null),y()(u()(t),"options",{cssName:Yr}),t.options=Object.assign(t.options,r),t.options.componentsController=u()(t),t.initComponents(),t.$container=t.options.$container,t.$screenContainer=t.options.$screenContainer,t.$canvas=t.options.$canvas,t.$audioContainer=t.options.$audioContainer,t.$audio=t.options.$audio,t.options.$controlBarContainer=t.controlBarContainer.element,t.bindEvent(),t}return a()(n,[{key:"run",value:function(){for(var t in this.controlBarController&&this.controlBarController.run(),$r)this[t]&&"function"==typeof this[t].registerMethod&&this[t].registerMethod()}},{key:"initComponents",value:function(){for(var t in $r){var e=$r[t];this.allComponents[t]||this.createComponent(e,t)}}},{key:"bindEvent",value:function(){var t=this;this.events.on(st.default.PlayerLoadedMetaData,(function(){t.poster.hide()})),this.events.on(st.default.AudioPlayerPlayFail,(function(){t.drawBigPlayButton(),t.getComponent("poster").hide(),t.events.emit(st.default.PlayerOnPause,t),t.events.emit(st.default.ControlBarPause,t)})),this.bindAlertBoxEvent(),this.bindWaitingBarEvent()}},{key:"bindWaitingBarEvent",value:function(){this.waitingBar.initProps(),this.waitingBar.bindEvent()}},{key:"drawBigPlayButton",value:function(){this.$screenContainer.prepend(this.bigPlayButton.element),this.bigPlayButton.show(),this.bigPlayButton.bindEvent(),this.bigPlayButton.resetPosition()}},{key:"setControlBarController",value:function(t){this.controlBarController=t}},{key:"getControlBarController",value:function(){return this.controlBarController||this.options.player.controlBarContainer}},{key:"bindAlertBoxEvent",value:function(){this.alertBox.initProps(),this.alertBox.bindEvent()}},{key:"drawPoster",value:function(){this.$screenContainer.prepend(this.poster.element),this.poster.data.display="show",this.poster.bindEvent(),this.poster.resetPosition()}},{key:"createComponent",value:function(t,e){var n=qr(e);this["set"+n](new t(this.options)),this[e]=this["get"+n](),this.allComponents[e]||(this.allComponents[e]=this[e])}},{key:"getComponent",value:function(t){return this.allComponents[t]||$r[t]&&this.createComponent($r[t],t),this.allComponents[t]}},{key:"resetAllComponents",value:function(){var t=this,e=Object.getOwnPropertyNames(this),n={};e.forEach((function(e){$r[e]&&(n[e]=t[e])})),this.allComponents=n}},{key:"getAllComponents",value:function(){return this.allComponents}}]),n}(D);for(var Kr in Xr.addComponet=function(t){var e=qr(t);Xr.prototype["set"+e]=function(e){this[t]=e},Xr.prototype["get"+e]=function(){return this[t]}},$r)Xr.addComponet(Kr);var Jr=Xr;function Qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Zr=je,ti=function(t){l()(n,t);var e=Qr(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(this,n),t=e.call(this,r),y()(u()(t),"player",null),y()(u()(t),"loadData",null),y()(u()(t),"options",{cssName:Zr}),t.options=Object.assign(t.options,r),t.player=t.options.player,t.loadData=t.player.loadData,t.componentsController=t.player.componentsController,t.$screenContainer=t.player.$screenContainer,t.initComponents(),t}return a()(n,[{key:"initComponents",value:function(){var t=this.componentsController;this.options.controlBar?Object.assign(this,t.getAllComponents()):Object.assign(this,{BaseComponent:t.getComponent("BaseComponent"),waitingBar:t.getComponent("waitingBar")}),this.container=this.controlBarContainer}},{key:"run",value:function(){this.drawLayout(),this.bindEvent(),this.player.autoPlay?this.events.emit(st.default.ControlBarPlay):this.events.emit(st.default.ControlBarPause)}},{key:"bindEvent",value:function(){this.bindWaitingBarEvent(),this.options.controlBar&&(this.timer.setTotalTime(this.loadData),this.bindSpeedEvent(),this.bindContainerEvent(),this.bindTimerEvent(),this.bindPlayEvent(),this.bindProgressEvent(),this.bindRateEvent(),this.bindVolumeEvent(),this.bindFullPage(),this.bindFullScreen())}},{key:"bindContainerEvent",value:function(){this.container.initProps(),this.container.bindEvent()}},{key:"bindTimerEvent",value:function(){this.timer.initProps(),this.timer.bindEvent()}},{key:"bindSpeedEvent",value:function(){this.speedBar.bindEvent(),this.speedBar.resetBoxPosition()}},{key:"bindRateEvent",value:function(){this.rateBar.bindEvent(),this.rateBar.resetBoxPosition()}},{key:"bindFullPage",value:function(){this.fullPage.initProps(),this.fullPage.bindEvent()}},{key:"bindFullScreen",value:function(){this.fullScreen.initProps(),this.fullScreen.bindEvent()}},{key:"bindWaitingBarEvent",value:function(){var t=this;[st.default.PlayerWait,st.default.PlayerSeeking,st.default.PlayerReset,st.default.PlayerChangeRate,st.default.PlayerChangeSrc].forEach((function(e){t.events.on(e,(function(){t.waitingBar.showWaiting()}))})),this.events.on(st.default.PlayerSeekEnd,(function(){t.waitingBar.hideWaiting()})),this.events.on(st.default.PlayerPlay,(function(){t.waitingBar.hideWaiting()})),this.events.on(st.default.PlayerPlaying,(function(){t.waitingBar.hideWaiting()}))}},{key:"bindPlayEvent",value:function(){var t=this;this.events.on(st.default.ControlBarPlay,(function(){"pause"!==t.pauseButton.data.status&&(t.pauseButton.data.status="pause"),t.replayButton.hide(),t.playButton.hide(),t.pauseButton.show(),t.bigPlayButton.hide()})),this.events.on(st.default.ControlBarPause,(function(){"pause"!==t.player.status&&(t.pauseButton.data.status="pause"),t.playButton.show(),t.pauseButton.hide()})),this.events.on(st.default.PlayerEnd,(function(){t.replayButton.show(),t.pauseButton.hide(),t.playButton.hide()})),this.events.on(st.default.PlayerPlay,(function(){t.events.emit(st.default.ControlBarPlay,t)})),this.events.on(st.default.PlayerPause,(function(){t.events.emit(st.default.ControlBarPause,t)})),this.events.on(st.default.PlayerOnSeek,(function(e){e<1e3*t.loadData.sourceData.duration&&t.events.emit(st.default.ControlBarPauseLoading)})),this.events.on(st.default.ControlBarPauseLoading,(function(){"pauseloading"!==t.pauseButton.data.status&&(t.pauseButton.data.status="pauseloading"),t.replayButton.hide(),t.playButton.hide(),t.pauseButton.show()})),En(this.options.$container).on("click","."+Zr.playButton,(function(){"play"!==t.player.status&&t.events.emit(st.default.PlayerOnPlay,t)})),En(this.options.$container).on("click","."+Zr.pauseButton,(function(){"pause"!==t.player.status&&t.events.emit(st.default.PlayerOnPause,t)})),En(this.options.$container).on("click","."+Zr.replayButton,(function(){t.events.emit(st.default.PlayerOnSeek,t.player.startTime)}))}},{key:"bindProgressEvent",value:function(){this.progressBar.initProps(),this.progressBar.bindEvent()}},{key:"bindVolumeEvent",value:function(){this.volumeBar.initProps(),this.volumeBar.initVolumeSize(),this.volumeBar.bindEvent()}},{key:"drawLayout",value:function(){var t=this.options.$container;if(this.container){var e=this.container.element;t.append(e)}}},{key:"destroy",value:function(){this.removeEventListenerGlobal(),this.container&&this.container.destroy()}},{key:"removeEventListenerGlobal",value:function(){this.progressBar&&this.progressBar.progressDragEvent&&this.progressBar.progressDragEvent.removeEventListenerAll(),this.volumeBar&&this.volumeBar.volumeDragEvent&&this.volumeBar.volumeDragEvent.removeEventListenerAll(),this.fullPage&&this.fullPage.removeEventListenerAll(),this.fullScreen&&this.fullScreen.removeEventListenerAll()}}]),n}(D),ei=n(53),ni=n.n(ei);function ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var ii=function(t){l()(n,t);var e=ri(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"isLast",!1),r.type=t.type,r.libPath=t.libPath,r.player=t.player,r.init(),r}return a()(n,[{key:"init",value:function(){"ts"==this.type&&this.initNornalWorker(),this.bindEvent(),this.loadjs()}},{key:"initNornalWorker",value:function(){this.processor=this.initWorker()}},{key:"initWorker",value:function(){var t=this,e=ni()(187);return e.onmessage=function(e){var n=e.data,r=n.type,i=n.no,o=n.data;switch(r){case"dataProcessorReady":t.onDataProcessorReady();break;case"decoded":t.onDecoded(o,i);break;case"demuxedAAC":t.onDemuxedAAC(o,i);break;case"partEnd":t.onPartEnd(o);break;case"resetEnd":t.onResetEnd();break;case"maxPTS":t.onMaxPTS(o);break;case"flushEnd":t.onFlushEnd(o)}},e}},{key:"bindEvent",value:function(){var t=this;this.events.on(st.default.DemuxStartDemux,this.onStartDemux.bind(this)),this.events.on(st.default.DemuxLast,(function(){t.isLast=!0})),this.events.on(st.default.DecodeFlush,(function(){t.flush()}))}},{key:"flush",value:function(){this.processor.postMessage({type:"flush"})}},{key:"loadjs",value:function(){this.processor.postMessage({type:"loadwasm",libPath:this.libPath,codec:this.options.codec})}},{key:"reset",value:function(){this.isLast=!1,this.processor.terminate(),this.initNornalWorker(),this.loadjs()}},{key:"onFlushEnd",value:function(t){this.events.emit(st.default.DecodeFlushEnd,t)}},{key:"onMaxPTS",value:function(t){this.events.emit(st.default.PlayerMaxPTS,t.maxAudioPTS,t.maxVideoPTS)}},{key:"onDemuxedAAC",value:function(t,e){this.events.emit(st.default.DemuxAAC,t,e)}},{key:"onDataProcessorReady",value:function(){this.player.seeking||this.player.reseting?this.events.emit(st.default.ProcessorResetEnd):this.events.emit(st.default.DataProcessorReady)}},{key:"onStartDemux",value:function(t){this.player.reseting||(this.logger.info("onStartDemux","postMessage to demux"),t&&t.arrayBuffer&&t.arrayBuffer.byteLength>0?this.processor.postMessage({type:"startDemux",data:t.arrayBuffer,no:t.no,isLast:this.isLast},[t.arrayBuffer.buffer]):this.logger.error("onStartDemux","data is null","data:",t))}},{key:"onDecoded",value:function(t,e){this.player.reseting||this.events.emit(st.default.DecodeDecoded,t,e)}},{key:"onPartEnd",value:function(t){this.events.emit(st.default.DecodeApppendEnd,t)}},{key:"onResetEnd",value:function(){this.events.emit(st.default.ProcessorResetEnd)}},{key:"destroy",value:function(){this.processor&&this.processor.terminate()}}]),n}(M);function oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var ai=function(t){l()(n,t);var e=oi(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"currentIndex",null),y()(u()(r),"retryTime",0),y()(u()(r),"dataReady",{audioReady:!1,imageReady:!1}),y()(u()(r),"hasInit",!1),y()(u()(r),"loadDataStatus","loading"),y()(u()(r),"duration",0),y()(u()(r),"tsNumber",0),r.loadData=t.loadData,r.imagePlayer=t.imagePlayer,r.audioPlayer=t.audioPlayer,r.player=t.player,r.bindEvent(),r}return a()(n,[{key:"bindEvent",value:function(){var t=this;this.events.on(st.default.LoadDataRead,(function(e){if(e){var n=e.no;"".concat(t.player.options.sourceURL,"-").concat(n);t.onRead(e)}})),this.events.on(st.default.DemuxVideo,(function(e,n){t.onVideoDemuxed(e,n)})),this.events.on(st.default.DemuxAAC,(function(e,n){t.onAACDemuxed(e,n)})),this.events.on(st.default.DecodeDecoded,(function(e,n){t.onDecoded(e,n)})),this.events.on(st.default.DecodeApppendEnd,(function(e){t.onAppendEnd(e)})),this.events.on(st.default.ImagePlayerReady,(function(){t.logger.info("bindevent","Events.ImagePlayerReady"),t.checkDataReady("imageReady")})),this.events.on(st.default.AudioPlayerDataReady,(function(){t.logger.info("bindevent","Events.AudioPlayerDataReady"),t.player.receiveAACTime=null,t.checkDataReady("audioReady")})),this.events.on(st.default.AudioPlayerWait,(function(){t.dataReady.audioReady=!1,t.events.emit(st.default.PlayerWait,"audioPlayer")})),this.events.on(st.default.ImagePlayerWait,(function(){t.dataReady.imageReady=!1,t.events.emit(st.default.PlayerWait,"imagePlayer")})),this.events.on(st.default.ImagePlayerEnd,(function(){t.logger.info("bindevent","........imageplayer end"),t.events.emit(st.default.PlayerEnd)})),this.events.on(st.default.PlayerWait,(function(){t.logger.warn("player status wait"),t.player.statusBeforeWait=t.player.status,t.player.status="wait","loadend"===t.loadDataStatus&&(t.loadDataStatus="loading",t.loadNext())})),this.events.on(st.default.PlayerLoadNext,(function(){"loadend"===t.loadDataStatus&&(t.loadDataStatus="loading",t.loadNext())})),this.events.on(st.default.DecodeFlushEnd,(function(e){t.logger.info("flushend>>>>>>>>>>>>>>>",e),t.imagePlayer.maxPTS=e}))}},{key:"checkDataReady",value:function(t){var e=this.dataReady;e[t]=!0;for(var n=Object.keys(e),r=0,i=0;i<n.length&&e[n[i]];i++)r++;r==n.length&&this.events.emit(st.default.StreamDataReady)}},{key:"setBaseInfo",value:function(t){this.duration=t.duration,this.tsNumber=t.tsNumber}},{key:"reset",value:function(){this.dataReady={audioReady:!1,imageReady:!1},this.currentIndex=null,this.loadDataStatus="loading"}},{key:"startLoad",value:function(t){this.logger.info("startLoad","index:",t),this.currentIndex=t,this.player.currentIndex=t,this.events.emit(st.default.LoadDataReadBufferByNo,t)}},{key:"loadNext",value:function(){this.player.reseting||(this.currentIndex>=this.tsNumber?this.logger.info("loadNext","load end","currentIndex",this.currentIndex,"tsNumber:",this.tsNumber):(this.currentIndex+=1,this.player.currentIndex=this.currentIndex,this.logger.info("loadNext","load next ts","tsno:",this.currentIndex),this.events.emit(st.default.LoadDataReadBufferByNo,this.currentIndex)))}},{key:"onDecoded",value:function(t,e){var n=this;t.forEach((function(t){n.player.reseting||t.pts>=n.player.currentTime&&n.imagePlayer.push(t)}))}},{key:"onAppendEnd",value:function(t){return t?(this.logger.info("onAppendEnd","events.decodeFlush",t),void this.events.emit(st.default.DecodeFlush)):(this.logger.info("onAppendEnd","start load next ts condition",this.checkBuffer(),this.currentIndex),this.checkBuffer()&&null!==this.currentIndex?(this.logger.info("onAppendEnd","load next ts. currentIndex:",this.currentIndex),void this.loadNext()):(this.loadDataStatus="loadend",void this.logger.info("onAppendEnd","load ts stop")))}},{key:"onAACDemuxed",value:function(t,e){var n=this;this.player.reseting||(t.length||this.audioPlayer.send({}),t.forEach((function(t){(t.PTS>=n.player.currentTime||t.audioEnd)&&(!n.player.receiveAACTime&&n.player.seeking&&(n.player.receiveAACTime=Date.now()),n.audioPlayer.send(t))})))}},{key:"onVideoDemuxed",value:function(t){this.player.reseting||this.events.emit(st.default.DecodeStartDecode,t)}},{key:"checkBuffer",value:function(){var t=this.player,e=t.currentTime,n=(t.buffer()[1]||0)-e;return!(t.playbackRate<=1&&n>=t.maxBufferLength)}},{key:"onRead",value:function(t){this.player.reseting?console.error("onRead reseting"):t&&t.arrayBuffer&&(t.no===this.currentIndex||this.player.playbackRate>1)?(this.retryTime=0,this.logger.warn("onRead","get stream data"),t.no===this.tsNumber&&(this.logger.info("onRead","the last ts"),this.events.emit(st.default.DemuxLast)),this.events.emit(st.default.DemuxStartDemux,t)):this.logger.error("onRead","load ts failred","tsno:",this.currentIndex)}},{key:"readFromCache",value:function(t,e){var n=this;t.forEach((function(t){(t.PTS>=n.player.currentTime||t.audioEnd)&&(!n.player.receiveAACTime&&n.player.seeking&&(n.player.receiveAACTime=Date.now()),n.audioPlayer.send(t))})),e.forEach((function(t){n.player.reseting||t.pts>=n.player.currentTime&&n.imagePlayer.push(t)})),this.events.emit(st.default.DecodeFlush)}}]),n}(M);function si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var ui=function(t){l()(n,t);var e=si(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"maxBufferLength",0),y()(u()(r),"duration",0),y()(u()(r),"pool",[]),y()(u()(r),"start",0),y()(u()(r),"end",0),y()(u()(r),"offset",0),y()(u()(r),"fps",25),r.maxBufferLength=t.maxBufferLength,r}return a()(n,[{key:"push",value:function(t){var e=this.pool,n=e.length;0===n&&(this.offset=t.pts,this.start=t.pts,this.fps=t.fps);var r=this.insertSort(e,t);e[r-1]&&(e[r-1].duration=e[r].pts-e[r-1].pts),e[r+1]&&(e[r].duration=e[r+1].pts-e[r].pts),this.end=this.pool[n].pts+this.pool[n].duration,this.duration=this.end-this.start}},{key:"insertSort",value:function(t,e){var n=t.length;if(0===n)return t.push(e),0;for(var r=0;r<n;r++)if(e.pts<t[r].pts){for(var i=n;i>r;)t[i]=t[i-1],i--;return t[r]=e,r}return t.push(e),t.length-1}},{key:"reset",value:function(){this.duration=0,this.pool=[],this.start=0,this.end=0,this.offset=0}},{key:"findByIndex",value:function(t){var e=this.buffer.length;return t<e?(this.currentIndex=t,this.buffer[t]):(this.logger.error("input index ".concat(t,"is not found, current maxIndex is ").concat(e-1)),null)}},{key:"find",value:function(t){var e=this.pool,n=e.length;if(this.isBuffered(t)&&0!==n){var r=this.findIndex(t);if(-1!==r){var i=e[r];return this.checkBuffer(t),i}}}},{key:"findIndex",value:function(t){return this.pool.findIndex((function(e){var n=parseInt(e.pts);return t>=n&&t<n+e.duration}))}},{key:"isBuffered",value:function(t){return t>=this.start&&t<this.end}},{key:"checkBuffer",value:function(t){if(this.duration>this.maxBufferLength){if(t>this.start){var e=this.findIndex(t),n=this.pool.splice(0,e);n.forEach((function(t){null})),n=null,this.start=this.pool[0].pts,this.duration=this.end-this.start}return!1}return this.events.emit(st.default.PlayerLoadNext),!0}},{key:"buffer",value:function(){return{start:this.start,end:this.end}}}]),n}(M),ci=n(96),li=n.n(ci),fi=n(71),hi=n.n(fi);function pi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var di=function(t){l()(n,t);var e=pi(n);function n(t){var r;return i()(this,n),r=e.call(this),y()(u()(r),"canvas",null),r.setCanvas(t.canvas),r.setRender(),r}return a()(n,[{key:"setCanvas",value:function(t){this.canvas=t}},{key:"setRender",value:function(t){this.render=li.a.attach(t||this.canvas)}},{key:"clear",value:function(){this.render.clear()}},{key:"drawFrame",value:function(t){var e,n,r,i,o,a=Date.now(),s=t.buf_y,u=t.buf_u,c=t.buf_v,l=t.width,f=t.height,h=l/2,p=f/2;e={bytes:s,stride:t.stride_y},n={bytes:u,stride:t.stride_u},r={bytes:c,stride:t.stride_v},i=hi.a.format({width:l,height:f,chromaWidth:h,chromaHeight:p}),o=hi.a.frame(i,e,n,r),this.render.drawFrame(o);var d=Date.now();d-a>10&&this.logger.warn("drawFrame","reandertime:",d-a)}}]),n}(M);function vi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var yi=function(t){l()(n,t);var e=vi(n);function n(t){var r;return i()(this,n),r=e.call(this,t),y()(u()(r),"status","pause"),y()(u()(r),"_currentTime",0),y()(u()(r),"maxPTS",null),y()(u()(r),"ready",!1),y()(u()(r),"firstRender",!1),r.imageData=new ui({events:t.events,maxBufferLength:t.maxBufferLength}),r.screen=new di({canvas:t.canvas}),r.playHandler=null,r.player=t.player,r.debug=t.debug||!1,r}return a()(n,[{key:"setScreenRender",value:function(t){this.screen.setCanvas(t),this.screen.setRender(t)}},{key:"clear",value:function(){this.screen.clear()}},{key:"play",value:function(t){"play"!==this.status&&(this.status="play",this.render(t))}},{key:"pause",value:function(){"pause"!==this.status&&(this.status="pause",clearTimeout(this.playHandler),this.playHandler=null)}},{key:"checkBuffer",value:function(){return this.imageData.checkBuffer(this.currentTime)}},{key:"push",value:function(t){if(!this.player.reseting){this.imageData.push(t);var e=this.end-this.player.currentTime,n=U.d.READYBUFFERLENGTH;if(this.player.playbackRate>1&&(n*=8*this.player.playbackRate),e>n&&!this.ready){this.ready=!0,this.status="ready",this.events.emit(st.default.ImagePlayerReady),null==this.player.startPts&&(this.player.startPts=this.imageData.start);var r=this.player.currentTime+this.player.startPts;this.render(r,!1)}this.events.emit(st.default.ImagePlayerBuffeUpdate)}}},{key:"find",value:function(t){return this.imageData.find(t)}},{key:"buffer",value:function(){return this.imageData.buffer()}},{key:"isBuffered",value:function(t){return this.imageData.isBuffered(t)}},{key:"render",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(t<this.imageData.offset)){var n=this.find(t);return n?(this.firstRender||(this.firstRender=!0,this.events.emit(st.default.PlayerLoadedMetaData,n.width,n.height)),this.screen.drawFrame(n),this.currentTime=n.pts,e&&this.events.emit(st.default.ImagePlayerRenderEnd,t,n.duration),n):this.maxPTS&&t>=this.maxPTS+this.fragDuration?(this.status="end",void this.events.emit(st.default.ImagePlayerEnd,this.maxPTS)):(this.logger.warn("Events.ImagePlayerWait",t,this.start,this.end,this.maxPTS),this.logger.warn("render","not yuv data"),this.status="wait",this.ready=!1,this.events.emit(st.default.ImagePlayerWait,"image","this"),!1)}}},{key:"reset",value:function(){this.status="pause",this.ready=!1,this.imageData.reset(),this.maxPTS=null,this.currentTime=0}},{key:"currentTime",set:function(t){this._currentTime=t},get:function(){return this._currentTime}},{key:"offset",get:function(){return this.imageData.offset}},{key:"fragDuration",get:function(){return Math.ceil(1e3/this.imageData.fps)}},{key:"start",get:function(){return this.imageData.start}},{key:"end",get:function(){return this.imageData.end}},{key:"duration",get:function(){return this.imageData.duration}}]),n}(M);function gi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var mi=new WeakMap,bi=new WeakMap,_i=new WeakMap,wi=new WeakMap,xi=new WeakMap,ki=function(t){l()(n,t);var e=gi(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i()(this,n),r=e.call(this),y()(u()(r),"mode",U.c.mode),y()(u()(r),"$container",null),y()(u()(r),"componentsController",null),y()(u()(r),"controlBar",!1),y()(u()(r),"controlBarController",null),y()(u()(r),"controlBarHeight",50),y()(u()(r),"alertError",null),y()(u()(r),"dataController",null),y()(u()(r),"demuxer",null),y()(u()(r),"decoder",null),y()(u()(r),"preload",!0),y()(u()(r),"startTime",0),y()(u()(r),"screenWidth",null),y()(u()(r),"screenHeight",null),y()(u()(r),"options",{}),mi.set(u()(r),{writable:!0,value:U.c.libPath}),y()(u()(r),"readyStatus",{dataProcessor:!1,firstData:!1,audioPlayer:!1}),y()(u()(r),"reseting",!1),bi.set(u()(r),{writable:!0,value:0}),_i.set(u()(r),{writable:!0,value:!1}),wi.set(u()(r),{writable:!0,value:1}),xi.set(u()(r),{writable:!0,value:!1}),y()(u()(r),"maxBufferLength",U.d.MAXBUFFERLENGTH),y()(u()(r),"seekSegmentNo",-1),y()(u()(r),"status","init"),y()(u()(r),"loader",null),y()(u()(r),"currentIndex",null),y()(u()(r),"startIndex",1),y()(u()(r),"loadData",null),y()(u()(r),"paused",!1),y()(u()(r),"autoPlay",!0),y()(u()(r),"duration",0),y()(u()(r),"tsNumber",0),t||r.logger.error("Please pass in a dom object as the display container"),r.el=t,Object.assign(r.options,o),r.options.sourceURL=r.options.sourceURL||r.options.source,r.options.streamList=r.options.streamList||[],r.options.events=P(),r.maxBufferLength=void 0!==o.maxBufferLength?o.maxBufferLength:r.maxBufferLength,r.autoPlay=void 0!==o.autoPlay?o.autoPlay:r.autoPlay,r.controlBar=o.controlBar||r.controlBar,r.controlBarAutoHide=void 0!==o.controlBarAutoHide?o.controlBarAutoHide:r.controlBarAutoHide,_()(u()(r),mi,void 0!==o.libPath?o.libPath:m()(u()(r),mi)),r.preload=void 0===o.preload?r.preload:o.preload,r.startTime=void 0===o.startTime?r.startTime:o.startTime,r.originStartTime=r.startTime,r.playbackRate=void 0===o.playbackRate?r.playbackRate:o.playbackRate,r}return a()(n,[{key:"setAlertError",value:function(){this.options.alertError=this.alertError=O.getInstance({player:this,component:this.componentsController.alertBox,events:this.options.events})}},{key:"setDataController",value:function(){this.dataController=Dt.getInstance({player:this,events:this.options.events})}},{key:"setLoadData",value:function(){this.dataController.setLoadData({player:this,events:this.options.events}),this.loadData=this.dataController.loadData}},{key:"setComponentsController",value:function(){this.componentsController=Jr.getInstance({$container:this.$container,$screenContainer:this.$screenContainer,$canvas:this.$canvas,$audioContainer:this.$audioContainer,$audio:this.$audio,loadData:this.loadData,bigPlayButtonColor:this.bigPlayButtonColor,player:this,events:this.options.events})}},{key:"setControlBarController",value:function(){var t=Object.assign({},this.options,{$container:this.$container,$screenContainer:this.$screenContainer,controlBar:this.controlBar,controlBarAutoHide:this.controlBarAutoHide,player:this});this.controlBarController=ti.getInstance(t)}},{key:"setLoadController",value:function(){this.loaderController=Et.getInstance(this.options.type,{player:this,events:this.options.events})}},{key:"setProcessorController",value:function(){this.processController=new ii({type:"ts",codec:this.options.codec,libPath:m()(this,mi),events:this.options.events,player:this})}},{key:"setStreamController",value:function(){this.streamController=new ai({events:this.options.events,loadData:this.loadData,imagePlayer:this.imagePlayer,audioPlayer:this.audioPlayer,player:this})}},{key:"setImagerPlayer",value:function(){this.imagePlayer=new yi({events:this.options.events,canvas:this.$canvas,maxBufferLength:this.maxBufferLength,player:this})}},{key:"setAudioPlayer",value:function(){this.audioPlayer=new Ue({player:this,events:this.options.events,audioNode:this.$audio})}},{key:"setAction",value:function(){this.action=new Mt({player:this,screen:this.screen,imagePlayer:this.imagePlayer,loadData:this.loadData,audioPlayer:this.audioPlayer,events:this.options.events})}},{key:"init",value:function(){this.controlBarHeight=this.options.controlBarHeight||this.controlBarHeight,this.options.httpWorker=ni()(148,{name:"httpWorker"}),this.currentTime=this.startTime,this.addEl(),this.setDataController(),this.setLoadData(),this.setLoadController(),this.setComponentsController(),this.setControlBarController(),this.componentsController.setControlBarController(this.controlBarController),this.setProcessorController(),this.setAlertError(),this.componentsController.drawPoster(),this.setImagerPlayer(),this.setAudioPlayer(),this.setAction(),this.setStreamController(),this.preload&&this.run(),this.bindEvent()}},{key:"bindEvent",value:function(){var t=this;this.events.on(st.default.PlayerOnPlay,(function(){t.play()})),this.events.on(st.default.PlayerOnPause,(function(){t.pause()})),this.events.on(st.default.PlayerOnVolume,(function(e){t.volume=e})),this.events.on(st.default.DataProcessorReady,(function(){t.logger.info("bindEvent","decoder ready"),t.checkReady("dataProcessor")})),this.events.on(st.default.AudioPlayerReady,(function(){t.logger.info("bindEvent","audioPlayer ready"),t.seeking||t.checkReady("audioPlayer")})),this.events.on(st.default.PlayerReady,(function(){t.logger.info("bindEvent","player ready"),t.onReady()})),this.events.on(st.default.PlayerSpeedTo,(function(e){t.changeSpeed(e)})),this.events.on(st.default.PlayerChangeRate,(function(e){t.changeRate(e)})),this.events.on(st.default.PlayerWait,(function(){t.onWait()})),this.events.on(st.default.PlayerPlay,(function(){t.onPlay()})),this.events.on(st.default.LoaderPlayListLoaded,(function(e){"function"==typeof t.options.afterLoadPlaylist&&t.options.afterLoadPlaylist(t.laodData.sourceData);var n=e.loadData.sourceData;t.duration=n.duration,t.tsNumber=n.length,t.streamController.setBaseInfo({duration:t.duration,tsNumber:t.tsNumber}),t.dataController.startLoad(t.startTime),t.setStartTime(t.originStartTime)})),this.events.on(st.default.LoadDataFirstLoaded,(function(e){t.logger.info("bindEvent","first data ready"),t.startIndex=e.no,t.streamController.currentIndex=e.no,t.checkReady("firstData")})),this.events.on(st.default.StreamDataReady,(function(){t.logger.info("bindEvent","dataReady"),t.onDataReady()})),this.events.on(st.default.PlayerLoadedMetaData,(function(e,n){t.setCanvas(),t.resizeScreen(e,n)})),this.events.on(st.default.PlayerEnd,(function(){t.status="end"})),this.events.on(st.default.ImagePlayerBuffeUpdate,(function(){var e=t.buffer();t.events.emit(st.default.PlayerbufferUpdate,e)})),this.events.on(st.default.PlayerOnSeek,(function(e){t.seek(Math.floor(e))})),this.events.on(st.default.PlayerAlert,(function(e){t.alertError.show(e)})),this.events.on(st.default.PlayerThrowError,(function(e){N.a.apply(t,e)})),this.events.on(st.default.PlayerTimeUpdate,(function(e){t.options.onTimeupdate&&t.options.onTimeupdate(e)}))}},{key:"reset",value:function(t){this.action&&this.action.reset(t)}},{key:"switchPlaylist",value:function(t,e){this.loaderController.switchPlaylist(t,e)}},{key:"changeSpeed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.playbackRate=t.value||1}},{key:"setStartTime",value:function(t){this.startTime=t}},{key:"changeRate",value:function(t){this.pause(),this.events.emit(st.default.ControlBarPauseLoading,this),this.setStartTime((this.currentTime-5e3)/1e3),this.changing=!0,this.seeking=!1,this.imagePlayer.firstRender=!1,this.readyStatus={dataProcessor:!1,firstData:!1,audioPlayer:!1},this.reset(!0),this.switchPlaylist(t.url)}},{key:"changeSrc",value:function(t,e){this.pause(),this.events.emit(st.default.ControlBarPauseLoading,this),this.events.emit(st.default.PlayerChangeSrc,this),this.changing=!0,this.seeking=!1,this.imagePlayer.firstRender=!1,this.readyStatus={dataProcessor:!1,firstData:!1,audioPlayer:!1},this.currentTime=this.startTime,this.imagePlayer.clear(),this.reset(!0),this.switchPlaylist(t,e)}},{key:"setCanvas",value:function(){var t=He.createCanvas(this);if(B.isElement(this.$canvas)){if(this.$canvas.width&&this.$canvas.height)return this.imagePlayer.setScreenRender(t),this.$canvas.replaceWith(t),void(this.$canvas=t)}else this.$screen.appendChild(t),this.$canvas=t}},{key:"destroy",value:function(){this.controlBarController&&(this.controlBarController.destroy(),delete this.controlBarController),this.$container&&(this.el.removeChild(this.$container),delete this.$container),this.processController.destroy(),this.loaderController.destroy()}},{key:"run",value:function(){this.loaderController.run()}},{key:"checkReady",value:function(t){var e=this.readyStatus;if(t&&"string"==typeof t){e[t]=!0;for(var n=Object.keys(e),r=0;r<n.length;r++)if(!e[n[r]])return!1;return this.logger.info("checkReady","player ready"),this.events.emit(st.default.PlayerReady),!0}return this.logger.error("checkReady","check ready","type is no correct, type:",t),!1}},{key:"addEl",value:function(){var t,e,n,r;this.el?(t=He.createContainer(this),this.el.appendChild(t),this.$container=t,e=He.createScreenContainer(this),this.$screen=e,t.appendChild(e),this.$screenContainer=e,this.setCanvas(),r=He.createAudio(this),this.$audio=r,(n=He.createAudioContainer(this)).appendChild(r),this.$audioContainer=n,t.appendChild(n)):this.logger.error("addEl","not found el.","el:",this.options.el)}},{key:"onWait",value:function(){this.logger.info("onWait","wait,wait,wait")}},{key:"onPlay",value:function(){this.logger.info("onPlay","play, play, play")}},{key:"onReady",value:function(){this.changing||this.componentsController.run(),this.changing&&this.logger.info("onReady","change ready","startIndex:",this.startIndex),this.streamController.startLoad(this.startIndex)}},{key:"onDataReady",value:function(){this.changing&&(this.changing=!1,this.play()),"playing"===this.statusBeforeSeek||this.autoPlay&&!this.paused||"playing"===this.statusBeforeWait&&"wait"===this.status&&"wait"!==this.imagePlayer.status&&"wait"!==this.audioPlayer.status?this.play():this.events.emit(st.default.ControlBarPause)}},{key:"buffer",value:function(){var t=this.imagePlayer.buffer(),e=this.audioPlayer.buffer(),n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return this.audioPlayer.need||(n=t.start,r=t.end),n<r?[n,r]:[0,0]}},{key:"play",value:function(){this.logger.info("play",this.status),"playing"!==this.status&&(this.logger.info("start play"),this.status="playing",this.paused=!1,this.action.play(this.currentTime+(this.startPts||0)),this.events.emit(st.default.PlayerPlay,this))}},{key:"on",value:function(t,e){this.events.on("Player."+t,e)}},{key:"off",value:function(t,e){this.events.off("Player."+t,e)}},{key:"once",value:function(t,e){this.events.once("Player."+t,e)}},{key:"pause",value:function(){"pause"!=this.status&&(this.logger.info("pause"),this.status="pause",this.action.pause(),this.paused=!0,this.events.emit(st.default.PlayerPause,this))}},{key:"seek",value:function(t){t<this.startTime||(t>=1e3*this.duration?this.logger.info("seek","seek to time:",t):(this.statusBeforeSeek=this.status,this.seekTime=Date.now(),this.seeking=!0,this.currentTime=t,this.action.seek(t+this.startPts)))}},{key:"resizeScreen",value:function(t,e){B.adaptSizeElement(t,e,this.$screenContainer,this.$canvas)}},{key:"muted",get:function(){return m()(this,xi)},set:function(t){_()(this,xi,!!t)}},{key:"playbackRate",set:function(t){_()(this,wi,t)},get:function(){return m()(this,wi)}},{key:"seeking",set:function(t){_()(this,_i,t),t?this.events.emit(st.default.PlayerSeeking):this.events.emit(st.default.PlayerSeekEnd)},get:function(){return m()(this,_i)}},{key:"currentTime",get:function(){return m()(this,bi)},set:function(t){_()(this,bi,t)}},{key:"volume",get:function(){return this.audioPlayer.volume},set:function(t){this.audioPlayer.volume=t}}]),n}(M);n(154);function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h()(this,n)}}var Ei=function(t){l()(n,t);var e=Si(n);function n(t,r){var o;return i()(this,n),o=e.call(this,t,r),y()(u()(o),"libPath",null),o.options.processURL=r.processURL,o.libPath=r.libPath,!1!==o.options.needInit&&o.init(),o}return a()(n,null,[{key:"getComponent",value:function(t){return $r[t]}},{key:"registerComponent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if("string"!=typeof t||!t)throw new Error('Illegal component name, "'.concat(t,'"; must be a non-empty string.'));var i=Object.prototype.isPrototypeOf.call(un,e.prototype);if(!i)throw new Error('Illegal component, "'.concat(t,'"; must be a BaseComponent subclass.'));$r[t]=e,Jr.addComponet(t),"left"===n?zr.addCustomControl(t,r):Vr.addCustomControl(t,r)}}]),n}(ki);e.default=Ei},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,n(36))},function(t,e,n){"use strict";var r=n(37),i=n(24),o=n(38),a=n(82),s=n(85),u=n(86),c=n(18),l=n(39),f=n(49);function h(t,e){return c.new(t).mod(e)}function p(t,e){return c.new(t).transpose(e)}function d(t,e,n,r){if(1===arguments.length)return d(0,t,1,void 0);if(2===arguments.length&&l.isNumber(e))return d(t,e,1,void 0);if(2===arguments.length)return d(0,t,1,e);if(3===arguments.length&&!l.isNumber(n))return d(t,e,1,n);for(var i=[],o=0;t<e;)i[o++]=t,t+=n;return c.new(i,r)}function v(t,e){l.isNumber(t)&&t>=0&&(t=[t]);var n=l.shapeSize(t),r=l.getType(e),i=new c(new r(n),t);return"array"===i.dtype&&o.assigns(i.selection,0),i}function y(t,e){l.isNumber(t)&&t>=0&&(t=[t]);var n=l.shapeSize(t),r=l.getType(e),i=new c(new r(n),t);return o.assigns(i.selection,1),i}var g=i({args:["array","scalar"],body:function(t,e){t=t<-30?0:t>30?1:1/(1+Math.exp(-1*e*t))}});var m=i({args:["array","scalar","scalar"],body:function(t,e,n){t=Math.min(Math.max(e,t),n)}});var b=i({args:["array","scalar"],body:function(t,e){t=Math.max(e*t,t)}});var _=i({args:["array"],body:function(t){t=(Math.exp(2*t)-1)/(Math.exp(2*t)+1)}});function w(t){var e=t instanceof c?t.clone():c.new(t);return o.abseq(e.selection),e}function x(t){var e,n;for(arguments.length>1&&(t=[].slice.call(arguments)),e=0;e<t.length;e++)n=t[e],t[e]=n instanceof c?n.tolist():l.isNumber(n)?[n]:n;var r=t[0];for(e=1;e<t.length;e++){n=t[e];var i=l.getShape(r),o=l.getShape(n);if(i.length!==o.length)throw new f.ValueError("all the input arrays must have same number of dimensions");if(1===i.length&&1===o.length)r=r.concat(n);else if(2===i.length&&2===o.length&&i[0]===o[0]||1===i.length&&2===o.length&&i[0]===o[0]||2===i.length&&1===o.length&&i[0]===o[0])for(var a=0;a<i[0];a++)r[a]=r[a].concat(n[a]);else{if(!(3===i.length&&3===o.length&&i[0]===o[0]&&i[1]===o[1]||2===i.length&&3===o.length&&i[0]===o[0]&&i[1]===o[1]||3===i.length&&2===o.length&&i[0]===o[0]&&i[1]===o[1]))throw new f.ValueError('cannot concatenate  "'+i+'" with "'+o+'"');for(var s=0;s<i[0];s++){for(var u=new Array(i[1]),h=0;h<i[1];h++)u[h]=r[s][h].concat(n[s][h]);r[s]=u}}}return c.new(r,t[0].dtype)}function k(t,e){for(var n=y((t=c.new(t)).ndim).tolist(),r=e;r<0;)r+=t.ndim;if(void 0===n[r])throw new f.ValueError("axis="+e+"invalid for the "+t.ndim+"-dimensional input array");return n[r]=-1,t.step.apply(t,n)}t.exports={config:s,dtypes:u,NdArray:c,ndarray:r,array:c.new,arange:d,reshape:function(t,e){return c.new(t).reshape(e)},zeros:v,ones:y,empty:function(t,e){l.isNumber(t)&&t>=0&&(t=[t]);var n=l.shapeSize(t),r=l.getType(e);return new c(new r(n),t)},flatten:function(t){return c.new(t).flatten()},flip:k,random:function(t){if(0===arguments.length)return c.new(Math.random());t=1===arguments.length?l.isNumber(t)?[0|t]:t:[].slice.call(arguments);var e=l.shapeSize(t),n=new c(new Float64Array(e),t);return o.random(n.selection),n},softmax:function(t){var e=c.new(t).exp(),n=e.sum();return o.divseq(e.selection,n),e},sigmoid:function(t,e){return t=c.new(t).clone(),e=e||1,g(t.selection,e),t},leakyRelu:function(t,e){e=e||.001;var n=t instanceof c?t.clone():c.new(t);return b(n.selection,e),n},abs:w,arccos:function(t){var e=t instanceof c?t.clone():c.new(t);return o.acoseq(e.selection),e},arcsin:function(t){var e=t instanceof c?t.clone():c.new(t);return o.asineq(e.selection),e},arctan:function(t){var e=t instanceof c?t.clone():c.new(t);return o.ataneq(e.selection),e},cos:function(t){var e=t instanceof c?t.clone():c.new(t);return o.coseq(e.selection),e},sin:function(t){var e=t instanceof c?t.clone():c.new(t);return o.sineq(e.selection),e},tan:function(t){var e=t instanceof c?t.clone():c.new(t);return o.taneq(e.selection),e},tanh:function(t){var e=t instanceof c?t.clone():c.new(t);return _(e.selection),e},clip:function(t,e,n){1===arguments.length?(e=0,n=1):2===arguments.length&&(n=1);var r=t instanceof c?t.clone():c.new(t);return m(r.selection,e,n),r},exp:function(t){return c.new(t).exp()},log:function(t){return c.new(t).log()},sqrt:function(t){return c.new(t).sqrt()},power:function(t,e){return c.new(t).pow(e)},sum:function(t){return c.new(t).sum()},mean:function(t){return c.new(t).mean()},std:function(t,e){return c.new(t).std(e)},dot:function(t,e){return c.new(t).dot(e)},add:function(t,e){return c.new(t).add(e)},subtract:function(t,e){return c.new(t).subtract(e)},multiply:function(t,e){return c.new(t).multiply(e)},divide:function(t,e){return c.new(t).divide(e)},negative:function(t){return c.new(t).negative()},equal:function(t,e){return c.new(t).equal(e)},max:function(t){return c.new(t).max()},min:function(t){return c.new(t).min()},mod:h,remainder:h,concatenate:x,transpose:p,errors:f,broadcast:function(t,e){if(0!==t.length&&0!==e.length){for(var n=t.slice().reverse(),r=e.slice().reverse(),i=Math.max(t.length,e.length),o=new Array(i),a=0;a<i;a++)if(n[a]&&1!==n[a])if(r[a]&&1!==r[a]){if(n[a]!==r[a])return;o[a]=n[a]}else o[a]=n[a];else o[a]=r[a];return o.reverse()}},round:function(t){return c.new(t).round()},convolve:function(t,e){return c.new(t).convolve(e)},fftconvolve:function(t,e){return c.new(t).fftconvolve(e)},fft:function(t){var e=(t=t instanceof c?t.clone():c.new(t)).shape,n=e.length;if(2!==e[n-1])throw new f.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var r=new Array(n),i=new Array(n);return r[n-1]=0,i[n-1]=1,a(1,t.selection.pick.apply(t.selection,r),t.selection.pick.apply(t.selection,i)),t},ifft:function(t){var e=(t=t instanceof c?t.clone():c.new(t)).shape,n=e.length;if(2!==e[n-1])throw new f.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var r=new Array(n),i=new Array(n);return r[n-1]=0,i[n-1]=1,a(-1,t.selection.pick.apply(t.selection,r),t.selection.pick.apply(t.selection,i)),t},diag:function(t){return c.new(t).diag()},identity:function(t,e){for(var n=v([t,t],e),r=0;r<t;r++)n.set(r,r,1);return n},stack:function(t,e){if(e=e||0,!t||0===t.length)throw new f.ValueError("need at least one array to stack");for(var n,r=(t=t.map((function(t){return l.isNumber(t)?t:c.new(t)})))[0].shape||[],i=1;i<t.length;i++)for(var o=t[i].shape||[],a=Math.max(r.length,o.length),s=0;s<a;s++)if(r[s]!==o[s])throw new f.ValueError("all input arrays must have the same shape");if(0===r.length)n=x(t);else{n=v([t.length].concat(r));for(i=0;i<t.length;i++)n.pick(i).assign(t[i],!1)}if(e){e<0&&(e=n.ndim+e);var u=n.ndim,h=new Array(u);for(i=0;i<u;i++)h[i]=i<e?i+1:i===e?0:i;return n.transpose(h)}return n},rot90:function(t,e,n){for(e=e||1;e<0;)e+=4;if(e%=4,t=c.new(t),1!==(n=c.new(n||[0,1])).shape.length||2!==n.shape[0])throw new f.ValueError("len(axes) must be 2");if((n=n.tolist())[0]===n[1]||w(n[0]-n[1])===t.ndim)throw new f.ValueError("Axes must be different.");if(0===e)return t;if(2===e)return k(k(t,n[0]),n[1]);var r=d(t.ndim).tolist(),i=r[n[0]];return r[n[0]]=r[n[1]],r[n[1]]=i,1===e?p(k(t,n[1]),r):k(p(t,r),n[1])},int8:function(t){return c.new(t,"int8")},uint8:function(t){return c.new(t,"uint8")},int16:function(t){return c.new(t,"int16")},uint16:function(t){return c.new(t,"uint16")},int32:function(t){return c.new(t,"int32")},uint32:function(t){return c.new(t,"uint32")},float32:function(t){return c.new(t,"float32")},float64:function(t){return c.new(t,"float64")},images:n(130)}},function(t,e,n){"use strict";t.exports=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";(function(e){var r=n(121),i=n(80),o=0;function a(t,e,n){this.name=t,this.lvalue=e,this.rvalue=n,this.count=0}function s(t,e,n,r){this.body=t,this.args=e,this.thisVars=n,this.localVars=r}t.exports=function(t){for(var n=["(",t,")()"].join(""),u=r.parse(n,{range:!0}),c="_inline_"+o+++"_",l=function(t){for(var e=t.body[0].expression.callee.params,n=new Array(e.length),r=0;r<e.length;++r)n[r]=e[r].name;return n}(u),f=new Array(l.length),h=0;h<l.length;++h)f[h]=new a([c,"arg",h,"_"].join(""),!1,!1);for(var p=new Array(n.length),d=(h=0,n.length);h<d;++h)p[h]=n.charAt(h);var v,y=[],g=[];function m(t,e){for(var n=t.range[0],r=t.range[1],i=n+1;i<r;++i)p[i]="";p[n]=e}return function t(n,r){if(n.parent=r,"MemberExpression"===n.type)n.computed?(t(n.object,n),t(n.property,n)):"ThisExpression"===n.object.type?m(n,(b=n.property.name,_="this_"+b.replace(/\_/g,"__"),g.push(_),_)):t(n.object,n);else{if("ThisExpression"===n.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===n.type){var i=n.name,o=l.indexOf(i);if(o>=0){var a=f[o],s=function(t){return"AssignmentExpression"===t.parent.type&&t.parent.left===t?"="===t.parent.operator?1:3:"UpdateExpression"===t.parent.type?3:2}(n);1&s&&(a.lvalue=!0),2&s&&(a.rvalue=!0),++a.count,m(n,a.name)}else(function(t){if("eval"===t)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?t in window:void 0!==e?t in e:"undefined"!=typeof self&&t in self})(i)||m(n,function(t){var e=c+t.replace(/\_/g,"__");return y.push(e),e}(i))}else if("Literal"===n.type)"string"==typeof n.value&&m(n,"'"+n.value.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'");else{if("WithStatement"===n.type)throw new Error("cwise-parser: with() statements not allowed");for(var u=Object.keys(n),h=0,p=u.length;h<p;++h)if("parent"!==u[h]){var d=n[u[h]];if(d)if(d instanceof Array)for(var v=0;v<d.length;++v)d[v]&&"string"==typeof d[v].type&&t(d[v],n);else"string"==typeof d.type&&t(d,n)}}}var b,_}(u.body[0].expression.callee.body,void 0),i(y),i(g),new s((v=u.body[0].expression.callee.body,p.slice(v.range[0],v.range[1]).join("")),f,g,y)}}).call(this,n(36))},function(t,e,n){var r,i,o;!function(n,a){"use strict";i=[e],void 0===(o="function"==typeof(r=function(t){var e,n,r,i,o,a,s,u,c,l,f,h,p,d,v,y,g,m;function b(t,e){if(!t)throw new Error("ASSERT: "+e)}function _(t){return t>=48&&t<=57}function w(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function x(t){return"01234567".indexOf(t)>=0}function k(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function S(t){return 10===t||13===t||8232===t||8233===t}function E(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&s.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function P(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&s.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function T(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function A(t){return"eval"===t||"arguments"===t}function R(t,e,n,r,i){var o;b("number"==typeof n,"Comment must have valid position"),g.lastCommentStart>=n||(g.lastCommentStart=n,o={type:t,value:e},m.range&&(o.range=[n,r]),m.loc&&(o.loc=i),m.comments.push(o),m.attachComment&&(m.leadingComments.push(o),m.trailingComments.push(o)))}function B(t){var e,n,r,i;for(e=f-t,n={start:{line:h,column:f-p-t}};f<d;)if(r=c.charCodeAt(f),++f,S(r))return m.comments&&(i=c.slice(e+t,f-1),n.end={line:h,column:f-p-1},R("Line",i,e,f-1,n)),13===r&&10===c.charCodeAt(f)&&++f,++h,void(p=f);m.comments&&(i=c.slice(e+t,f),n.end={line:h,column:f-p},R("Line",i,e,f,n))}function L(){var t,e,n,r;for(m.comments&&(t=f-2,e={start:{line:h,column:f-p-2}});f<d;)if(S(n=c.charCodeAt(f)))13===n&&10===c.charCodeAt(f+1)&&++f,++h,++f,p=f,f>=d&&Y({},a.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===c.charCodeAt(f+1))return++f,++f,void(m.comments&&(r=c.slice(t+2,f-2),e.end={line:h,column:f-p},R("Block",r,t,f,e)));++f}else++f;Y({},a.UnexpectedToken,"ILLEGAL")}function C(){var t,e;for(e=0===f;f<d;)if(k(t=c.charCodeAt(f)))++f;else if(S(t))++f,13===t&&10===c.charCodeAt(f)&&++f,++h,p=f,e=!0;else if(47===t)if(47===(t=c.charCodeAt(f+1)))++f,++f,B(2),e=!0;else{if(42!==t)break;++f,++f,L()}else if(e&&45===t){if(45!==c.charCodeAt(f+1)||62!==c.charCodeAt(f+2))break;f+=3,B(3)}else{if(60!==t)break;if("!--"!==c.slice(f+1,f+4))break;++f,++f,++f,++f,B(4)}}function D(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e){if(!(f<d&&w(c[f])))return"";r=c[f++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function I(){var t,e;for(t=c.charCodeAt(f++),e=String.fromCharCode(t),92===t&&(117!==c.charCodeAt(f)&&Y({},a.UnexpectedToken,"ILLEGAL"),++f,(t=D("u"))&&"\\"!==t&&E(t.charCodeAt(0))||Y({},a.UnexpectedToken,"ILLEGAL"),e=t);f<d&&P(t=c.charCodeAt(f));)++f,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==c.charCodeAt(f)&&Y({},a.UnexpectedToken,"ILLEGAL"),++f,(t=D("u"))&&"\\"!==t&&P(t.charCodeAt(0))||Y({},a.UnexpectedToken,"ILLEGAL"),e+=t);return e}function O(){var t,n;return t=f,{type:1===(n=92===c.charCodeAt(f)?I():function(){var t,e;for(t=f++;f<d;){if(92===(e=c.charCodeAt(f)))return f=t,I();if(!P(e))break;++f}return c.slice(t,f)}()).length?e.Identifier:function(t){if(l&&T(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}(n)?e.Keyword:"null"===n?e.NullLiteral:"true"===n||"false"===n?e.BooleanLiteral:e.Identifier,value:n,lineNumber:h,lineStart:p,start:t,end:f}}function N(){var t,n,r,i,o=f,s=c.charCodeAt(f),u=c[f];switch(s){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++f,m.tokenize&&(40===s?m.openParenToken=m.tokens.length:123===s&&(m.openCurlyToken=m.tokens.length)),{type:e.Punctuator,value:String.fromCharCode(s),lineNumber:h,lineStart:p,start:o,end:f};default:if(61===(t=c.charCodeAt(f+1)))switch(s){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return f+=2,{type:e.Punctuator,value:String.fromCharCode(s)+String.fromCharCode(t),lineNumber:h,lineStart:p,start:o,end:f};case 33:case 61:return f+=2,61===c.charCodeAt(f)&&++f,{type:e.Punctuator,value:c.slice(o,f),lineNumber:h,lineStart:p,start:o,end:f}}}return">>>="===(i=c.substr(f,4))?{type:e.Punctuator,value:i,lineNumber:h,lineStart:p,start:o,end:f+=4}:">>>"===(r=i.substr(0,3))||"<<="===r||">>="===r?{type:e.Punctuator,value:r,lineNumber:h,lineStart:p,start:o,end:f+=3}:u===(n=r.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===n?{type:e.Punctuator,value:n,lineNumber:h,lineStart:p,start:o,end:f+=2}:"<>=!+-*%&|^/".indexOf(u)>=0?(++f,{type:e.Punctuator,value:u,lineNumber:h,lineStart:p,start:o,end:f}):void Y({},a.UnexpectedToken,"ILLEGAL")}function M(){var t,n,r;if(b(_((r=c[f]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=f,t="","."!==r){if(t=c[f++],r=c[f],"0"===t){if("x"===r||"X"===r)return++f,function(t){for(var n="";f<d&&w(c[f]);)n+=c[f++];return 0===n.length&&Y({},a.UnexpectedToken,"ILLEGAL"),E(c.charCodeAt(f))&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:h,lineStart:p,start:t,end:f}}(n);if(x(r)&&function(){var t,e;for(t=f+1;t<d;++t){if("8"===(e=c[t])||"9"===e)return!1;if(!x(e))return!0}return!0}())return function(t){for(var n="0"+c[f++];f<d&&x(c[f]);)n+=c[f++];return(E(c.charCodeAt(f))||_(c.charCodeAt(f)))&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:h,lineStart:p,start:t,end:f}}(n)}for(;_(c.charCodeAt(f));)t+=c[f++];r=c[f]}if("."===r){for(t+=c[f++];_(c.charCodeAt(f));)t+=c[f++];r=c[f]}if("e"===r||"E"===r)if(t+=c[f++],"+"!==(r=c[f])&&"-"!==r||(t+=c[f++]),_(c.charCodeAt(f)))for(;_(c.charCodeAt(f));)t+=c[f++];else Y({},a.UnexpectedToken,"ILLEGAL");return E(c.charCodeAt(f))&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseFloat(t),lineNumber:h,lineStart:p,start:n,end:f}}function U(){var t,n,r,i;return y=null,C(),t=f,n=function(){var t,e,n,r;for(b("/"===(t=c[f]),"Regular expression literal must start with a slash"),e=c[f++],n=!1,r=!1;f<d;)if(e+=t=c[f++],"\\"===t)S((t=c[f++]).charCodeAt(0))&&Y({},a.UnterminatedRegExp),e+=t;else if(S(t.charCodeAt(0)))Y({},a.UnterminatedRegExp);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||Y({},a.UnterminatedRegExp),{value:e.substr(1,e.length-2),literal:e}}(),r=function(){var t,e,n,r;for(e="",n="";f<d&&P((t=c[f]).charCodeAt(0));)if(++f,"\\"===t&&f<d)if("u"===(t=c[f])){if(r=++f,t=D("u"))for(n+=t,e+="\\u";r<f;++r)e+=c[r];else f=r,n+="u",e+="\\u";q({},a.UnexpectedToken,"ILLEGAL")}else e+="\\",q({},a.UnexpectedToken,"ILLEGAL");else n+=t,e+=t;return{value:n,literal:e}}(),i=function(t,e){var n;try{n=new RegExp(t,e)}catch(t){Y({},a.InvalidRegExp)}return n}(n.value,r.value),m.tokenize?{type:e.RegularExpression,value:i,lineNumber:h,lineStart:p,start:t,end:f}:{literal:n.literal+r.literal,value:i,start:t,end:f}}function j(){var t,e,n,r;return C(),t=f,e={start:{line:h,column:f-p}},n=U(),e.end={line:h,column:f-p},m.tokenize||(m.tokens.length>0&&(r=m.tokens[m.tokens.length-1]).range[0]===t&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||m.tokens.pop()),m.tokens.push({type:"RegularExpression",value:n.literal,range:[t,f],loc:e})),n}function F(){var t;return C(),f>=d?{type:e.EOF,lineNumber:h,lineStart:p,start:f,end:f}:E(t=c.charCodeAt(f))?O():40===t||41===t||59===t?N():39===t||34===t?function(){var t,n,r,i,o,s,u,l,v="",y=!1;for(u=h,l=p,b("'"===(t=c[f])||'"'===t,"String literal must starts with a quote"),n=f,++f;f<d;){if((r=c[f++])===t){t="";break}if("\\"===r)if((r=c[f++])&&S(r.charCodeAt(0)))++h,"\r"===r&&"\n"===c[f]&&++f,p=f;else switch(r){case"u":case"x":s=f,(o=D(r))?v+=o:(f=s,v+=r);break;case"n":v+="\n";break;case"r":v+="\r";break;case"t":v+="\t";break;case"b":v+="\b";break;case"f":v+="\f";break;case"v":v+="\v";break;default:x(r)?(0!==(i="01234567".indexOf(r))&&(y=!0),f<d&&x(c[f])&&(y=!0,i=8*i+"01234567".indexOf(c[f++]),"0123".indexOf(r)>=0&&f<d&&x(c[f])&&(i=8*i+"01234567".indexOf(c[f++]))),v+=String.fromCharCode(i)):v+=r}else{if(S(r.charCodeAt(0)))break;v+=r}}return""!==t&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:e.StringLiteral,value:v,octal:y,startLineNumber:u,startLineStart:l,lineNumber:h,lineStart:p,start:n,end:f}}():46===t?_(c.charCodeAt(f+1))?M():N():_(t)?M():m.tokenize&&47===t?function(){var t,e;if(!(t=m.tokens[m.tokens.length-1]))return j();if("Punctuator"===t.type){if("]"===t.value)return N();if(")"===t.value)return!(e=m.tokens[m.openParenToken-1])||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?N():j();if("}"===t.value){if(m.tokens[m.openCurlyToken-3]&&"Keyword"===m.tokens[m.openCurlyToken-3].type){if(!(e=m.tokens[m.openCurlyToken-4]))return N()}else{if(!m.tokens[m.openCurlyToken-4]||"Keyword"!==m.tokens[m.openCurlyToken-4].type)return N();if(!(e=m.tokens[m.openCurlyToken-5]))return j()}return r.indexOf(e.value)>=0?N():j()}return j()}return"Keyword"===t.type&&"this"!==t.value?j():N()}():N()}function V(){var t,r,i;return C(),t={start:{line:h,column:f-p}},r=F(),t.end={line:h,column:f-p},r.type!==e.EOF&&(i=c.slice(r.start,r.end),m.tokens.push({type:n[r.type],value:i,range:[r.start,r.end],loc:t})),r}function H(){var t;return f=(t=y).end,h=t.lineNumber,p=t.lineStart,y=void 0!==m.tokens?V():F(),f=t.end,h=t.lineNumber,p=t.lineStart,t}function W(){var t,e,n;t=f,e=h,n=p,y=void 0!==m.tokens?V():F(),f=t,h=e,p=n}function z(t,e){this.line=t,this.column=e}function $(t,e,n,r){this.start=new z(t,e),this.end=new z(n,r)}function G(){var t,e,n,r;return t=f,e=h,n=p,C(),r=h!==e,f=t,h=e,p=n,r}function Y(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,(function(t,e){return b(e<r.length,"Message reference must be in range"),r[e]}));throw"number"==typeof t.lineNumber?((n=new Error("Line "+t.lineNumber+": "+i)).index=t.start,n.lineNumber=t.lineNumber,n.column=t.start-p+1):((n=new Error("Line "+h+": "+i)).index=f,n.lineNumber=h,n.column=f-p+1),n.description=i,n}function q(){try{Y.apply(null,arguments)}catch(t){if(!m.errors)throw t;m.errors.push(t)}}function X(t){if(t.type===e.EOF&&Y(t,a.UnexpectedEOS),t.type===e.NumericLiteral&&Y(t,a.UnexpectedNumber),t.type===e.StringLiteral&&Y(t,a.UnexpectedString),t.type===e.Identifier&&Y(t,a.UnexpectedIdentifier),t.type===e.Keyword){if(function(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(t.value))Y(t,a.UnexpectedReserved);else if(l&&T(t.value))return void q(t,a.StrictReservedWord);Y(t,a.UnexpectedToken,t.value)}Y(t,a.UnexpectedToken,t.value)}function K(t){var n=H();n.type===e.Punctuator&&n.value===t||X(n)}function J(t){var n=H();n.type===e.Keyword&&n.value===t||X(n)}function Q(t){return y.type===e.Punctuator&&y.value===t}function Z(t){return y.type===e.Keyword&&y.value===t}function tt(){var t,n=f,r=h,i=p,o=y;if(59===c.charCodeAt(f)||Q(";"))H();else{if(t=h,C(),h!==t)return f=n,h=r,p=i,void(y=o);y.type===e.EOF||Q("}")||X(y)}}function et(t){return t.type===i.Identifier||t.type===i.MemberExpression}function nt(t,e){var n,r,i;return n=l,i=y,r=Et(),e&&l&&A(t[0].name)&&q(e,a.StrictParamName),l=n,v.markEnd(v.createFunctionExpression(null,t,[],r),i)}function rt(){var t,n;return n=y,(t=H()).type===e.StringLiteral||t.type===e.NumericLiteral?(l&&t.octal&&q(t,a.StrictOctalLiteral),v.markEnd(v.createLiteral(t),n)):v.markEnd(v.createIdentifier(t.value),n)}function it(){var t,n,r,i,o,s;return s=y,(t=y).type===e.Identifier?(r=rt(),"get"!==t.value||Q(":")?"set"!==t.value||Q(":")?(K(":"),i=vt(),v.markEnd(v.createProperty("init",r,i),s)):(n=rt(),K("("),(t=y).type!==e.Identifier?(K(")"),q(t,a.UnexpectedToken,t.value),i=nt([])):(o=[mt()],K(")"),i=nt(o,t)),v.markEnd(v.createProperty("set",n,i),s)):(n=rt(),K("("),K(")"),i=nt([]),v.markEnd(v.createProperty("get",n,i),s))):t.type!==e.EOF&&t.type!==e.Punctuator?(n=rt(),K(":"),i=vt(),v.markEnd(v.createProperty("init",n,i),s)):void X(t)}function ot(){var t,n,r,s;if(Q("("))return function(){var t;return K("("),t=yt(),K(")"),t}();if(Q("["))return function(){var t,e=[];for(t=y,K("[");!Q("]");)Q(",")?(H(),e.push(null)):(e.push(vt()),Q("]")||K(","));return H(),v.markEnd(v.createArrayExpression(e),t)}();if(Q("{"))return function(){var t,e,n,r,s,u=[],c={},f=String;for(s=y,K("{");!Q("}");)e=(t=it()).key.type===i.Identifier?t.key.name:f(t.key.value),r="init"===t.kind?o.Data:"get"===t.kind?o.Get:o.Set,n="$"+e,Object.prototype.hasOwnProperty.call(c,n)?(c[n]===o.Data?l&&r===o.Data?q({},a.StrictDuplicateProperty):r!==o.Data&&q({},a.AccessorDataProperty):r===o.Data?q({},a.AccessorDataProperty):c[n]&r&&q({},a.AccessorGetSet),c[n]|=r):c[n]=r,u.push(t),Q("}")||K(",");return K("}"),v.markEnd(v.createObjectExpression(u),s)}();if(t=y.type,s=y,t===e.Identifier)r=v.createIdentifier(H().value);else if(t===e.StringLiteral||t===e.NumericLiteral)l&&y.octal&&q(y,a.StrictOctalLiteral),r=v.createLiteral(H());else if(t===e.Keyword){if(Z("function"))return function(){var t,e,n,r,i,o,s,u,c,f=null;c=y,J("function"),Q("(")||(t=y,f=mt(),l?A(t.value)&&q(t,a.StrictFunctionName):A(t.value)?(n=t,r=a.StrictFunctionName):T(t.value)&&(n=t,r=a.StrictReservedWord));i=Pt(n),o=i.params,e=i.stricted,n=i.firstRestricted,i.message&&(r=i.message);u=l,s=Et(),l&&n&&Y(n,r);l&&e&&q(e,r);return l=u,v.markEnd(v.createFunctionExpression(f,o,[],s),c)}();Z("this")?(H(),r=v.createThisExpression()):X(H())}else t===e.BooleanLiteral?((n=H()).value="true"===n.value,r=v.createLiteral(n)):t===e.NullLiteral?((n=H()).value=null,r=v.createLiteral(n)):Q("/")||Q("/=")?(r=void 0!==m.tokens?v.createLiteral(j()):v.createLiteral(U()),W()):X(H());return v.markEnd(r,s)}function at(){var t=[];if(K("("),!Q(")"))for(;f<d&&(t.push(vt()),!Q(")"));)K(",");return K(")"),t}function st(){var t,n;return n=y,function(t){return t.type===e.Identifier||t.type===e.Keyword||t.type===e.BooleanLiteral||t.type===e.NullLiteral}(t=H())||X(t),v.markEnd(v.createIdentifier(t.value),n)}function ut(){return K("."),st()}function ct(){var t;return K("["),t=yt(),K("]"),t}function lt(){var t,e,n;return n=y,J("new"),t=function(){var t,e,n;b(g.allowIn,"callee of new expression always allow in keyword."),n=y,t=Z("new")?lt():ot();for(;Q(".")||Q("[");)Q("[")?(e=ct(),t=v.createMemberExpression("[",t,e)):(e=ut(),t=v.createMemberExpression(".",t,e)),v.markEnd(t,n);return t}(),e=Q("(")?at():[],v.markEnd(v.createNewExpression(t,e),n)}function ft(){var t,n,r=y;return t=function(){var t,e,n,r,i=g.allowIn;for(r=y,g.allowIn=!0,t=Z("new")?lt():ot();;){if(Q("."))n=ut(),t=v.createMemberExpression(".",t,n);else if(Q("("))e=at(),t=v.createCallExpression(t,e);else{if(!Q("["))break;n=ct(),t=v.createMemberExpression("[",t,n)}v.markEnd(t,r)}return g.allowIn=i,t}(),y.type===e.Punctuator&&(!Q("++")&&!Q("--")||G()||(l&&t.type===i.Identifier&&A(t.name)&&q({},a.StrictLHSPostfix),et(t)||q({},a.InvalidLHSInAssignment),n=H(),t=v.markEnd(v.createPostfixExpression(n.value,t),r))),t}function ht(){var t,n,r;return y.type!==e.Punctuator&&y.type!==e.Keyword?n=ft():Q("++")||Q("--")?(r=y,t=H(),n=ht(),l&&n.type===i.Identifier&&A(n.name)&&q({},a.StrictLHSPrefix),et(n)||q({},a.InvalidLHSInAssignment),n=v.createUnaryExpression(t.value,n),n=v.markEnd(n,r)):Q("+")||Q("-")||Q("~")||Q("!")?(r=y,t=H(),n=ht(),n=v.createUnaryExpression(t.value,n),n=v.markEnd(n,r)):Z("delete")||Z("void")||Z("typeof")?(r=y,t=H(),n=ht(),n=v.createUnaryExpression(t.value,n),n=v.markEnd(n,r),l&&"delete"===n.operator&&n.argument.type===i.Identifier&&q({},a.StrictDelete)):n=ft(),n}function pt(t,n){var r=0;if(t.type!==e.Punctuator&&t.type!==e.Keyword)return 0;switch(t.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function dt(){var t,e,n,r,i;return i=y,t=function(){var t,e,n,r,i,o,a,s,u,c;if(t=y,u=ht(),0===(i=pt(r=y,g.allowIn)))return u;for(r.prec=i,H(),e=[t,y],o=[u,r,a=ht()];(i=pt(y,g.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),n=v.createBinaryExpression(s,u,a),e.pop(),t=e[e.length-1],v.markEnd(n,t),o.push(n);(r=H()).prec=i,o.push(r),e.push(y),n=ht(),o.push(n)}for(n=o[c=o.length-1],e.pop();c>1;)n=v.createBinaryExpression(o[c-1].value,o[c-2],n),c-=2,t=e.pop(),v.markEnd(n,t);return n}(),Q("?")&&(H(),e=g.allowIn,g.allowIn=!0,n=vt(),g.allowIn=e,K(":"),r=vt(),t=v.createConditionalExpression(t,n,r),v.markEnd(t,i)),t}function vt(){var t,n,r,o,s,u;return t=y,s=y,o=n=dt(),y.type!==e.Punctuator||"="!==(u=y.value)&&"*="!==u&&"/="!==u&&"%="!==u&&"+="!==u&&"-="!==u&&"<<="!==u&&">>="!==u&&">>>="!==u&&"&="!==u&&"^="!==u&&"|="!==u||(et(n)||q({},a.InvalidLHSInAssignment),l&&n.type===i.Identifier&&A(n.name)&&q(t,a.StrictLHSAssignment),t=H(),r=vt(),o=v.markEnd(v.createAssignmentExpression(t.value,n,r),s)),o}function yt(){var t,e=y;if(t=vt(),Q(",")){for(t=v.createSequenceExpression([t]);f<d&&Q(",");)H(),t.expressions.push(vt());v.markEnd(t,e)}return t}function gt(){var t,e;return e=y,K("{"),t=function(){for(var t,e=[];f<d&&!Q("}")&&void 0!==(t=At());)e.push(t);return e}(),K("}"),v.markEnd(v.createBlockStatement(t),e)}function mt(){var t,n;return n=y,(t=H()).type!==e.Identifier&&X(t),v.markEnd(v.createIdentifier(t.value),n)}function bt(t){var e,n,r=null;return n=y,e=mt(),l&&A(e.name)&&q({},a.StrictVarName),"const"===t?(K("="),r=vt()):Q("=")&&(H(),r=vt()),v.markEnd(v.createVariableDeclarator(e,r),n)}function _t(t){var e=[];do{if(e.push(bt(t)),!Q(","))break;H()}while(f<d);return e}function wt(){var t,e,n,r,i,o,s,u,c,l,f=g.allowIn;return t=e=n=null,J("for"),K("("),Q(";")?H():(Z("var")||Z("let")?(g.allowIn=!1,l=y,u=H(),c=_t(),t=v.markEnd(v.createVariableDeclaration(c,u.value),l),g.allowIn=f,1===t.declarations.length&&Z("in")&&(H(),r=t,i=yt(),t=null)):(g.allowIn=!1,t=yt(),g.allowIn=f,Z("in")&&(et(t)||q({},a.InvalidLHSInForIn),H(),r=t,i=yt(),t=null)),void 0===r&&K(";")),void 0===r&&(Q(";")||(e=yt()),K(";"),Q(")")||(n=yt())),K(")"),s=g.inIteration,g.inIteration=!0,o=St(),g.inIteration=s,void 0===r?v.createForStatement(t,e,n,o):v.createForInStatement(r,i,o)}function xt(){var t,e,n,r=[];for(n=y,Z("default")?(H(),t=null):(J("case"),t=yt()),K(":");f<d&&!(Q("}")||Z("default")||Z("case"));)e=St(),r.push(e);return v.markEnd(v.createSwitchCase(t,r),n)}function kt(){var t,e,n,r,i=[],o=null;return J("try"),t=gt(),Z("catch")&&i.push((r=y,J("catch"),K("("),Q(")")&&X(y),e=mt(),l&&A(e.name)&&q({},a.StrictCatchVariable),K(")"),n=gt(),v.markEnd(v.createCatchClause(e,n),r))),Z("finally")&&(H(),o=gt()),0!==i.length||o||Y({},a.NoCatchOrFinally),v.createTryStatement(t,[],i,o)}function St(){var t,n,r,o,s,u,h,p,m,b=y.type;if(b===e.EOF&&X(y),b===e.Punctuator&&"{"===y.value)return gt();if(o=y,b===e.Punctuator)switch(y.value){case";":return v.markEnd((K(";"),v.createEmptyStatement()),o);case"(":return v.markEnd(function(){var t=yt();return tt(),v.createExpressionStatement(t)}(),o)}if(b===e.Keyword)switch(y.value){case"break":return v.markEnd(function(){var t,n=null;return J("break"),59===c.charCodeAt(f)?(H(),g.inIteration||g.inSwitch||Y({},a.IllegalBreak),v.createBreakStatement(null)):G()?(g.inIteration||g.inSwitch||Y({},a.IllegalBreak),v.createBreakStatement(null)):(y.type===e.Identifier&&(t="$"+(n=mt()).name,Object.prototype.hasOwnProperty.call(g.labelSet,t)||Y({},a.UnknownLabel,n.name)),tt(),null!==n||g.inIteration||g.inSwitch||Y({},a.IllegalBreak),v.createBreakStatement(n))}(),o);case"continue":return v.markEnd(function(){var t,n=null;return J("continue"),59===c.charCodeAt(f)?(H(),g.inIteration||Y({},a.IllegalContinue),v.createContinueStatement(null)):G()?(g.inIteration||Y({},a.IllegalContinue),v.createContinueStatement(null)):(y.type===e.Identifier&&(t="$"+(n=mt()).name,Object.prototype.hasOwnProperty.call(g.labelSet,t)||Y({},a.UnknownLabel,n.name)),tt(),null!==n||g.inIteration||Y({},a.IllegalContinue),v.createContinueStatement(n))}(),o);case"debugger":return v.markEnd((J("debugger"),tt(),v.createDebuggerStatement()),o);case"do":return v.markEnd((J("do"),m=g.inIteration,g.inIteration=!0,h=St(),g.inIteration=m,J("while"),K("("),p=yt(),K(")"),Q(";")&&H(),v.createDoWhileStatement(h,p)),o);case"for":return v.markEnd(wt(),o);case"function":return v.markEnd(Tt(),o);case"if":return v.markEnd(function(){var t,e,n;return J("if"),K("("),t=yt(),K(")"),e=St(),Z("else")?(H(),n=St()):n=null,v.createIfStatement(t,e,n)}(),o);case"return":return v.markEnd((u=null,J("return"),g.inFunctionBody||q({},a.IllegalReturn),32===c.charCodeAt(f)&&E(c.charCodeAt(f+1))?(u=yt(),tt(),v.createReturnStatement(u)):G()?v.createReturnStatement(null):(Q(";")||Q("}")||y.type===e.EOF||(u=yt()),tt(),v.createReturnStatement(u))),o);case"switch":return v.markEnd(function(){var t,e,n,r,i;if(J("switch"),K("("),t=yt(),K(")"),K("{"),e=[],Q("}"))return H(),v.createSwitchStatement(t,e);for(r=g.inSwitch,g.inSwitch=!0,i=!1;f<d&&!Q("}");)null===(n=xt()).test&&(i&&Y({},a.MultipleDefaultsInSwitch),i=!0),e.push(n);return g.inSwitch=r,K("}"),v.createSwitchStatement(t,e)}(),o);case"throw":return v.markEnd(function(){var t;return J("throw"),G()&&Y({},a.NewlineAfterThrow),t=yt(),tt(),v.createThrowStatement(t)}(),o);case"try":return v.markEnd(kt(),o);case"var":return v.markEnd((J("var"),s=_t(),tt(),v.createVariableDeclaration(s,"var")),o);case"while":return v.markEnd(function(){var t,e,n;return J("while"),K("("),t=yt(),K(")"),n=g.inIteration,g.inIteration=!0,e=St(),g.inIteration=n,v.createWhileStatement(t,e)}(),o);case"with":return v.markEnd(function(){var t,e;return l&&(C(),q({},a.StrictModeWith)),J("with"),K("("),t=yt(),K(")"),e=St(),v.createWithStatement(t,e)}(),o)}return(t=yt()).type===i.Identifier&&Q(":")?(H(),r="$"+t.name,Object.prototype.hasOwnProperty.call(g.labelSet,r)&&Y({},a.Redeclaration,"Label",t.name),g.labelSet[r]=!0,n=St(),delete g.labelSet[r],v.markEnd(v.createLabeledStatement(t,n),o)):(tt(),v.markEnd(v.createExpressionStatement(t),o))}function Et(){var t,n,r,o,s,u,h,p,m=[];for(p=y,K("{");f<d&&y.type===e.StringLiteral&&(n=y,t=At(),m.push(t),t.expression.type===i.Literal);)"use strict"===c.slice(n.start+1,n.end-1)?(l=!0,r&&q(r,a.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(o=g.labelSet,s=g.inIteration,u=g.inSwitch,h=g.inFunctionBody,g.labelSet={},g.inIteration=!1,g.inSwitch=!1,g.inFunctionBody=!0;f<d&&!Q("}")&&void 0!==(t=At());)m.push(t);return K("}"),g.labelSet=o,g.inIteration=s,g.inSwitch=u,g.inFunctionBody=h,v.markEnd(v.createBlockStatement(m),p)}function Pt(t){var e,n,r,i,o,s,u=[];if(K("("),!Q(")"))for(i={};f<d&&(n=y,e=mt(),o="$"+n.value,l?(A(n.value)&&(r=n,s=a.StrictParamName),Object.prototype.hasOwnProperty.call(i,o)&&(r=n,s=a.StrictParamDupe)):t||(A(n.value)?(t=n,s=a.StrictParamName):T(n.value)?(t=n,s=a.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,o)&&(t=n,s=a.StrictParamDupe)),u.push(e),i[o]=!0,!Q(")"));)K(",");return K(")"),{params:u,stricted:r,firstRestricted:t,message:s}}function Tt(){var t,e,n,r,i,o,s,u,c,f;return f=y,J("function"),r=y,t=mt(),l?A(r.value)&&q(r,a.StrictFunctionName):A(r.value)?(s=r,u=a.StrictFunctionName):T(r.value)&&(s=r,u=a.StrictReservedWord),e=(o=Pt(s)).params,i=o.stricted,s=o.firstRestricted,o.message&&(u=o.message),c=l,n=Et(),l&&s&&Y(s,u),l&&i&&q(i,u),l=c,v.markEnd(v.createFunctionDeclaration(t,e,[],n),f)}function At(){if(y.type===e.Keyword)switch(y.value){case"const":case"let":return t=y.value,r=y,J(t),n=_t(t),tt(),v.markEnd(v.createVariableDeclaration(n,t),r);case"function":return Tt();default:return St()}var t,n,r;if(y.type!==e.EOF)return St()}function Rt(){var t,n;return C(),W(),n=y,l=!1,t=function(){for(var t,n,r,o=[];f<d&&(n=y).type===e.StringLiteral&&(t=At(),o.push(t),t.expression.type===i.Literal);)"use strict"===c.slice(n.start+1,n.end-1)?(l=!0,r&&q(r,a.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(;f<d&&void 0!==(t=At());)o.push(t);return o}(),v.markEnd(v.createProgram(t),n)}function Bt(){var t,e,n,r=[];for(t=0;t<m.tokens.length;++t)n={type:(e=m.tokens[t]).type,value:e.value},m.range&&(n.range=e.range),m.loc&&(n.loc=e.loc),r.push(n);m.tokens=r}(n={})[(e={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",n[e.EOF]="<end>",n[e.Identifier]="Identifier",n[e.Keyword]="Keyword",n[e.NullLiteral]="Null",n[e.NumericLiteral]="Numeric",n[e.Punctuator]="Punctuator",n[e.StringLiteral]="String",n[e.RegularExpression]="RegularExpression",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},a={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},s={NonAsciiIdentifierStart:new RegExp("[¬™¬µ¬∫√Ä-√ñ√ò-√∂√∏-ÀÅÀÜ-ÀëÀ†-À§À¨ÀÆÕ∞-Õ¥Õ∂Õ∑Õ∫-ÕΩŒÜŒà-ŒäŒåŒé-Œ°Œ£-œµœ∑-“Å“ä-‘ß‘±-’ñ’ô’°-÷á◊ê-◊™◊∞-◊≤ÿ†-ŸäŸÆŸØŸ±-€ì€ï€•€¶€Æ€Ø€∫-€º€ø‹ê‹í-‹Ø›ç-ﬁ•ﬁ±ﬂä-ﬂ™ﬂ¥ﬂµﬂ∫‡†Ä-‡†ï‡†ö‡†§‡†®‡°Ä-‡°ò‡¢†‡¢¢-‡¢¨‡§Ñ-‡§π‡§Ω‡•ê‡•ò-‡•°‡•±-‡•∑‡•π-‡•ø‡¶Ö-‡¶å‡¶è‡¶ê‡¶ì-‡¶®‡¶™-‡¶∞‡¶≤‡¶∂-‡¶π‡¶Ω‡ßé‡ßú‡ßù‡ßü-‡ß°‡ß∞‡ß±‡®Ö-‡®ä‡®è‡®ê‡®ì-‡®®‡®™-‡®∞‡®≤‡®≥‡®µ‡®∂‡®∏‡®π‡©ô-‡©ú‡©û‡©≤-‡©¥‡™Ö-‡™ç‡™è-‡™ë‡™ì-‡™®‡™™-‡™∞‡™≤‡™≥‡™µ-‡™π‡™Ω‡´ê‡´†‡´°‡¨Ö-‡¨å‡¨è‡¨ê‡¨ì-‡¨®‡¨™-‡¨∞‡¨≤‡¨≥‡¨µ-‡¨π‡¨Ω‡≠ú‡≠ù‡≠ü-‡≠°‡≠±‡ÆÉ‡ÆÖ-‡Æä‡Æé-‡Æê‡Æí-‡Æï‡Æô‡Æö‡Æú‡Æû‡Æü‡Æ£‡Æ§‡Æ®-‡Æ™‡ÆÆ-‡Æπ‡Øê‡∞Ö-‡∞å‡∞é-‡∞ê‡∞í-‡∞®‡∞™-‡∞≥‡∞µ-‡∞π‡∞Ω‡±ò‡±ô‡±†‡±°‡≤Ö-‡≤å‡≤é-‡≤ê‡≤í-‡≤®‡≤™-‡≤≥‡≤µ-‡≤π‡≤Ω‡≥û‡≥†‡≥°‡≥±‡≥≤‡¥Ö-‡¥å‡¥é-‡¥ê‡¥í-‡¥∫‡¥Ω‡µé‡µ†‡µ°‡µ∫-‡µø‡∂Ö-‡∂ñ‡∂ö-‡∂±‡∂≥-‡∂ª‡∂Ω‡∑Ä-‡∑Ü‡∏Å-‡∏∞‡∏≤‡∏≥‡πÄ-‡πÜ‡∫Å‡∫Ç‡∫Ñ‡∫á‡∫à‡∫ä‡∫ç‡∫î-‡∫ó‡∫ô-‡∫ü‡∫°-‡∫£‡∫•‡∫ß‡∫™‡∫´‡∫≠-‡∫∞‡∫≤‡∫≥‡∫Ω‡ªÄ-‡ªÑ‡ªÜ‡ªú-‡ªü‡ºÄ‡ΩÄ-‡Ωá‡Ωâ-‡Ω¨‡æà-‡æå·ÄÄ-·Ä™·Äø·Åê-·Åï·Åö-·Åù·Å°·Å•·Å¶·ÅÆ-·Å∞·Åµ-·ÇÅ·Çé·Ç†-·ÉÖ·Éá·Éç·Éê-·É∫·Éº-·âà·âä-·âç·âê-·âñ·âò·âö-·âù·â†-·äà·ää-·äç·äê-·ä∞·ä≤-·äµ·ä∏-·äæ·ãÄ·ãÇ-·ãÖ·ãà-·ãñ·ãò-·åê·åí-·åï·åò-·çö·éÄ-·éè·é†-·è¥·êÅ-·ô¨·ôØ-·ôø·öÅ-·öö·ö†-·õ™·õÆ-·õ∞·úÄ-·úå·úé-·úë·ú†-·ú±·ùÄ-·ùë·ù†-·ù¨·ùÆ-·ù∞·ûÄ-·û≥·üó·üú·††-·°∑·¢Ä-·¢®·¢™·¢∞-·£µ·§Ä-·§ú·•ê-·•≠·•∞-·•¥·¶Ä-·¶´·ßÅ-·ßá·®Ä-·®ñ·®†-·©î·™ß·¨Ö-·¨≥·≠Ö-·≠ã·ÆÉ-·Æ†·ÆÆ·ÆØ·Æ∫-·Ø•·∞Ä-·∞£·±ç-·±è·±ö-·±Ω·≥©-·≥¨·≥Æ-·≥±·≥µ·≥∂·¥Ä-·∂ø·∏Ä-·ºï·ºò-·ºù·º†-·ΩÖ·Ωà-·Ωç·Ωê-·Ωó·Ωô·Ωõ·Ωù·Ωü-·ΩΩ·æÄ-·æ¥·æ∂-·æº·ææ·øÇ-·øÑ·øÜ-·øå·øê-·øì·øñ-·øõ·ø†-·ø¨·ø≤-·ø¥·ø∂-·øº‚Å±‚Åø‚Çê-‚Çú‚ÑÇ‚Ñá‚Ñä-‚Ñì‚Ñï‚Ñô-‚Ñù‚Ñ§‚Ñ¶‚Ñ®‚Ñ™-‚Ñ≠‚ÑØ-‚Ñπ‚Ñº-‚Ñø‚ÖÖ-‚Öâ‚Öé‚Ö†-‚Üà‚∞Ä-‚∞Æ‚∞∞-‚±û‚±†-‚≥§‚≥´-‚≥Æ‚≥≤‚≥≥‚¥Ä-‚¥•‚¥ß‚¥≠‚¥∞-‚µß‚µØ‚∂Ä-‚∂ñ‚∂†-‚∂¶‚∂®-‚∂Æ‚∂∞-‚∂∂‚∂∏-‚∂æ‚∑Ä-‚∑Ü‚∑à-‚∑é‚∑ê-‚∑ñ‚∑ò-‚∑û‚∏Ø„ÄÖ-„Äá„Ä°-„Ä©„Ä±-„Äµ„Ä∏-„Äº„ÅÅ-„Çñ„Çù-„Çü„Ç°-„É∫„Éº-„Éø„ÑÖ-„Ñ≠„Ñ±-„Üé„Ü†-„Ü∫„á∞-„áø„êÄ-‰∂µ‰∏Ä-ÈøåÍÄÄ-ÍíåÍìê-ÍìΩÍîÄ-ÍòåÍòê-ÍòüÍò™Íò´ÍôÄ-ÍôÆÍôø-ÍöóÍö†-ÍõØÍúó-ÍúüÍú¢-ÍûàÍûã-ÍûéÍûê-ÍûìÍû†-Íû™Íü∏-Í†ÅÍ†É-Í†ÖÍ†á-Í†äÍ†å-Í†¢Í°Ä-Í°≥Í¢Ç-Í¢≥Í£≤-Í£∑Í£ªÍ§ä-Í§•Í§∞-Í•ÜÍ•†-Í•ºÍ¶Ñ-Í¶≤ÍßèÍ®Ä-Í®®Í©Ä-Í©ÇÍ©Ñ-Í©ãÍ©†-Í©∂Í©∫Í™Ä-Í™ØÍ™±Í™µÍ™∂Í™π-Í™ΩÍ´ÄÍ´ÇÍ´õ-Í´ùÍ´†-Í´™Í´≤-Í´¥Í¨Å-Í¨ÜÍ¨â-Í¨éÍ¨ë-Í¨ñÍ¨†-Í¨¶Í¨®-Í¨ÆÍØÄ-ÍØ¢Í∞Ä-Ìû£Ìû∞-ÌüÜÌüã-ÌüªÔ§Ä-Ô©≠Ô©∞-Ô´ôÔ¨Ä-Ô¨ÜÔ¨ì-Ô¨óÔ¨ùÔ¨ü-Ô¨®Ô¨™-Ô¨∂Ô¨∏-Ô¨ºÔ¨æÔ≠ÄÔ≠ÅÔ≠ÉÔ≠ÑÔ≠Ü-ÔÆ±ÔØì-Ô¥ΩÔµê-Ô∂èÔ∂í-Ô∑áÔ∑∞-Ô∑ªÔπ∞-Ôπ¥Ôπ∂-ÔªºÔº°-Ôº∫ÔΩÅ-ÔΩöÔΩ¶-ÔææÔøÇ-ÔøáÔøä-ÔøèÔøí-ÔøóÔøö-Ôøú]"),NonAsciiIdentifierPart:new RegExp("[¬™¬µ¬∫√Ä-√ñ√ò-√∂√∏-ÀÅÀÜ-ÀëÀ†-À§À¨ÀÆÃÄ-Õ¥Õ∂Õ∑Õ∫-ÕΩŒÜŒà-ŒäŒåŒé-Œ°Œ£-œµœ∑-“Å“É-“á“ä-‘ß‘±-’ñ’ô’°-÷á÷ë-÷Ω÷ø◊Å◊Ç◊Ñ◊Ö◊á◊ê-◊™◊∞-◊≤ÿê-ÿöÿ†-Ÿ©ŸÆ-€ì€ï-€ú€ü-€®€™-€º€ø‹ê-›ä›ç-ﬁ±ﬂÄ-ﬂµﬂ∫‡†Ä-‡†≠‡°Ä-‡°õ‡¢†‡¢¢-‡¢¨‡£§-‡£æ‡§Ä-‡•£‡•¶-‡•Ø‡•±-‡•∑‡•π-‡•ø‡¶Å-‡¶É‡¶Ö-‡¶å‡¶è‡¶ê‡¶ì-‡¶®‡¶™-‡¶∞‡¶≤‡¶∂-‡¶π‡¶º-‡ßÑ‡ßá‡ßà‡ßã-‡ßé‡ßó‡ßú‡ßù‡ßü-‡ß£‡ß¶-‡ß±‡®Å-‡®É‡®Ö-‡®ä‡®è‡®ê‡®ì-‡®®‡®™-‡®∞‡®≤‡®≥‡®µ‡®∂‡®∏‡®π‡®º‡®æ-‡©Ç‡©á‡©à‡©ã-‡©ç‡©ë‡©ô-‡©ú‡©û‡©¶-‡©µ‡™Å-‡™É‡™Ö-‡™ç‡™è-‡™ë‡™ì-‡™®‡™™-‡™∞‡™≤‡™≥‡™µ-‡™π‡™º-‡´Ö‡´á-‡´â‡´ã-‡´ç‡´ê‡´†-‡´£‡´¶-‡´Ø‡¨Å-‡¨É‡¨Ö-‡¨å‡¨è‡¨ê‡¨ì-‡¨®‡¨™-‡¨∞‡¨≤‡¨≥‡¨µ-‡¨π‡¨º-‡≠Ñ‡≠á‡≠à‡≠ã-‡≠ç‡≠ñ‡≠ó‡≠ú‡≠ù‡≠ü-‡≠£‡≠¶-‡≠Ø‡≠±‡ÆÇ‡ÆÉ‡ÆÖ-‡Æä‡Æé-‡Æê‡Æí-‡Æï‡Æô‡Æö‡Æú‡Æû‡Æü‡Æ£‡Æ§‡Æ®-‡Æ™‡ÆÆ-‡Æπ‡Ææ-‡ØÇ‡ØÜ-‡Øà‡Øä-‡Øç‡Øê‡Øó‡Ø¶-‡ØØ‡∞Å-‡∞É‡∞Ö-‡∞å‡∞é-‡∞ê‡∞í-‡∞®‡∞™-‡∞≥‡∞µ-‡∞π‡∞Ω-‡±Ñ‡±Ü-‡±à‡±ä-‡±ç‡±ï‡±ñ‡±ò‡±ô‡±†-‡±£‡±¶-‡±Ø‡≤Ç‡≤É‡≤Ö-‡≤å‡≤é-‡≤ê‡≤í-‡≤®‡≤™-‡≤≥‡≤µ-‡≤π‡≤º-‡≥Ñ‡≥Ü-‡≥à‡≥ä-‡≥ç‡≥ï‡≥ñ‡≥û‡≥†-‡≥£‡≥¶-‡≥Ø‡≥±‡≥≤‡¥Ç‡¥É‡¥Ö-‡¥å‡¥é-‡¥ê‡¥í-‡¥∫‡¥Ω-‡µÑ‡µÜ-‡µà‡µä-‡µé‡µó‡µ†-‡µ£‡µ¶-‡µØ‡µ∫-‡µø‡∂Ç‡∂É‡∂Ö-‡∂ñ‡∂ö-‡∂±‡∂≥-‡∂ª‡∂Ω‡∑Ä-‡∑Ü‡∑ä‡∑è-‡∑î‡∑ñ‡∑ò-‡∑ü‡∑≤‡∑≥‡∏Å-‡∏∫‡πÄ-‡πé‡πê-‡πô‡∫Å‡∫Ç‡∫Ñ‡∫á‡∫à‡∫ä‡∫ç‡∫î-‡∫ó‡∫ô-‡∫ü‡∫°-‡∫£‡∫•‡∫ß‡∫™‡∫´‡∫≠-‡∫π‡∫ª-‡∫Ω‡ªÄ-‡ªÑ‡ªÜ‡ªà-‡ªç‡ªê-‡ªô‡ªú-‡ªü‡ºÄ‡ºò‡ºô‡º†-‡º©‡ºµ‡º∑‡ºπ‡ºæ-‡Ωá‡Ωâ-‡Ω¨‡Ω±-‡æÑ‡æÜ-‡æó‡æô-‡æº‡øÜ·ÄÄ-·Åâ·Åê-·Çù·Ç†-·ÉÖ·Éá·Éç·Éê-·É∫·Éº-·âà·âä-·âç·âê-·âñ·âò·âö-·âù·â†-·äà·ää-·äç·äê-·ä∞·ä≤-·äµ·ä∏-·äæ·ãÄ·ãÇ-·ãÖ·ãà-·ãñ·ãò-·åê·åí-·åï·åò-·çö·çù-·çü·éÄ-·éè·é†-·è¥·êÅ-·ô¨·ôØ-·ôø·öÅ-·öö·ö†-·õ™·õÆ-·õ∞·úÄ-·úå·úé-·úî·ú†-·ú¥·ùÄ-·ùì·ù†-·ù¨·ùÆ-·ù∞·ù≤·ù≥·ûÄ-·üì·üó·üú·üù·ü†-·ü©·†ã-·†ç·†ê-·†ô·††-·°∑·¢Ä-·¢™·¢∞-·£µ·§Ä-·§ú·§†-·§´·§∞-·§ª·•Ü-·•≠·•∞-·•¥·¶Ä-·¶´·¶∞-·ßâ·ßê-·ßô·®Ä-·®õ·®†-·©û·©†-·©º·©ø-·™â·™ê-·™ô·™ß·¨Ä-·≠ã·≠ê-·≠ô·≠´-·≠≥·ÆÄ-·Ø≥·∞Ä-·∞∑·±Ä-·±â·±ç-·±Ω·≥ê-·≥í·≥î-·≥∂·¥Ä-·∑¶·∑º-·ºï·ºò-·ºù·º†-·ΩÖ·Ωà-·Ωç·Ωê-·Ωó·Ωô·Ωõ·Ωù·Ωü-·ΩΩ·æÄ-·æ¥·æ∂-·æº·ææ·øÇ-·øÑ·øÜ-·øå·øê-·øì·øñ-·øõ·ø†-·ø¨·ø≤-·ø¥·ø∂-·øº‚Äå‚Äç‚Äø‚ÅÄ‚Åî‚Å±‚Åø‚Çê-‚Çú‚Éê-‚Éú‚É°‚É•-‚É∞‚ÑÇ‚Ñá‚Ñä-‚Ñì‚Ñï‚Ñô-‚Ñù‚Ñ§‚Ñ¶‚Ñ®‚Ñ™-‚Ñ≠‚ÑØ-‚Ñπ‚Ñº-‚Ñø‚ÖÖ-‚Öâ‚Öé‚Ö†-‚Üà‚∞Ä-‚∞Æ‚∞∞-‚±û‚±†-‚≥§‚≥´-‚≥≥‚¥Ä-‚¥•‚¥ß‚¥≠‚¥∞-‚µß‚µØ‚µø-‚∂ñ‚∂†-‚∂¶‚∂®-‚∂Æ‚∂∞-‚∂∂‚∂∏-‚∂æ‚∑Ä-‚∑Ü‚∑à-‚∑é‚∑ê-‚∑ñ‚∑ò-‚∑û‚∑†-‚∑ø‚∏Ø„ÄÖ-„Äá„Ä°-„ÄØ„Ä±-„Äµ„Ä∏-„Äº„ÅÅ-„Çñ„Çô„Çö„Çù-„Çü„Ç°-„É∫„Éº-„Éø„ÑÖ-„Ñ≠„Ñ±-„Üé„Ü†-„Ü∫„á∞-„áø„êÄ-‰∂µ‰∏Ä-ÈøåÍÄÄ-ÍíåÍìê-ÍìΩÍîÄ-ÍòåÍòê-Íò´ÍôÄ-ÍôØÍô¥-ÍôΩÍôø-ÍöóÍöü-Íõ±Íúó-ÍúüÍú¢-ÍûàÍûã-ÍûéÍûê-ÍûìÍû†-Íû™Íü∏-Í†ßÍ°Ä-Í°≥Í¢Ä-Í£ÑÍ£ê-Í£ôÍ£†-Í£∑Í£ªÍ§Ä-Í§≠Í§∞-Í•ìÍ•†-Í•ºÍ¶Ä-ÍßÄÍßè-ÍßôÍ®Ä-Í®∂Í©Ä-Í©çÍ©ê-Í©ôÍ©†-Í©∂Í©∫Í©ªÍ™Ä-Í´ÇÍ´õ-Í´ùÍ´†-Í´ØÍ´≤-Í´∂Í¨Å-Í¨ÜÍ¨â-Í¨éÍ¨ë-Í¨ñÍ¨†-Í¨¶Í¨®-Í¨ÆÍØÄ-ÍØ™ÍØ¨ÍØ≠ÍØ∞-ÍØπÍ∞Ä-Ìû£Ìû∞-ÌüÜÌüã-ÌüªÔ§Ä-Ô©≠Ô©∞-Ô´ôÔ¨Ä-Ô¨ÜÔ¨ì-Ô¨óÔ¨ù-Ô¨®Ô¨™-Ô¨∂Ô¨∏-Ô¨ºÔ¨æÔ≠ÄÔ≠ÅÔ≠ÉÔ≠ÑÔ≠Ü-ÔÆ±ÔØì-Ô¥ΩÔµê-Ô∂èÔ∂í-Ô∑áÔ∑∞-Ô∑ªÔ∏Ä-Ô∏èÔ∏†-Ô∏¶Ô∏≥Ô∏¥Ôπç-ÔπèÔπ∞-Ôπ¥Ôπ∂-ÔªºÔºê-ÔºôÔº°-Ôº∫ÔºøÔΩÅ-ÔΩöÔΩ¶-ÔææÔøÇ-ÔøáÔøä-ÔøèÔøí-ÔøóÔøö-Ôøú]")},u={name:"SyntaxTree",processComment:function(t){var e,n;if(!(t.type===i.Program&&t.body.length>0)){for(m.trailingComments.length>0?m.trailingComments[0].range[0]>=t.range[1]?(n=m.trailingComments,m.trailingComments=[]):m.trailingComments.length=0:m.bottomRightStack.length>0&&m.bottomRightStack[m.bottomRightStack.length-1].trailingComments&&m.bottomRightStack[m.bottomRightStack.length-1].trailingComments[0].range[0]>=t.range[1]&&(n=m.bottomRightStack[m.bottomRightStack.length-1].trailingComments,delete m.bottomRightStack[m.bottomRightStack.length-1].trailingComments);m.bottomRightStack.length>0&&m.bottomRightStack[m.bottomRightStack.length-1].range[0]>=t.range[0];)e=m.bottomRightStack.pop();e?e.leadingComments&&e.leadingComments[e.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=e.leadingComments,delete e.leadingComments):m.leadingComments.length>0&&m.leadingComments[m.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=m.leadingComments,m.leadingComments=[]),n&&(t.trailingComments=n),m.bottomRightStack.push(t)}},markEnd:function(t,e){return m.range&&(t.range=[e.start,f]),m.loc&&(t.loc=new $(void 0===e.startLineNumber?e.lineNumber:e.startLineNumber,e.start-(void 0===e.startLineStart?e.lineStart:e.startLineStart),h,f-p),this.postProcess(t)),m.attachComment&&this.processComment(t),t},postProcess:function(t){return m.source&&(t.loc.source=m.source),t},createArrayExpression:function(t){return{type:i.ArrayExpression,elements:t}},createAssignmentExpression:function(t,e,n){return{type:i.AssignmentExpression,operator:t,left:e,right:n}},createBinaryExpression:function(t,e,n){return{type:"||"===t||"&&"===t?i.LogicalExpression:i.BinaryExpression,operator:t,left:e,right:n}},createBlockStatement:function(t){return{type:i.BlockStatement,body:t}},createBreakStatement:function(t){return{type:i.BreakStatement,label:t}},createCallExpression:function(t,e){return{type:i.CallExpression,callee:t,arguments:e}},createCatchClause:function(t,e){return{type:i.CatchClause,param:t,body:e}},createConditionalExpression:function(t,e,n){return{type:i.ConditionalExpression,test:t,consequent:e,alternate:n}},createContinueStatement:function(t){return{type:i.ContinueStatement,label:t}},createDebuggerStatement:function(){return{type:i.DebuggerStatement}},createDoWhileStatement:function(t,e){return{type:i.DoWhileStatement,body:t,test:e}},createEmptyStatement:function(){return{type:i.EmptyStatement}},createExpressionStatement:function(t){return{type:i.ExpressionStatement,expression:t}},createForStatement:function(t,e,n,r){return{type:i.ForStatement,init:t,test:e,update:n,body:r}},createForInStatement:function(t,e,n){return{type:i.ForInStatement,left:t,right:e,body:n,each:!1}},createFunctionDeclaration:function(t,e,n,r){return{type:i.FunctionDeclaration,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(t,e,n,r){return{type:i.FunctionExpression,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(t){return{type:i.Identifier,name:t}},createIfStatement:function(t,e,n){return{type:i.IfStatement,test:t,consequent:e,alternate:n}},createLabeledStatement:function(t,e){return{type:i.LabeledStatement,label:t,body:e}},createLiteral:function(t){return{type:i.Literal,value:t.value,raw:c.slice(t.start,t.end)}},createMemberExpression:function(t,e,n){return{type:i.MemberExpression,computed:"["===t,object:e,property:n}},createNewExpression:function(t,e){return{type:i.NewExpression,callee:t,arguments:e}},createObjectExpression:function(t){return{type:i.ObjectExpression,properties:t}},createPostfixExpression:function(t,e){return{type:i.UpdateExpression,operator:t,argument:e,prefix:!1}},createProgram:function(t){return{type:i.Program,body:t}},createProperty:function(t,e,n){return{type:i.Property,key:e,value:n,kind:t}},createReturnStatement:function(t){return{type:i.ReturnStatement,argument:t}},createSequenceExpression:function(t){return{type:i.SequenceExpression,expressions:t}},createSwitchCase:function(t,e){return{type:i.SwitchCase,test:t,consequent:e}},createSwitchStatement:function(t,e){return{type:i.SwitchStatement,discriminant:t,cases:e}},createThisExpression:function(){return{type:i.ThisExpression}},createThrowStatement:function(t){return{type:i.ThrowStatement,argument:t}},createTryStatement:function(t,e,n,r){return{type:i.TryStatement,block:t,guardedHandlers:e,handlers:n,finalizer:r}},createUnaryExpression:function(t,e){return"++"===t||"--"===t?{type:i.UpdateExpression,operator:t,argument:e,prefix:!0}:{type:i.UnaryExpression,operator:t,argument:e,prefix:!0}},createVariableDeclaration:function(t,e){return{type:i.VariableDeclaration,declarations:t,kind:e}},createVariableDeclarator:function(t,e){return{type:i.VariableDeclarator,id:t,init:e}},createWhileStatement:function(t,e){return{type:i.WhileStatement,test:t,body:e}},createWithStatement:function(t,e){return{type:i.WithStatement,object:t,body:e}}},t.version="1.2.5",t.tokenize=function(t,n){var r;"string"==typeof t||t instanceof String||(t=String(t)),v=u,f=0,h=(c=t).length>0?1:0,p=0,d=c.length,y=null,g={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},m={},(n=n||{}).tokens=!0,m.tokens=[],m.tokenize=!0,m.openParenToken=-1,m.openCurlyToken=-1,m.range="boolean"==typeof n.range&&n.range,m.loc="boolean"==typeof n.loc&&n.loc,"boolean"==typeof n.comment&&n.comment&&(m.comments=[]),"boolean"==typeof n.tolerant&&n.tolerant&&(m.errors=[]);try{if(W(),y.type===e.EOF)return m.tokens;for(H();y.type!==e.EOF;)try{H()}catch(t){if(y,m.errors){m.errors.push(t);break}throw t}Bt(),r=m.tokens,void 0!==m.comments&&(r.comments=m.comments),void 0!==m.errors&&(r.errors=m.errors)}catch(t){throw t}finally{m={}}return r},t.parse=function(t,e){var n,r;r=String,"string"==typeof t||t instanceof String||(t=r(t)),v=u,f=0,h=(c=t).length>0?1:0,p=0,d=c.length,y=null,g={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},m={},void 0!==e&&(m.range="boolean"==typeof e.range&&e.range,m.loc="boolean"==typeof e.loc&&e.loc,m.attachComment="boolean"==typeof e.attachComment&&e.attachComment,m.loc&&null!==e.source&&void 0!==e.source&&(m.source=r(e.source)),"boolean"==typeof e.tokens&&e.tokens&&(m.tokens=[]),"boolean"==typeof e.comment&&e.comment&&(m.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(m.errors=[]),m.attachComment&&(m.range=!0,m.comments=[],m.bottomRightStack=[],m.trailingComments=[],m.leadingComments=[]));try{n=Rt(),void 0!==m.comments&&(n.comments=m.comments),void 0!==m.tokens&&(Bt(),n.tokens=m.tokens),void 0!==m.errors&&(n.errors=m.errors)}catch(t){throw t}finally{m={}}return n},t.Syntax=function(){var t,e={};for(t in"function"==typeof Object.create&&(e=Object.create(null)),i)i.hasOwnProperty(t)&&(e[t]=i[t]);return"function"==typeof Object.freeze&&Object.freeze(e),e}()})?r.apply(e,i):r)||(t.exports=o)}()},function(t,e,n){"use strict";var r=n(123);t.exports=function(t){var e=["'use strict'","var CACHED={}"],n=[],i=t.funcName+"_cwise_thunk";e.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var f=t.arrayArgs[l];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(r.bind(void 0,t))}},function(t,e,n){"use strict";var r=n(80);function i(t,e,n){var r,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],l=0,f=0;for(r=0;r<o;++r)c.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)f=l,l=t[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",l].join("")):c.push(["d",i,"s",r,"=(t",i,"p",l,"-s",f,"*t",i,"p",f,")"].join(""));for(c.length>0&&u.push("var "+c.join(",")),r=o-1;r>=0;--r)l=t[r],u.push(["for(i",r,"=0;i",r,"<s",l,";++i",r,"){"].join(""));for(u.push(n),r=0;r<o;++r){for(f=l,l=t[r],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&u.push(["index[",f,"]-=s",f].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function o(t,e,n){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var f=e.offsetArgIndex.indexOf(a);l=e.offsetArgs[f].array,c="+q"+f;case"array":c="p"+l+c;var h="l"+a,p="a"+l;if(0===e.arrayBlockIndices[l])1===s.count?"generic"===n[l]?s.lvalue?(i.push(["var ",h,"=",p,".get(",c,")"].join("")),r=r.replace(u,h),o.push([p,".set(",c,",",h,")"].join(""))):r=r.replace(u,[p,".get(",c,")"].join("")):r=r.replace(u,[p,"[",c,"]"].join("")):"generic"===n[l]?(i.push(["var ",h,"=",p,".get(",c,")"].join("")),r=r.replace(u,h),s.lvalue&&o.push([p,".set(",c,",",h,")"].join(""))):(i.push(["var ",h,"=",p,"[",c,"]"].join("")),r=r.replace(u,h),s.lvalue&&o.push([p,"[",c,"]=",h].join("")));else{for(var d=[s.name],v=[c],y=0;y<Math.abs(e.arrayBlockIndices[l]);y++)d.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(y+1)+"*t"+l+"b"+y);if(u=new RegExp(d.join(""),"g"),c=v.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[p,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function a(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[r]="u"+i.charAt(1)+o:e[r]=i.charAt(0)+o,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}t.exports=function(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,s=new Array(t.arrayArgs.length),u=new Array(t.arrayArgs.length),c=0;c<t.arrayArgs.length;++c)u[c]=e[2*c],s[c]=e[2*c+1];var l=[],f=[],h=[],p=[],d=[];for(c=0;c<t.arrayArgs.length;++c){t.arrayBlockIndices[c]<0?(h.push(0),p.push(n),l.push(n),f.push(n+t.arrayBlockIndices[c])):(h.push(t.arrayBlockIndices[c]),p.push(t.arrayBlockIndices[c]+n),l.push(0),f.push(t.arrayBlockIndices[c]));for(var v=[],y=0;y<s[c].length;y++)h[c]<=s[c][y]&&s[c][y]<p[c]&&v.push(s[c][y]-h[c]);d.push(v)}var g=["SS"],m=["'use strict'"],b=[];for(y=0;y<n;++y)b.push(["s",y,"=SS[",y,"]"].join(""));for(c=0;c<t.arrayArgs.length;++c){g.push("a"+c),g.push("t"+c),g.push("p"+c);for(y=0;y<n;++y)b.push(["t",c,"p",y,"=t",c,"[",h[c]+y,"]"].join(""));for(y=0;y<Math.abs(t.arrayBlockIndices[c]);++y)b.push(["t",c,"b",y,"=t",c,"[",l[c]+y,"]"].join(""))}for(c=0;c<t.scalarArgs.length;++c)g.push("Y"+c);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){var _=new Array(n);for(c=0;c<n;++c)_[c]="0";b.push(["index=[",_.join(","),"]"].join(""))}for(c=0;c<t.offsetArgs.length;++c){var w=t.offsetArgs[c],x=[];for(y=0;y<w.offset.length;++y)0!==w.offset[y]&&(1===w.offset[y]?x.push(["t",w.array,"p",y].join("")):x.push([w.offset[y],"*t",w.array,"p",y].join("")));0===x.length?b.push("q"+c+"=0"):b.push(["q",c,"=",x.join("+")].join(""))}var k=r([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((b=b.concat(k)).length>0&&m.push("var "+b.join(",")),c=0;c<t.arrayArgs.length;++c)m.push("p"+c+"|=0");t.pre.body.length>3&&m.push(o(t.pre,t,u));var S=o(t.body,t,u),E=function(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}(d);E<n?m.push(function(t,e,n,r){for(var o=e.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,c=[],l=0;l<a;++l)c.push(["var offset",l,"=p",l].join(""));for(l=t;l<o;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(l=0;l<a;++l){for(var f=["offset"+l],h=t;h<o;++h)f.push(["j",h,"*t",l,"p",e[h]].join(""));c.push(["p",l,"=(",f.join("+"),")"].join(""))}for(c.push(i(e,n,r)),l=t;l<o;++l)c.push("}");return c.join("\n")}(E,d[0],t,S)):m.push(i(d[0],t,S)),t.post.body.length>3&&m.push(o(t.post,t,u)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+m.join("\n")+"\n----------");var P=[t.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",E,a(u)].join("");return new Function(["function ",P,"(",g.join(","),"){",m.join("\n"),"} return ",P].join(""))()}},function(t,e,n){"use strict";t.exports=function(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return function(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}(0|t,e);break;case"object":if("number"==typeof t.length)return function t(e,n,r){var i=0|e[r];if(i<=0)return[];var o,a=new Array(i);if(r===e.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=t(e,n,r+1);return a}(t,e,0)}return[]}},function(t,e,n){var r=n(84);function i(t,e,n,i,o,a){var s,u,c,l,f,h,p,d,v,y,g,m,b,_,w,x,k,S,E,P,T,A,R,B;for(t|=0,e|=0,o|=0,a|=0,s=n|=0,u=r.log2(s),S=0;S<e;++S){for(p=s>>1,f=0,c=0;c<s-1;c++){for(c<f&&(b=i[o+c],i[o+c]=i[o+f],i[o+f]=b,b=i[a+c],i[a+c]=i[a+f],i[a+f]=b),h=p;h<=f;)f-=h,h>>=1;f+=h}for(g=-1,m=0,y=1,d=0;d<u;d++){for(v=y,y<<=1,x=1,k=0,f=0;f<v;f++){for(c=f;c<s;c+=y)E=i[o+(l=c+v)],P=i[a+l],T=i[o+c],A=i[a+c],_=(R=x*(E+P))-P*(x+k),w=R+(B=E*(k-x)),i[o+l]=T-_,i[a+l]=A-w,i[o+c]+=_,i[a+c]+=w;B=x*(m-g),x=(R=g*(x+k))-k*(g+m),k=R+B}m=Math.sqrt((1-g)/2),t<0&&(m=-m),g=Math.sqrt((1+g)/2)}if(t<0){var L=1/s;for(c=0;c<s;c++)i[o+c]*=L,i[a+c]*=L}o+=n,a+=n}}t.exports=function(t,e,n,o,a,s,u){t|=0,e|=0,n|=0,a|=0,s|=0,r.isPow2(n)?i(t,e,n,o,a,s):function(t,e,n,o,a,s,u){t|=0,e|=0,n|=0,a|=0,s|=0,u|=0;var c,l,f,h,p,d,v,y,g,m=r.nextPow2(2*n+1),b=u,_=b+n,w=_+n,x=w+m,k=x+m,S=k+m,E=-t*Math.PI/n;for(g=0;g<n;++g)l=E*(g*g%(2*n)),h=Math.cos(l),p=Math.sin(l),o[k+(m-g)]=o[k+g]=o[b+g]=h,o[S+(m-g)]=o[S+g]=o[_+g]=p;for(g=n;g<=m-n;++g)o[k+g]=0;for(g=n;g<=m-n;++g)o[S+g]=0;i(1,1,m,o,k,S),E=t<0?1/n:1;for(c=0;c<e;++c){for(g=0;g<n;++g)l=o[a+g],f=o[s+g],h=o[b+g],p=-o[_+g],d=h*(l+f),v=l*(p-h),y=f*(h+p),o[w+g]=d-y,o[x+g]=d+v;for(g=n;g<m;++g)o[w+g]=0;for(g=n;g<m;++g)o[x+g]=0;for(i(1,1,m,o,w,x),g=0;g<m;++g)l=o[w+g],f=o[x+g],h=o[k+g],p=o[S+g],d=h*(l+f),v=l*(p-h),y=f*(h+p),o[w+g]=d-y,o[x+g]=d+v;for(i(-1,1,m,o,w,x),g=0;g<n;++g)l=o[w+g],f=o[x+g],h=o[b+g],p=-o[_+g],d=h*(l+f),v=l*(p-h),y=f*(h+p),o[a+g]=E*(d-y),o[s+g]=E*(d+v);a+=n,s+=n}}(t,e,n,o,a,s,u)},t.exports.scratchMemory=function(t){return r.isPow2(t)?0:2*t+4*r.nextPow2(2*t+1)}},function(t,e,n){"use strict";t.exports=function(t,e,n,s,u){void 0===s&&(s=1);void 0===u&&(u=0);var c=1!==s,l=0!==u,f=o(t),h=o(e),p=o(n);!function(t,e,n){var r=i(t),o=i(e),a=i(n);if(r[0]!==o[0]||r[1]!==a[1]||o[1]!==a[0])throw new Error("Mismatched array shapes for matrix product")}(t,e,n);var d=[f,h,p,c,l].join(":"),v=a[d];v||(v=a[d]=r(f,h,p,c,l));return v(t,e,n,s,u)};var r=n(127);function i(t){return Array.isArray(t)?[t.length,t[0].length]:t.shape}function o(t){if(Array.isArray(t)){if(Array.isArray(t))return["r","native"]}else if(t.shape&&2===t.shape.length)return t.order[0]?["r",t.dtype]:["c",t.dtype];throw new Error("Unrecognized data type")}var a={}},function(t,e,n){"use strict";t.exports=function(t,e,n,u,c){var l=["gemm",t[0],t[1],"a",e[0],e[1],"b",n[0],n[1],u?"alpha":"",c?"beta":""].join(""),f=["function ",l,"(o,a,b,A,B){","var ",r("o",t),r("a",e),r("b",n),"i,j,k;"];"r"===e[0]&&"c"===n[0]?f.push.apply(f,function(t,e,n,r,u){var c=[],l="r"===t[0]?[1,0]:[0,1],f=[1,0],h=[0,1],p=["i","j"];c.push.apply(c,i(l,"o",t)),l[1]?(c.push("for(j=0;j<od1;++j){"),c.push("for(i=0;i<od0;++i){")):(c.push("for(i=0;i<od0;++i){"),c.push("for(j=0;j<od1;++j){"));c.push.apply(c,i(f,"a",e,"i")),c.push.apply(c,i(h,"b",n,void 0,"j")),c.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",s(f,"a",e,"i","k"),"*",s(h,"b",n,"k","j"),";"),c.push.apply(c,o(f,"a",e,0,"k")),c.push.apply(c,o(h,"b",n,0,"k")),c.push("}"),r&&c.push("r*=A;");u&&c.push("r+=B*",s(l,"o",t,"i","j"),";");return c.push.apply(c,a(l,"o",t,"i","j","r")),c.push.apply(c,o(l,"o",t,0,p[1])),c.push("}"),c.push.apply(c,o(l,"o",t,1,p[0])),c.push("}"),c}(t,e,n,u,c)):f.push.apply(f,function(t,e,n,r,u){var c=[],l=["od0","od1","ad1"],f=[1,0],h=[1,0],p=[0,1];c.push.apply(c,function(t,e){var n,r=[],u="r"===t[0]?[1,0]:[0,1];e&&r.push("if(B!==1.0){");r.push.apply(r,i(u,"o",t)),u[0]?(r.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),n=["i","j"]):(r.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),n=["j","i"]);e?r.push.apply(r,a(u,"o",t,"i","j","B*"+s(u,"o",t,"i","j"))):r.push.apply(r,a(u,"o",t,"i","j","0"));r.push.apply(r,o(u,"o",t,0,n[1])),r.push("}"),r.push.apply(r,o(u,"o",t,1,n[0])),r.push("}"),e&&r.push("}");return r}(t,u));for(var d=0;d<3;++d)c.push("for(var i",d,"=",l[d],";i",d,">0;){","var w",d,"=",32,";","if(i",d,"<",32,"){","w",d,"=i",d,";","i",d,"=0;","}else{","i",d,"-=",32,";","}");c.push.apply(c,i(f,"o",t,"i0","i1","w1")),c.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),c.push.apply(c,i(h,"a",e,"(i0+i)","i2")),c.push.apply(c,i(p,"b",n,"i2","(i1+j)")),c.push("for(k=0;k<w2;++k){"),c.push("r+=",s(h,"a",e,"(i0+i)","(i2+k)"),"*",s(p,"b",n,"(i2+k)","(i1+j)"),";"),c.push.apply(c,o(h,"a",e,0,"(i2+k)")),c.push.apply(c,o(p,"b",n,0,"(i2+k)")),c.push("}");var v="r";r&&(v="A*r");return c.push.apply(c,a(f,"o",t,"(i0+i)","(i1+j)",v+"+"+s(f,"o",t,"(i0+i)","(i1+j)"))),c.push.apply(c,o(f,"o",t,0,"(i1+j)")),c.push("}"),c.push.apply(c,o(f,"o",t,1,"(i0+i)")),c.push("}}}}"),c}(t,e,n,u,c));return f.push("}return ",l),new Function(f.join(""))()};function r(t,e){return"native"===e[1]?[t,"d0=",t,".length,",t,"d1=",t,"[0].length,"].join(""):[t,"d0=",t,".shape[0],",t,"d1=",t,".shape[1],",t,"s0=",t,".stride[0],",t,"s1=",t,".stride[1],",t,"o=",t,".offset,",t,"d=",t,".data,"].join("")}function i(t,e,n,r,i,o){var a=[];return"native"===n[1]?t[0]&&(r?a.push("var ",e,"p=",e,"[",r,"];"):a.push("var ",e,"p=",e,"[0];")):r&&i?o?a.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",o,",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):r?a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0;"):i?a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",i,"*",e,"s1;"):a.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",e,"d",t[0],",",e,"p=",e,"o;"),a}function o(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]&&1===r&&o.push(e,"p=",e,"[",i,"+1]"):o.push(e,"p+=",e,"t",r,";"),o}function a(t,e,n,r,i,o){var a=[];return"native"===n[1]?t[0]?a.push(e,"p[",i,"]=",o,";"):a.push(e,"[",r,"][",i,"]=",o,";"):"generic"===n[1]?a.push(e,"d.set(",e,"p,",o,");"):a.push(e,"d[",e,"p]=",o,";"),a}function s(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]?o.push(e,"p[",i,"]"):o.push(e,"[",r,"][",i,"]"):"generic"===n[1]?o.push(e,"d.get(",e,"p)"):o.push(e,"d[",e,"p]"),o.join("")}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",v="[object Map]",y="[object Number]",g="[object Object]",m="[object RegExp]",b="[object Set]",_="[object String]",w="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",S="[object DataView]",E="[object Float32Array]",P="[object Float64Array]",T="[object Int8Array]",A="[object Int16Array]",R="[object Int32Array]",B="[object Uint8Array]",L="[object Uint16Array]",C="[object Uint32Array]",D=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,O=/(__e\(.*?\)|\b__t\)) \+\n'';/g,N=/&(?:amp|lt|gt|quot|#39);/g,M=/[&<>"']/g,U=RegExp(N.source),j=RegExp(M.source),F=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(G.source),q=/^\s+|\s+$/g,X=/^\s+/,K=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ft=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",vt="["+pt+"]",yt="["+ht+"]",gt="\\d+",mt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",_t="[^\\ud800-\\udfff"+pt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",xt="[^\\ud800-\\udfff]",kt="(?:\\ud83c[\\udde6-\\uddff]){2}",St="[\\ud800-\\udbff][\\udc00-\\udfff]",Et="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Pt="(?:"+bt+"|"+_t+")",Tt="(?:"+Et+"|"+_t+")",At="(?:"+yt+"|"+wt+")"+"?",Rt="[\\ufe0e\\ufe0f]?"+At+("(?:\\u200d(?:"+[xt,kt,St].join("|")+")[\\ufe0e\\ufe0f]?"+At+")*"),Bt="(?:"+[mt,kt,St].join("|")+")"+Rt,Lt="(?:"+[xt+yt+"?",yt,kt,St,dt].join("|")+")",Ct=RegExp("['‚Äô]","g"),Dt=RegExp(yt,"g"),It=RegExp(wt+"(?="+wt+")|"+Lt+Rt,"g"),Ot=RegExp([Et+"?"+bt+"+(?:['‚Äô](?:d|ll|m|re|s|t|ve))?(?="+[vt,Et,"$"].join("|")+")",Tt+"+(?:['‚Äô](?:D|LL|M|RE|S|T|VE))?(?="+[vt,Et+Pt,"$"].join("|")+")",Et+"?"+Pt+"+(?:['‚Äô](?:d|ll|m|re|s|t|ve))?",Et+"+(?:['‚Äô](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,Bt].join("|"),"g"),Nt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Mt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ut=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jt=-1,Ft={};Ft[E]=Ft[P]=Ft[T]=Ft[A]=Ft[R]=Ft[B]=Ft["[object Uint8ClampedArray]"]=Ft[L]=Ft[C]=!0,Ft[u]=Ft[c]=Ft[k]=Ft[l]=Ft[S]=Ft[f]=Ft[h]=Ft[p]=Ft[v]=Ft[y]=Ft[g]=Ft[m]=Ft[b]=Ft[_]=Ft[x]=!1;var Vt={};Vt[u]=Vt[c]=Vt[k]=Vt[S]=Vt[l]=Vt[f]=Vt[E]=Vt[P]=Vt[T]=Vt[A]=Vt[R]=Vt[v]=Vt[y]=Vt[g]=Vt[m]=Vt[b]=Vt[_]=Vt[w]=Vt[B]=Vt["[object Uint8ClampedArray]"]=Vt[L]=Vt[C]=!0,Vt[h]=Vt[p]=Vt[x]=!1;var Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wt=parseFloat,zt=parseInt,$t="object"==typeof t&&t&&t.Object===Object&&t,Gt="object"==typeof self&&self&&self.Object===Object&&self,Yt=$t||Gt||Function("return this")(),qt=e&&!e.nodeType&&e,Xt=qt&&"object"==typeof r&&r&&!r.nodeType&&r,Kt=Xt&&Xt.exports===qt,Jt=Kt&&$t.process,Qt=function(){try{var t=Xt&&Xt.require&&Xt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(t){}}(),Zt=Qt&&Qt.isArrayBuffer,te=Qt&&Qt.isDate,ee=Qt&&Qt.isMap,ne=Qt&&Qt.isRegExp,re=Qt&&Qt.isSet,ie=Qt&&Qt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ue(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function fe(t,e){return!!(null==t?0:t.length)&&we(t,e,0)>-1}function he(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function de(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ve(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ye(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ge(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var me=Ee("length");function be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function _e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function we(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):_e(t,ke,n)}function xe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function ke(t){return t!=t}function Se(t,e){var n=null==t?0:t.length;return n?Ae(t,e)/n:NaN}function Ee(t){return function(e){return null==e?void 0:e[t]}}function Pe(t){return function(e){return null==t?void 0:t[e]}}function Te(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ae(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Re(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Be(t){return function(e){return t(e)}}function Le(t,e){return pe(e,(function(e){return t[e]}))}function Ce(t,e){return t.has(e)}function De(t,e){for(var n=-1,r=t.length;++n<r&&we(e,t[n],0)>-1;);return n}function Ie(t,e){for(var n=t.length;n--&&we(e,t[n],0)>-1;);return n}function Oe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ne=Pe({"√Ä":"A","√Å":"A","√Ç":"A","√É":"A","√Ñ":"A","√Ö":"A","√†":"a","√°":"a","√¢":"a","√£":"a","√§":"a","√•":"a","√á":"C","√ß":"c","√ê":"D","√∞":"d","√à":"E","√â":"E","√ä":"E","√ã":"E","√®":"e","√©":"e","√™":"e","√´":"e","√å":"I","√ç":"I","√é":"I","√è":"I","√¨":"i","√≠":"i","√Æ":"i","√Ø":"i","√ë":"N","√±":"n","√í":"O","√ì":"O","√î":"O","√ï":"O","√ñ":"O","√ò":"O","√≤":"o","√≥":"o","√¥":"o","√µ":"o","√∂":"o","√∏":"o","√ô":"U","√ö":"U","√õ":"U","√ú":"U","√π":"u","√∫":"u","√ª":"u","√º":"u","√ù":"Y","√Ω":"y","√ø":"y","√Ü":"Ae","√¶":"ae","√û":"Th","√æ":"th","√ü":"ss","ƒÄ":"A","ƒÇ":"A","ƒÑ":"A","ƒÅ":"a","ƒÉ":"a","ƒÖ":"a","ƒÜ":"C","ƒà":"C","ƒä":"C","ƒå":"C","ƒá":"c","ƒâ":"c","ƒã":"c","ƒç":"c","ƒé":"D","ƒê":"D","ƒè":"d","ƒë":"d","ƒí":"E","ƒî":"E","ƒñ":"E","ƒò":"E","ƒö":"E","ƒì":"e","ƒï":"e","ƒó":"e","ƒô":"e","ƒõ":"e","ƒú":"G","ƒû":"G","ƒ†":"G","ƒ¢":"G","ƒù":"g","ƒü":"g","ƒ°":"g","ƒ£":"g","ƒ§":"H","ƒ¶":"H","ƒ•":"h","ƒß":"h","ƒ®":"I","ƒ™":"I","ƒ¨":"I","ƒÆ":"I","ƒ∞":"I","ƒ©":"i","ƒ´":"i","ƒ≠":"i","ƒØ":"i","ƒ±":"i","ƒ¥":"J","ƒµ":"j","ƒ∂":"K","ƒ∑":"k","ƒ∏":"k","ƒπ":"L","ƒª":"L","ƒΩ":"L","ƒø":"L","≈Å":"L","ƒ∫":"l","ƒº":"l","ƒæ":"l","≈Ä":"l","≈Ç":"l","≈É":"N","≈Ö":"N","≈á":"N","≈ä":"N","≈Ñ":"n","≈Ü":"n","≈à":"n","≈ã":"n","≈å":"O","≈é":"O","≈ê":"O","≈ç":"o","≈è":"o","≈ë":"o","≈î":"R","≈ñ":"R","≈ò":"R","≈ï":"r","≈ó":"r","≈ô":"r","≈ö":"S","≈ú":"S","≈û":"S","≈†":"S","≈õ":"s","≈ù":"s","≈ü":"s","≈°":"s","≈¢":"T","≈§":"T","≈¶":"T","≈£":"t","≈•":"t","≈ß":"t","≈®":"U","≈™":"U","≈¨":"U","≈Æ":"U","≈∞":"U","≈≤":"U","≈©":"u","≈´":"u","≈≠":"u","≈Ø":"u","≈±":"u","≈≥":"u","≈¥":"W","≈µ":"w","≈∂":"Y","≈∑":"y","≈∏":"Y","≈π":"Z","≈ª":"Z","≈Ω":"Z","≈∫":"z","≈º":"z","≈æ":"z","ƒ≤":"IJ","ƒ≥":"ij","≈í":"Oe","≈ì":"oe","≈â":"'n","≈ø":"s"}),Me=Pe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ue(t){return"\\"+Ht[t]}function je(t){return Nt.test(t)}function Fe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ve(t,e){return function(n){return t(e(n))}}function He(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function We(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function $e(t){return je(t)?function(t){var e=It.lastIndex=0;for(;It.test(t);)++e;return e}(t):me(t)}function Ge(t){return je(t)?function(t){return t.match(It)||[]}(t):function(t){return t.split("")}(t)}var Ye=Pe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var qe=function t(e){var n,r=(e=null==e?Yt:qe.defaults(Yt.Object(),e,qe.pick(Yt,Ut))).Array,i=e.Date,ht=e.Error,pt=e.Function,dt=e.Math,vt=e.Object,yt=e.RegExp,gt=e.String,mt=e.TypeError,bt=r.prototype,_t=pt.prototype,wt=vt.prototype,xt=e["__core-js_shared__"],kt=_t.toString,St=wt.hasOwnProperty,Et=0,Pt=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Tt=wt.toString,At=kt.call(vt),Rt=Yt._,Bt=yt("^"+kt.call(St).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lt=Kt?e.Buffer:void 0,It=e.Symbol,Nt=e.Uint8Array,Ht=Lt?Lt.allocUnsafe:void 0,$t=Ve(vt.getPrototypeOf,vt),Gt=vt.create,qt=wt.propertyIsEnumerable,Xt=bt.splice,Jt=It?It.isConcatSpreadable:void 0,Qt=It?It.iterator:void 0,me=It?It.toStringTag:void 0,Pe=function(){try{var t=Zi(vt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Xe=e.clearTimeout!==Yt.clearTimeout&&e.clearTimeout,Ke=i&&i.now!==Yt.Date.now&&i.now,Je=e.setTimeout!==Yt.setTimeout&&e.setTimeout,Qe=dt.ceil,Ze=dt.floor,tn=vt.getOwnPropertySymbols,en=Lt?Lt.isBuffer:void 0,nn=e.isFinite,rn=bt.join,on=Ve(vt.keys,vt),an=dt.max,sn=dt.min,un=i.now,cn=e.parseInt,ln=dt.random,fn=bt.reverse,hn=Zi(e,"DataView"),pn=Zi(e,"Map"),dn=Zi(e,"Promise"),vn=Zi(e,"Set"),yn=Zi(e,"WeakMap"),gn=Zi(vt,"create"),mn=yn&&new yn,bn={},_n=To(hn),wn=To(pn),xn=To(dn),kn=To(vn),Sn=To(yn),En=It?It.prototype:void 0,Pn=En?En.valueOf:void 0,Tn=En?En.toString:void 0;function An(t){if(za(t)&&!Da(t)&&!(t instanceof Cn)){if(t instanceof Ln)return t;if(St.call(t,"__wrapped__"))return Ao(t)}return new Ln(t)}var Rn=function(){function t(){}return function(e){if(!Wa(e))return{};if(Gt)return Gt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Bn(){}function Ln(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Cn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function On(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new On;++e<n;)this.add(t[e])}function Mn(t){var e=this.__data__=new In(t);this.size=e.size}function Un(t,e){var n=Da(t),r=!n&&Ca(t),i=!n&&!r&&Ma(t),o=!n&&!r&&!i&&Qa(t),a=n||r||i||o,s=a?Re(t.length,gt):[],u=s.length;for(var c in t)!e&&!St.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,u))||s.push(c);return s}function jn(t){var e=t.length;return e?t[Nr(0,e-1)]:void 0}function Fn(t,e){return So(gi(t),Xn(e,0,t.length))}function Vn(t){return So(gi(t))}function Hn(t,e,n){(void 0!==n&&!Ra(t[e],n)||void 0===n&&!(e in t))&&Yn(t,e,n)}function Wn(t,e,n){var r=t[e];St.call(t,e)&&Ra(r,n)&&(void 0!==n||e in t)||Yn(t,e,n)}function zn(t,e){for(var n=t.length;n--;)if(Ra(t[n][0],e))return n;return-1}function $n(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Gn(t,e){return t&&mi(e,_s(e),t)}function Yn(t,e,n){"__proto__"==e&&Pe?Pe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function qn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:vs(t,e[n]);return o}function Xn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Kn(t,e,n,r,i,o){var a,s=1&e,c=2&e,h=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Wa(t))return t;var x=Da(t);if(x){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&St.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return gi(t,a)}else{var D=no(t),I=D==p||D==d;if(Ma(t))return fi(t,s);if(D==g||D==u||I&&!i){if(a=c||I?{}:io(t),!s)return c?function(t,e){return mi(t,eo(t),e)}(t,function(t,e){return t&&mi(e,ws(e),t)}(a,t)):function(t,e){return mi(t,to(t),e)}(t,Gn(a,t))}else{if(!Vt[D])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case k:return hi(t);case l:case f:return new r(+t);case S:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case E:case P:case T:case A:case R:case B:case"[object Uint8ClampedArray]":case L:case C:return pi(t,n);case v:return new r;case y:case _:return new r(t);case m:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case w:return i=t,Pn?vt(Pn.call(i)):{}}var i}(t,D,s)}}o||(o=new Mn);var O=o.get(t);if(O)return O;o.set(t,a),Xa(t)?t.forEach((function(r){a.add(Kn(r,e,n,r,t,o))})):$a(t)&&t.forEach((function(r,i){a.set(i,Kn(r,e,n,i,t,o))}));var N=x?void 0:(h?c?Gi:$i:c?ws:_s)(t);return se(N||t,(function(r,i){N&&(r=t[i=r]),Wn(a,i,Kn(r,e,n,i,t,o))})),a}function Jn(t,e,n){var r=n.length;if(null==t)return!r;for(t=vt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Qn(t,e,n){if("function"!=typeof t)throw new mt(o);return _o((function(){t.apply(void 0,n)}),e)}function Zn(t,e,n,r){var i=-1,o=fe,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=pe(e,Be(n))),r?(o=he,a=!1):e.length>=200&&(o=Ce,a=!1,e=new Nn(e));t:for(;++i<s;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}An.templateSettings={escape:F,evaluate:V,interpolate:H,variable:"",imports:{_:An}},An.prototype=Bn.prototype,An.prototype.constructor=An,Ln.prototype=Rn(Bn.prototype),Ln.prototype.constructor=Ln,Cn.prototype=Rn(Bn.prototype),Cn.prototype.constructor=Cn,Dn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Dn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Dn.prototype.get=function(t){var e=this.__data__;if(gn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return St.call(e,t)?e[t]:void 0},Dn.prototype.has=function(t){var e=this.__data__;return gn?void 0!==e[t]:St.call(e,t)},Dn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gn&&void 0===e?"__lodash_hash_undefined__":e,this},In.prototype.clear=function(){this.__data__=[],this.size=0},In.prototype.delete=function(t){var e=this.__data__,n=zn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Xt.call(e,n,1),--this.size,!0)},In.prototype.get=function(t){var e=this.__data__,n=zn(e,t);return n<0?void 0:e[n][1]},In.prototype.has=function(t){return zn(this.__data__,t)>-1},In.prototype.set=function(t,e){var n=this.__data__,r=zn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},On.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(pn||In),string:new Dn}},On.prototype.delete=function(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e},On.prototype.get=function(t){return Ji(this,t).get(t)},On.prototype.has=function(t){return Ji(this,t).has(t)},On.prototype.set=function(t,e){var n=Ji(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Nn.prototype.add=Nn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Nn.prototype.has=function(t){return this.__data__.has(t)},Mn.prototype.clear=function(){this.__data__=new In,this.size=0},Mn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Mn.prototype.get=function(t){return this.__data__.get(t)},Mn.prototype.has=function(t){return this.__data__.has(t)},Mn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof In){var r=n.__data__;if(!pn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new On(r)}return n.set(t,e),this.size=n.size,this};var tr=wi(ur),er=wi(cr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!Ja(a):n(a,s)))var s=a,u=o}return u}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?or(s,e-1,n,r,i):de(i,s):r||(i[i.length]=s)}return i}var ar=xi(),sr=xi(!0);function ur(t,e){return t&&ar(t,e,_s)}function cr(t,e){return t&&sr(t,e,_s)}function lr(t,e){return le(e,(function(e){return Fa(t[e])}))}function fr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[Po(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Da(t)?r:de(r,n(t))}function pr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":me&&me in vt(t)?function(t){var e=St.call(t,me),n=t[me];try{t[me]=void 0;var r=!0}catch(t){}var i=Tt.call(t);r&&(e?t[me]=n:delete t[me]);return i}(t):function(t){return Tt.call(t)}(t)}function dr(t,e){return t>e}function vr(t,e){return null!=t&&St.call(t,e)}function yr(t,e){return null!=t&&e in vt(t)}function gr(t,e,n){for(var i=n?he:fe,o=t[0].length,a=t.length,s=a,u=r(a),c=1/0,l=[];s--;){var f=t[s];s&&e&&(f=pe(f,Be(e))),c=sn(f.length,c),u[s]=!n&&(e||o>=120&&f.length>=120)?new Nn(s&&f):void 0}f=t[0];var h=-1,p=u[0];t:for(;++h<o&&l.length<c;){var d=f[h],v=e?e(d):d;if(d=n||0!==d?d:0,!(p?Ce(p,v):i(l,v,n))){for(s=a;--s;){var y=u[s];if(!(y?Ce(y,v):i(t[s],v,n)))continue t}p&&p.push(v),l.push(d)}}return l}function mr(t,e,n){var r=null==(t=yo(t,e=si(e,t)))?t:t[Po(jo(e))];return null==r?void 0:oe(r,t,n)}function br(t){return za(t)&&pr(t)==u}function _r(t,e,n,r,i){return t===e||(null==t||null==e||!za(t)&&!za(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Da(t),s=Da(e),p=a?c:no(t),d=s?c:no(e),x=(p=p==u?g:p)==g,E=(d=d==u?g:d)==g,P=p==d;if(P&&Ma(t)){if(!Ma(e))return!1;a=!0,x=!1}if(P&&!x)return o||(o=new Mn),a||Qa(t)?Wi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!o(new Nt(t),new Nt(e)));case l:case f:case y:return Ra(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case _:return t==e+"";case v:var s=Fe;case b:var u=1&r;if(s||(s=We),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var p=Wi(s(t),s(e),r,i,o,a);return a.delete(t),p;case w:if(Pn)return Pn.call(t)==Pn.call(e)}return!1}(t,e,p,n,r,i,o);if(!(1&n)){var T=x&&St.call(t,"__wrapped__"),A=E&&St.call(e,"__wrapped__");if(T||A){var R=T?t.value():t,B=A?e.value():e;return o||(o=new Mn),i(R,B,n,r,o)}}if(!P)return!1;return o||(o=new Mn),function(t,e,n,r,i,o){var a=1&n,s=$i(t),u=s.length,c=$i(e).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=s[l];if(!(a?f in e:St.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var d=!0;o.set(t,e),o.set(e,t);var v=a;for(;++l<u;){f=s[l];var y=t[f],g=e[f];if(r)var m=a?r(g,y,f,e,t,o):r(y,g,f,t,e,o);if(!(void 0===m?y===g||i(y,g,n,r,o):m)){d=!1;break}v||(v="constructor"==f)}if(d&&!v){var b=t.constructor,_=e.constructor;b==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o)}(t,e,n,r,_r,i))}function wr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=vt(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in t))return!1}else{var f=new Mn;if(r)var h=r(c,l,u,t,e,f);if(!(void 0===h?_r(l,c,3,r,f):h))return!1}}return!0}function xr(t){return!(!Wa(t)||(e=t,Pt&&Pt in e))&&(Fa(t)?Bt:at).test(To(t));var e}function kr(t){return"function"==typeof t?t:null==t?Gs:"object"==typeof t?Da(t)?Rr(t[0],t[1]):Ar(t):eu(t)}function Sr(t){if(!fo(t))return on(t);var e=[];for(var n in vt(t))St.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Er(t){if(!Wa(t))return function(t){var e=[];if(null!=t)for(var n in vt(t))e.push(n);return e}(t);var e=fo(t),n=[];for(var r in t)("constructor"!=r||!e&&St.call(t,r))&&n.push(r);return n}function Pr(t,e){return t<e}function Tr(t,e){var n=-1,i=Oa(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Ar(t){var e=Qi(t);return 1==e.length&&e[0][2]?po(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function Rr(t,e){return uo(t)&&ho(e)?po(Po(t),e):function(n){var r=vs(n,t);return void 0===r&&r===e?ys(n,t):_r(e,r,3)}}function Br(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new Mn),Wa(o))!function(t,e,n,r,i,o,a){var s=mo(t,n),u=mo(e,n),c=a.get(u);if(c)return void Hn(t,n,c);var l=o?o(s,u,n+"",t,e,a):void 0,f=void 0===l;if(f){var h=Da(u),p=!h&&Ma(u),d=!h&&!p&&Qa(u);l=u,h||p||d?Da(s)?l=s:Na(s)?l=gi(s):p?(f=!1,l=fi(u,!0)):d?(f=!1,l=pi(u,!0)):l=[]:Ya(u)||Ca(u)?(l=s,Ca(s)?l=as(s):Wa(s)&&!Fa(s)||(l=io(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u));Hn(t,n,l)}(t,e,a,n,Br,r,i);else{var s=r?r(mo(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),Hn(t,a,s)}}),ws)}function Lr(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function Cr(t,e,n){e=e.length?pe(e,(function(t){return Da(t)?function(e){return fr(e,1===t.length?t[0]:t)}:t})):[Gs];var r=-1;return e=pe(e,Be(Ki())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Tr(t,(function(t,n,i){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=di(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)}))}function Dr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=fr(t,a);n(s,a)&&Vr(o,si(a,t),s)}return o}function Ir(t,e,n,r){var i=r?xe:we,o=-1,a=e.length,s=t;for(t===e&&(e=gi(e)),n&&(s=pe(t,Be(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Xt.call(s,u,1),Xt.call(t,u,1);return t}function Or(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?Xt.call(t,i,1):Zr(t,i)}}return t}function Nr(t,e){return t+Ze(ln()*(e-t+1))}function Mr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ze(e/2))&&(t+=t)}while(e);return n}function Ur(t,e){return wo(vo(t,e,Gs),t+"")}function jr(t){return jn(Rs(t))}function Fr(t,e){var n=Rs(t);return So(n,Xn(e,0,n.length))}function Vr(t,e,n,r){if(!Wa(t))return t;for(var i=-1,o=(e=si(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=Po(e[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Wa(l)?l:ao(e[i+1])?[]:{})}Wn(s,u,c),s=s[u]}return t}var Hr=mn?function(t,e){return mn.set(t,e),t}:Gs,Wr=Pe?function(t,e){return Pe(t,"toString",{configurable:!0,enumerable:!1,value:Ws(e),writable:!0})}:Gs;function zr(t){return So(Rs(t))}function $r(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Gr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Yr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ja(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return qr(t,e,Gs,n)}function qr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,u=Ja(e),c=void 0===e;i<o;){var l=Ze((i+o)/2),f=n(t[l]),h=void 0!==f,p=null===f,d=f==f,v=Ja(f);if(a)var y=r||d;else y=c?d&&(r||h):s?d&&h&&(r||!p):u?d&&h&&!p&&(r||!v):!p&&!v&&(r?f<=e:f<e);y?i=l+1:o=l}return sn(o,4294967294)}function Xr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ra(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Kr(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Jr(t){if("string"==typeof t)return t;if(Da(t))return pe(t,Jr)+"";if(Ja(t))return Tn?Tn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qr(t,e,n){var r=-1,i=fe,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=he;else if(o>=200){var c=e?null:Mi(t);if(c)return We(c);a=!1,i=Ce,u=new Nn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function Zr(t,e){return null==(t=yo(t,e=si(e,t)))||delete t[Po(jo(e))]}function ti(t,e,n,r){return Vr(t,e,n(fr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?$r(t,r?0:o,r?o+1:i):$r(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof Cn&&(n=n.value()),ve(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function ri(t,e,n){var i=t.length;if(i<2)return i?Qr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=Zn(a[o]||s,t[u],e,n));return Qr(or(a,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function oi(t){return Na(t)?t:[]}function ai(t){return"function"==typeof t?t:Gs}function si(t,e){return Da(t)?t:uo(t,e)?[t]:Eo(ss(t))}var ui=Ur;function ci(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:$r(t,e,n)}var li=Xe||function(t){return Yt.clearTimeout(t)};function fi(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Nt(e).set(new Nt(t)),e}function pi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ja(t),a=void 0!==e,s=null===e,u=e==e,c=Ja(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function vi(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=an(a-s,0),f=r(c+l),h=!i;++u<c;)f[u]=e[u];for(;++o<s;)(h||o<a)&&(f[n[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}function yi(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,f=an(a-u,0),h=r(f+l),p=!i;++o<f;)h[o]=t[o];for(var d=o;++c<l;)h[d+c]=e[c];for(;++s<u;)(p||o<a)&&(h[d+n[s]]=t[o++]);return h}function gi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function mi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?Yn(n,s,u):Wn(n,s,u)}return n}function bi(t,e){return function(n,r){var i=Da(n)?ae:$n,o=e?e():{};return i(n,t,Ki(r,2),o)}}function _i(t){return Ur((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=vt(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function wi(t,e){return function(n,r){if(null==n)return n;if(!Oa(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=vt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function xi(t){return function(e,n,r){for(var i=-1,o=vt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function ki(t){return function(e){var n=je(e=ss(e))?Ge(e):void 0,r=n?n[0]:e.charAt(0),i=n?ci(n,1).join(""):e.slice(1);return r[t]()+i}}function Si(t){return function(e){return ve(Fs(Cs(e).replace(Ct,"")),t,"")}}function Ei(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Rn(t.prototype),r=t.apply(n,e);return Wa(r)?r:n}}function Pi(t){return function(e,n,r){var i=vt(e);if(!Oa(e)){var o=Ki(n,3);e=_s(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Ti(t){return zi((function(e){var n=e.length,r=n,i=Ln.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new mt(o);if(i&&!s&&"wrapper"==qi(a))var s=new Ln([],!0)}for(r=s?r:n;++r<n;){var u=qi(a=e[r]),c="wrapper"==u?Yi(a):void 0;s=c&&co(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[qi(c[0])].apply(s,c[3]):1==a.length&&co(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Da(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ai(t,e,n,i,o,a,s,u,c,l){var f=128&e,h=1&e,p=2&e,d=24&e,v=512&e,y=p?void 0:Ei(t);return function g(){for(var m=arguments.length,b=r(m),_=m;_--;)b[_]=arguments[_];if(d)var w=Xi(g),x=Oe(b,w);if(i&&(b=vi(b,i,o,d)),a&&(b=yi(b,a,s,d)),m-=x,d&&m<l){var k=He(b,w);return Oi(t,e,Ai,g.placeholder,n,b,k,u,c,l-m)}var S=h?n:this,E=p?S[t]:t;return m=b.length,u?b=go(b,u):v&&m>1&&b.reverse(),f&&c<m&&(b.length=c),this&&this!==Yt&&this instanceof g&&(E=y||Ei(E)),E.apply(S,b)}}function Ri(t,e){return function(n,r){return function(t,e,n,r){return ur(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Bi(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Kr(n),r=Kr(r)),i=t(n,r)}return i}}function Li(t){return zi((function(e){return e=pe(e,Be(Ki())),Ur((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Ci(t,e){var n=(e=void 0===e?" ":Jr(e)).length;if(n<2)return n?Mr(e,t):e;var r=Mr(e,Qe(t/$e(e)));return je(e)?ci(Ge(r),0,t).join(""):r.slice(0,t)}function Di(t){return function(e,n,i){return i&&"number"!=typeof i&&so(e,n,i)&&(n=i=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,i){for(var o=-1,a=an(Qe((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=void 0===i?e<n?1:-1:ns(i),t)}}function Ii(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Oi(t,e,n,r,i,o,a,s,u,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return co(t)&&bo(h,f),h.placeholder=r,xo(h,t,e)}function Ni(t){var e=dt[t];return function(t,n){if(t=os(t),(n=null==n?0:sn(rs(n),292))&&nn(t)){var r=(ss(t)+"e").split("e");return+((r=(ss(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Mi=vn&&1/We(new vn([,-0]))[1]==1/0?function(t){return new vn(t)}:Js;function Ui(t){return function(e){var n=no(e);return n==v?Fe(e):n==b?ze(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function ji(t,e,n,i,s,u,c,l){var f=2&e;if(!f&&"function"!=typeof t)throw new mt(o);var h=i?i.length:0;if(h||(e&=-97,i=s=void 0),c=void 0===c?c:an(rs(c),0),l=void 0===l?l:rs(l),h-=s?s.length:0,64&e){var p=i,d=s;i=s=void 0}var v=f?void 0:Yi(t),y=[t,e,n,i,s,p,d,u,c,l];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?vi(c,u,e[4]):u,t[4]=c?He(t[3],a):e[4]}(u=e[5])&&(c=t[5],t[5]=c?yi(c,u,e[6]):u,t[6]=c?He(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(y,v),t=y[0],e=y[1],n=y[2],i=y[3],s=y[4],!(l=y[9]=void 0===y[9]?f?0:t.length:an(y[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)g=8==e||16==e?function(t,e,n){var i=Ei(t);return function o(){for(var a=arguments.length,s=r(a),u=a,c=Xi(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:He(s,c);if((a-=l.length)<n)return Oi(t,e,Ai,o.placeholder,void 0,s,l,void 0,void 0,n-a);var f=this&&this!==Yt&&this instanceof o?i:t;return oe(f,this,s)}}(t,e,l):32!=e&&33!=e||s.length?Ai.apply(void 0,y):function(t,e,n,i){var o=1&e,a=Ei(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),h=this&&this!==Yt&&this instanceof e?a:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return oe(h,o?n:this,f)}}(t,e,n,i);else var g=function(t,e,n){var r=1&e,i=Ei(t);return function e(){var o=this&&this!==Yt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return xo((v?Hr:bo)(g,y),t,e)}function Fi(t,e,n,r){return void 0===t||Ra(t,wt[n])&&!St.call(r,n)?e:t}function Vi(t,e,n,r,i,o){return Wa(t)&&Wa(e)&&(o.set(e,t),Br(t,e,void 0,Vi,o),o.delete(e)),t}function Hi(t){return Ya(t)?void 0:t}function Wi(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var f=-1,h=!0,p=2&n?new Nn:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var d=t[f],v=e[f];if(r)var y=a?r(v,d,f,e,t,o):r(d,v,f,t,e,o);if(void 0!==y){if(y)continue;h=!1;break}if(p){if(!ge(e,(function(t,e){if(!Ce(p,e)&&(d===t||i(d,t,n,r,o)))return p.push(e)}))){h=!1;break}}else if(d!==v&&!i(d,v,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function zi(t){return wo(vo(t,void 0,Io),t+"")}function $i(t){return hr(t,_s,to)}function Gi(t){return hr(t,ws,eo)}var Yi=mn?function(t){return mn.get(t)}:Js;function qi(t){for(var e=t.name+"",n=bn[e],r=St.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Xi(t){return(St.call(An,"placeholder")?An:t).placeholder}function Ki(){var t=An.iteratee||Ys;return t=t===Ys?kr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ji(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Qi(t){for(var e=_s(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Zi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return xr(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=vt(t),le(tn(t),(function(e){return qt.call(t,e)})))}:iu,eo=tn?function(t){for(var e=[];t;)de(e,to(t)),t=$t(t);return e}:iu,no=pr;function ro(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var a=Po(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ha(i)&&ao(a,i)&&(Da(t)||Ca(t))}function io(t){return"function"!=typeof t.constructor||fo(t)?{}:Rn($t(t))}function oo(t){return Da(t)||Ca(t)||!!(Jt&&t&&t[Jt])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ut.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Wa(n))return!1;var r=typeof e;return!!("number"==r?Oa(n)&&ao(e,n.length):"string"==r&&e in n)&&Ra(n[e],t)}function uo(t,e){if(Da(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ja(t))||(z.test(t)||!W.test(t)||null!=e&&t in vt(e))}function co(t){var e=qi(t),n=An[e];if("function"!=typeof n||!(e in Cn.prototype))return!1;if(t===n)return!0;var r=Yi(n);return!!r&&t===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=S||pn&&no(new pn)!=v||dn&&"[object Promise]"!=no(dn.resolve())||vn&&no(new vn)!=b||yn&&no(new yn)!=x)&&(no=function(t){var e=pr(t),n=e==g?t.constructor:void 0,r=n?To(n):"";if(r)switch(r){case _n:return S;case wn:return v;case xn:return"[object Promise]";case kn:return b;case Sn:return x}return e});var lo=xt?Fa:ou;function fo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function ho(t){return t==t&&!Wa(t)}function po(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in vt(n)))}}function vo(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),oe(t,this,u)}}function yo(t,e){return e.length<2?t:fr(t,$r(e,0,-1))}function go(t,e){for(var n=t.length,r=sn(e.length,n),i=gi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function mo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bo=ko(Hr),_o=Je||function(t,e){return Yt.setTimeout(t,e)},wo=ko(Wr);function xo(t,e,n){var r=e+"";return wo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(J,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return se(s,(function(n){var r="_."+n[0];e&n[1]&&!fe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split(Z):[]}(r),n)))}function ko(t){var e=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function So(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Nr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Eo=function(t){var e=ka(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace($,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function Po(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function To(t){if(null!=t){try{return kt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ao(t){if(t instanceof Cn)return t.clone();var e=new Ln(t.__wrapped__,t.__chain__);return e.__actions__=gi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ro=Ur((function(t,e){return Na(t)?Zn(t,or(e,1,Na,!0)):[]})),Bo=Ur((function(t,e){var n=jo(e);return Na(n)&&(n=void 0),Na(t)?Zn(t,or(e,1,Na,!0),Ki(n,2)):[]})),Lo=Ur((function(t,e){var n=jo(e);return Na(n)&&(n=void 0),Na(t)?Zn(t,or(e,1,Na,!0),void 0,n):[]}));function Co(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),_e(t,Ki(e,3),i)}function Do(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?an(r+i,0):sn(i,r-1)),_e(t,Ki(e,3),i,!0)}function Io(t){return(null==t?0:t.length)?or(t,1):[]}function Oo(t){return t&&t.length?t[0]:void 0}var No=Ur((function(t){var e=pe(t,oi);return e.length&&e[0]===t[0]?gr(e):[]})),Mo=Ur((function(t){var e=jo(t),n=pe(t,oi);return e===jo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?gr(n,Ki(e,2)):[]})),Uo=Ur((function(t){var e=jo(t),n=pe(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?gr(n,void 0,e):[]}));function jo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Fo=Ur(Vo);function Vo(t,e){return t&&t.length&&e&&e.length?Ir(t,e):t}var Ho=zi((function(t,e){var n=null==t?0:t.length,r=qn(t,e);return Or(t,pe(e,(function(t){return ao(t,n)?+t:t})).sort(di)),r}));function Wo(t){return null==t?t:fn.call(t)}var zo=Ur((function(t){return Qr(or(t,1,Na,!0))})),$o=Ur((function(t){var e=jo(t);return Na(e)&&(e=void 0),Qr(or(t,1,Na,!0),Ki(e,2))})),Go=Ur((function(t){var e=jo(t);return e="function"==typeof e?e:void 0,Qr(or(t,1,Na,!0),void 0,e)}));function Yo(t){if(!t||!t.length)return[];var e=0;return t=le(t,(function(t){if(Na(t))return e=an(t.length,e),!0})),Re(e,(function(e){return pe(t,Ee(e))}))}function qo(t,e){if(!t||!t.length)return[];var n=Yo(t);return null==e?n:pe(n,(function(t){return oe(e,void 0,t)}))}var Xo=Ur((function(t,e){return Na(t)?Zn(t,e):[]})),Ko=Ur((function(t){return ri(le(t,Na))})),Jo=Ur((function(t){var e=jo(t);return Na(e)&&(e=void 0),ri(le(t,Na),Ki(e,2))})),Qo=Ur((function(t){var e=jo(t);return e="function"==typeof e?e:void 0,ri(le(t,Na),void 0,e)})),Zo=Ur(Yo);var ta=Ur((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,qo(t,n)}));function ea(t){var e=An(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=zi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return qn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Cn&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new Ln(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=bi((function(t,e,n){St.call(t,n)?++t[n]:Yn(t,n,1)}));var oa=Pi(Co),aa=Pi(Do);function sa(t,e){return(Da(t)?se:tr)(t,Ki(e,3))}function ua(t,e){return(Da(t)?ue:er)(t,Ki(e,3))}var ca=bi((function(t,e,n){St.call(t,n)?t[n].push(e):Yn(t,n,[e])}));var la=Ur((function(t,e,n){var i=-1,o="function"==typeof e,a=Oa(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?oe(e,t,n):mr(t,e,n)})),a})),fa=bi((function(t,e,n){Yn(t,n,e)}));function ha(t,e){return(Da(t)?pe:Tr)(t,Ki(e,3))}var pa=bi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var da=Ur((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Cr(t,or(e,1),[])})),va=Ke||function(){return Yt.Date.now()};function ya(t,e,n){return e=n?void 0:e,ji(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ga(t,e){var n;if("function"!=typeof e)throw new mt(o);return t=rs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ma=Ur((function(t,e,n){var r=1;if(n.length){var i=He(n,Xi(ma));r|=32}return ji(t,r,e,n,i)})),ba=Ur((function(t,e,n){var r=3;if(n.length){var i=He(n,Xi(ba));r|=32}return ji(e,r,t,n,i)}));function _a(t,e,n){var r,i,a,s,u,c,l=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new mt(o);function d(e){var n=r,o=i;return r=i=void 0,l=e,s=t.apply(o,n)}function v(t){return l=t,u=_o(g,e),f?d(t):s}function y(t){var n=t-c;return void 0===c||n>=e||n<0||h&&t-l>=a}function g(){var t=va();if(y(t))return m(t);u=_o(g,function(t){var n=e-(t-c);return h?sn(n,a-(t-l)):n}(t))}function m(t){return u=void 0,p&&r?d(t):(r=i=void 0,s)}function b(){var t=va(),n=y(t);if(r=arguments,i=this,c=t,n){if(void 0===u)return v(c);if(h)return li(u),u=_o(g,e),d(c)}return void 0===u&&(u=_o(g,e)),s}return e=os(e)||0,Wa(n)&&(f=!!n.leading,a=(h="maxWait"in n)?an(os(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==u&&li(u),l=0,r=c=i=u=void 0},b.flush=function(){return void 0===u?s:m(va())},b}var wa=Ur((function(t,e){return Qn(t,1,e)})),xa=Ur((function(t,e,n){return Qn(t,os(e)||0,n)}));function ka(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new mt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ka.Cache||On),n}function Sa(t){if("function"!=typeof t)throw new mt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ka.Cache=On;var Ea=ui((function(t,e){var n=(e=1==e.length&&Da(e[0])?pe(e[0],Be(Ki())):pe(or(e,1),Be(Ki()))).length;return Ur((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Pa=Ur((function(t,e){return ji(t,32,void 0,e,He(e,Xi(Pa)))})),Ta=Ur((function(t,e){return ji(t,64,void 0,e,He(e,Xi(Ta)))})),Aa=zi((function(t,e){return ji(t,256,void 0,void 0,void 0,e)}));function Ra(t,e){return t===e||t!=t&&e!=e}var Ba=Ii(dr),La=Ii((function(t,e){return t>=e})),Ca=br(function(){return arguments}())?br:function(t){return za(t)&&St.call(t,"callee")&&!qt.call(t,"callee")},Da=r.isArray,Ia=Zt?Be(Zt):function(t){return za(t)&&pr(t)==k};function Oa(t){return null!=t&&Ha(t.length)&&!Fa(t)}function Na(t){return za(t)&&Oa(t)}var Ma=en||ou,Ua=te?Be(te):function(t){return za(t)&&pr(t)==f};function ja(t){if(!za(t))return!1;var e=pr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ya(t)}function Fa(t){if(!Wa(t))return!1;var e=pr(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Va(t){return"number"==typeof t&&t==rs(t)}function Ha(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Wa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function za(t){return null!=t&&"object"==typeof t}var $a=ee?Be(ee):function(t){return za(t)&&no(t)==v};function Ga(t){return"number"==typeof t||za(t)&&pr(t)==y}function Ya(t){if(!za(t)||pr(t)!=g)return!1;var e=$t(t);if(null===e)return!0;var n=St.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&kt.call(n)==At}var qa=ne?Be(ne):function(t){return za(t)&&pr(t)==m};var Xa=re?Be(re):function(t){return za(t)&&no(t)==b};function Ka(t){return"string"==typeof t||!Da(t)&&za(t)&&pr(t)==_}function Ja(t){return"symbol"==typeof t||za(t)&&pr(t)==w}var Qa=ie?Be(ie):function(t){return za(t)&&Ha(t.length)&&!!Ft[pr(t)]};var Za=Ii(Pr),ts=Ii((function(t,e){return t<=e}));function es(t){if(!t)return[];if(Oa(t))return Ka(t)?Ge(t):gi(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=no(t);return(e==v?Fe:e==b?We:Rs)(t)}function ns(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function rs(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function is(t){return t?Xn(rs(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(Wa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Wa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(q,"");var n=ot.test(t);return n||st.test(t)?zt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function as(t){return mi(t,ws(t))}function ss(t){return null==t?"":Jr(t)}var us=_i((function(t,e){if(fo(e)||Oa(e))mi(e,_s(e),t);else for(var n in e)St.call(e,n)&&Wn(t,n,e[n])})),cs=_i((function(t,e){mi(e,ws(e),t)})),ls=_i((function(t,e,n,r){mi(e,ws(e),t,r)})),fs=_i((function(t,e,n,r){mi(e,_s(e),t,r)})),hs=zi(qn);var ps=Ur((function(t,e){t=vt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=ws(o),s=-1,u=a.length;++s<u;){var c=a[s],l=t[c];(void 0===l||Ra(l,wt[c])&&!St.call(t,c))&&(t[c]=o[c])}return t})),ds=Ur((function(t){return t.push(void 0,Vi),oe(ks,void 0,t)}));function vs(t,e,n){var r=null==t?void 0:fr(t,e);return void 0===r?n:r}function ys(t,e){return null!=t&&ro(t,e,yr)}var gs=Ri((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),t[e]=n}),Ws(Gs)),ms=Ri((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),St.call(t,e)?t[e].push(n):t[e]=[n]}),Ki),bs=Ur(mr);function _s(t){return Oa(t)?Un(t):Sr(t)}function ws(t){return Oa(t)?Un(t,!0):Er(t)}var xs=_i((function(t,e,n){Br(t,e,n)})),ks=_i((function(t,e,n,r){Br(t,e,n,r)})),Ss=zi((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),mi(t,Gi(t),n),r&&(n=Kn(n,7,Hi));for(var i=e.length;i--;)Zr(n,e[i]);return n}));var Es=zi((function(t,e){return null==t?{}:function(t,e){return Dr(t,e,(function(e,n){return ys(t,n)}))}(t,e)}));function Ps(t,e){if(null==t)return{};var n=pe(Gi(t),(function(t){return[t]}));return e=Ki(e),Dr(t,n,(function(t,n){return e(t,n[0])}))}var Ts=Ui(_s),As=Ui(ws);function Rs(t){return null==t?[]:Le(t,_s(t))}var Bs=Si((function(t,e,n){return e=e.toLowerCase(),t+(n?Ls(e):e)}));function Ls(t){return js(ss(t).toLowerCase())}function Cs(t){return(t=ss(t))&&t.replace(ct,Ne).replace(Dt,"")}var Ds=Si((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Is=Si((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Os=ki("toLowerCase");var Ns=Si((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ms=Si((function(t,e,n){return t+(n?" ":"")+js(e)}));var Us=Si((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),js=ki("toUpperCase");function Fs(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return Mt.test(t)}(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Vs=Ur((function(t,e){try{return oe(t,void 0,e)}catch(t){return ja(t)?t:new ht(t)}})),Hs=zi((function(t,e){return se(e,(function(e){e=Po(e),Yn(t,e,ma(t[e],t))})),t}));function Ws(t){return function(){return t}}var zs=Ti(),$s=Ti(!0);function Gs(t){return t}function Ys(t){return kr("function"==typeof t?t:Kn(t,1))}var qs=Ur((function(t,e){return function(n){return mr(n,t,e)}})),Xs=Ur((function(t,e){return function(n){return mr(t,n,e)}}));function Ks(t,e,n){var r=_s(e),i=lr(e,r);null!=n||Wa(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=lr(e,_s(e)));var o=!(Wa(n)&&"chain"in n&&!n.chain),a=Fa(t);return se(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function Js(){}var Qs=Li(pe),Zs=Li(ce),tu=Li(ge);function eu(t){return uo(t)?Ee(Po(t)):function(t){return function(e){return fr(e,t)}}(t)}var nu=Di(),ru=Di(!0);function iu(){return[]}function ou(){return!1}var au=Bi((function(t,e){return t+e}),0),su=Ni("ceil"),uu=Bi((function(t,e){return t/e}),1),cu=Ni("floor");var lu,fu=Bi((function(t,e){return t*e}),1),hu=Ni("round"),pu=Bi((function(t,e){return t-e}),0);return An.after=function(t,e){if("function"!=typeof e)throw new mt(o);return t=rs(t),function(){if(--t<1)return e.apply(this,arguments)}},An.ary=ya,An.assign=us,An.assignIn=cs,An.assignInWith=ls,An.assignWith=fs,An.at=hs,An.before=ga,An.bind=ma,An.bindAll=Hs,An.bindKey=ba,An.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Da(t)?t:[t]},An.chain=ea,An.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:an(rs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=r(Qe(i/e));o<i;)s[a++]=$r(t,o,o+=e);return s},An.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},An.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(Da(n)?gi(n):[n],or(e,1))},An.cond=function(t){var e=null==t?0:t.length,n=Ki();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new mt(o);return[n(t[0]),t[1]]})):[],Ur((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},An.conforms=function(t){return function(t){var e=_s(t);return function(n){return Jn(n,t,e)}}(Kn(t,1))},An.constant=Ws,An.countBy=ia,An.create=function(t,e){var n=Rn(t);return null==e?n:Gn(n,e)},An.curry=function t(e,n,r){var i=ji(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},An.curryRight=function t(e,n,r){var i=ji(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},An.debounce=_a,An.defaults=ps,An.defaultsDeep=ds,An.defer=wa,An.delay=xa,An.difference=Ro,An.differenceBy=Bo,An.differenceWith=Lo,An.drop=function(t,e,n){var r=null==t?0:t.length;return r?$r(t,(e=n||void 0===e?1:rs(e))<0?0:e,r):[]},An.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?$r(t,0,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e):[]},An.dropRightWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3),!0,!0):[]},An.dropWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3),!0):[]},An.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},An.filter=function(t,e){return(Da(t)?le:ir)(t,Ki(e,3))},An.flatMap=function(t,e){return or(ha(t,e),1)},An.flatMapDeep=function(t,e){return or(ha(t,e),1/0)},An.flatMapDepth=function(t,e,n){return n=void 0===n?1:rs(n),or(ha(t,e),n)},An.flatten=Io,An.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},An.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:rs(e)):[]},An.flip=function(t){return ji(t,512)},An.flow=zs,An.flowRight=$s,An.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},An.functions=function(t){return null==t?[]:lr(t,_s(t))},An.functionsIn=function(t){return null==t?[]:lr(t,ws(t))},An.groupBy=ca,An.initial=function(t){return(null==t?0:t.length)?$r(t,0,-1):[]},An.intersection=No,An.intersectionBy=Mo,An.intersectionWith=Uo,An.invert=gs,An.invertBy=ms,An.invokeMap=la,An.iteratee=Ys,An.keyBy=fa,An.keys=_s,An.keysIn=ws,An.map=ha,An.mapKeys=function(t,e){var n={};return e=Ki(e,3),ur(t,(function(t,r,i){Yn(n,e(t,r,i),t)})),n},An.mapValues=function(t,e){var n={};return e=Ki(e,3),ur(t,(function(t,r,i){Yn(n,r,e(t,r,i))})),n},An.matches=function(t){return Ar(Kn(t,1))},An.matchesProperty=function(t,e){return Rr(t,Kn(e,1))},An.memoize=ka,An.merge=xs,An.mergeWith=ks,An.method=qs,An.methodOf=Xs,An.mixin=Ks,An.negate=Sa,An.nthArg=function(t){return t=rs(t),Ur((function(e){return Lr(e,t)}))},An.omit=Ss,An.omitBy=function(t,e){return Ps(t,Sa(Ki(e)))},An.once=function(t){return ga(2,t)},An.orderBy=function(t,e,n,r){return null==t?[]:(Da(e)||(e=null==e?[]:[e]),Da(n=r?void 0:n)||(n=null==n?[]:[n]),Cr(t,e,n))},An.over=Qs,An.overArgs=Ea,An.overEvery=Zs,An.overSome=tu,An.partial=Pa,An.partialRight=Ta,An.partition=pa,An.pick=Es,An.pickBy=Ps,An.property=eu,An.propertyOf=function(t){return function(e){return null==t?void 0:fr(t,e)}},An.pull=Fo,An.pullAll=Vo,An.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ir(t,e,Ki(n,2)):t},An.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ir(t,e,void 0,n):t},An.pullAt=Ho,An.range=nu,An.rangeRight=ru,An.rearg=Aa,An.reject=function(t,e){return(Da(t)?le:ir)(t,Sa(Ki(e,3)))},An.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ki(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Or(t,i),n},An.rest=function(t,e){if("function"!=typeof t)throw new mt(o);return Ur(t,e=void 0===e?e:rs(e))},An.reverse=Wo,An.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),(Da(t)?Fn:Fr)(t,e)},An.set=function(t,e,n){return null==t?t:Vr(t,e,n)},An.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Vr(t,e,n,r)},An.shuffle=function(t){return(Da(t)?Vn:zr)(t)},An.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:rs(e),n=void 0===n?r:rs(n)),$r(t,e,n)):[]},An.sortBy=da,An.sortedUniq=function(t){return t&&t.length?Xr(t):[]},An.sortedUniqBy=function(t,e){return t&&t.length?Xr(t,Ki(e,2)):[]},An.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!qa(e))&&!(e=Jr(e))&&je(t)?ci(Ge(t),0,n):t.split(e,n):[]},An.spread=function(t,e){if("function"!=typeof t)throw new mt(o);return e=null==e?0:an(rs(e),0),Ur((function(n){var r=n[e],i=ci(n,0,e);return r&&de(i,r),oe(t,this,i)}))},An.tail=function(t){var e=null==t?0:t.length;return e?$r(t,1,e):[]},An.take=function(t,e,n){return t&&t.length?$r(t,0,(e=n||void 0===e?1:rs(e))<0?0:e):[]},An.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?$r(t,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e,r):[]},An.takeRightWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3),!1,!0):[]},An.takeWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3)):[]},An.tap=function(t,e){return e(t),t},An.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new mt(o);return Wa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_a(t,e,{leading:r,maxWait:e,trailing:i})},An.thru=na,An.toArray=es,An.toPairs=Ts,An.toPairsIn=As,An.toPath=function(t){return Da(t)?pe(t,Po):Ja(t)?[t]:gi(Eo(ss(t)))},An.toPlainObject=as,An.transform=function(t,e,n){var r=Da(t),i=r||Ma(t)||Qa(t);if(e=Ki(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Wa(t)&&Fa(o)?Rn($t(t)):{}}return(i?se:ur)(t,(function(t,r,i){return e(n,t,r,i)})),n},An.unary=function(t){return ya(t,1)},An.union=zo,An.unionBy=$o,An.unionWith=Go,An.uniq=function(t){return t&&t.length?Qr(t):[]},An.uniqBy=function(t,e){return t&&t.length?Qr(t,Ki(e,2)):[]},An.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qr(t,void 0,e):[]},An.unset=function(t,e){return null==t||Zr(t,e)},An.unzip=Yo,An.unzipWith=qo,An.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},An.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},An.values=Rs,An.valuesIn=function(t){return null==t?[]:Le(t,ws(t))},An.without=Xo,An.words=Fs,An.wrap=function(t,e){return Pa(ai(e),t)},An.xor=Ko,An.xorBy=Jo,An.xorWith=Qo,An.zip=Zo,An.zipObject=function(t,e){return ii(t||[],e||[],Wn)},An.zipObjectDeep=function(t,e){return ii(t||[],e||[],Vr)},An.zipWith=ta,An.entries=Ts,An.entriesIn=As,An.extend=cs,An.extendWith=ls,Ks(An,An),An.add=au,An.attempt=Vs,An.camelCase=Bs,An.capitalize=Ls,An.ceil=su,An.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Xn(os(t),e,n)},An.clone=function(t){return Kn(t,4)},An.cloneDeep=function(t){return Kn(t,5)},An.cloneDeepWith=function(t,e){return Kn(t,5,e="function"==typeof e?e:void 0)},An.cloneWith=function(t,e){return Kn(t,4,e="function"==typeof e?e:void 0)},An.conformsTo=function(t,e){return null==e||Jn(t,e,_s(e))},An.deburr=Cs,An.defaultTo=function(t,e){return null==t||t!=t?e:t},An.divide=uu,An.endsWith=function(t,e,n){t=ss(t),e=Jr(e);var r=t.length,i=n=void 0===n?r:Xn(rs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},An.eq=Ra,An.escape=function(t){return(t=ss(t))&&j.test(t)?t.replace(M,Me):t},An.escapeRegExp=function(t){return(t=ss(t))&&Y.test(t)?t.replace(G,"\\$&"):t},An.every=function(t,e,n){var r=Da(t)?ce:nr;return n&&so(t,e,n)&&(e=void 0),r(t,Ki(e,3))},An.find=oa,An.findIndex=Co,An.findKey=function(t,e){return be(t,Ki(e,3),ur)},An.findLast=aa,An.findLastIndex=Do,An.findLastKey=function(t,e){return be(t,Ki(e,3),cr)},An.floor=cu,An.forEach=sa,An.forEachRight=ua,An.forIn=function(t,e){return null==t?t:ar(t,Ki(e,3),ws)},An.forInRight=function(t,e){return null==t?t:sr(t,Ki(e,3),ws)},An.forOwn=function(t,e){return t&&ur(t,Ki(e,3))},An.forOwnRight=function(t,e){return t&&cr(t,Ki(e,3))},An.get=vs,An.gt=Ba,An.gte=La,An.has=function(t,e){return null!=t&&ro(t,e,vr)},An.hasIn=ys,An.head=Oo,An.identity=Gs,An.includes=function(t,e,n,r){t=Oa(t)?t:Rs(t),n=n&&!r?rs(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Ka(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&we(t,e,n)>-1},An.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),we(t,e,i)},An.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=sn(e,n)&&t<an(e,n)}(t=os(t),e,n)},An.invoke=bs,An.isArguments=Ca,An.isArray=Da,An.isArrayBuffer=Ia,An.isArrayLike=Oa,An.isArrayLikeObject=Na,An.isBoolean=function(t){return!0===t||!1===t||za(t)&&pr(t)==l},An.isBuffer=Ma,An.isDate=Ua,An.isElement=function(t){return za(t)&&1===t.nodeType&&!Ya(t)},An.isEmpty=function(t){if(null==t)return!0;if(Oa(t)&&(Da(t)||"string"==typeof t||"function"==typeof t.splice||Ma(t)||Qa(t)||Ca(t)))return!t.length;var e=no(t);if(e==v||e==b)return!t.size;if(fo(t))return!Sr(t).length;for(var n in t)if(St.call(t,n))return!1;return!0},An.isEqual=function(t,e){return _r(t,e)},An.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?_r(t,e,void 0,n):!!r},An.isError=ja,An.isFinite=function(t){return"number"==typeof t&&nn(t)},An.isFunction=Fa,An.isInteger=Va,An.isLength=Ha,An.isMap=$a,An.isMatch=function(t,e){return t===e||wr(t,e,Qi(e))},An.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Qi(e),n)},An.isNaN=function(t){return Ga(t)&&t!=+t},An.isNative=function(t){if(lo(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(t)},An.isNil=function(t){return null==t},An.isNull=function(t){return null===t},An.isNumber=Ga,An.isObject=Wa,An.isObjectLike=za,An.isPlainObject=Ya,An.isRegExp=qa,An.isSafeInteger=function(t){return Va(t)&&t>=-9007199254740991&&t<=9007199254740991},An.isSet=Xa,An.isString=Ka,An.isSymbol=Ja,An.isTypedArray=Qa,An.isUndefined=function(t){return void 0===t},An.isWeakMap=function(t){return za(t)&&no(t)==x},An.isWeakSet=function(t){return za(t)&&"[object WeakSet]"==pr(t)},An.join=function(t,e){return null==t?"":rn.call(t,e)},An.kebabCase=Ds,An.last=jo,An.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?an(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):_e(t,ke,i,!0)},An.lowerCase=Is,An.lowerFirst=Os,An.lt=Za,An.lte=ts,An.max=function(t){return t&&t.length?rr(t,Gs,dr):void 0},An.maxBy=function(t,e){return t&&t.length?rr(t,Ki(e,2),dr):void 0},An.mean=function(t){return Se(t,Gs)},An.meanBy=function(t,e){return Se(t,Ki(e,2))},An.min=function(t){return t&&t.length?rr(t,Gs,Pr):void 0},An.minBy=function(t,e){return t&&t.length?rr(t,Ki(e,2),Pr):void 0},An.stubArray=iu,An.stubFalse=ou,An.stubObject=function(){return{}},An.stubString=function(){return""},An.stubTrue=function(){return!0},An.multiply=fu,An.nth=function(t,e){return t&&t.length?Lr(t,rs(e)):void 0},An.noConflict=function(){return Yt._===this&&(Yt._=Rt),this},An.noop=Js,An.now=va,An.pad=function(t,e,n){t=ss(t);var r=(e=rs(e))?$e(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ci(Ze(i),n)+t+Ci(Qe(i),n)},An.padEnd=function(t,e,n){t=ss(t);var r=(e=rs(e))?$e(t):0;return e&&r<e?t+Ci(e-r,n):t},An.padStart=function(t,e,n){t=ss(t);var r=(e=rs(e))?$e(t):0;return e&&r<e?Ci(e-r,n)+t:t},An.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),cn(ss(t).replace(X,""),e||0)},An.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ln();return sn(t+i*(e-t+Wt("1e-"+((i+"").length-1))),e)}return Nr(t,e)},An.reduce=function(t,e,n){var r=Da(t)?ve:Te,i=arguments.length<3;return r(t,Ki(e,4),n,i,tr)},An.reduceRight=function(t,e,n){var r=Da(t)?ye:Te,i=arguments.length<3;return r(t,Ki(e,4),n,i,er)},An.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),Mr(ss(t),e)},An.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},An.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[Po(e[r])];void 0===o&&(r=i,o=n),t=Fa(o)?o.call(t):o}return t},An.round=hu,An.runInContext=t,An.sample=function(t){return(Da(t)?jn:jr)(t)},An.size=function(t){if(null==t)return 0;if(Oa(t))return Ka(t)?$e(t):t.length;var e=no(t);return e==v||e==b?t.size:Sr(t).length},An.snakeCase=Ns,An.some=function(t,e,n){var r=Da(t)?ge:Gr;return n&&so(t,e,n)&&(e=void 0),r(t,Ki(e,3))},An.sortedIndex=function(t,e){return Yr(t,e)},An.sortedIndexBy=function(t,e,n){return qr(t,e,Ki(n,2))},An.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Yr(t,e);if(r<n&&Ra(t[r],e))return r}return-1},An.sortedLastIndex=function(t,e){return Yr(t,e,!0)},An.sortedLastIndexBy=function(t,e,n){return qr(t,e,Ki(n,2),!0)},An.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Yr(t,e,!0)-1;if(Ra(t[n],e))return n}return-1},An.startCase=Ms,An.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Xn(rs(n),0,t.length),e=Jr(e),t.slice(n,n+e.length)==e},An.subtract=pu,An.sum=function(t){return t&&t.length?Ae(t,Gs):0},An.sumBy=function(t,e){return t&&t.length?Ae(t,Ki(e,2)):0},An.template=function(t,e,n){var r=An.templateSettings;n&&so(t,e,n)&&(e=void 0),t=ss(t),e=ls({},e,r,Fi);var i,o,a=ls({},e.imports,r.imports,Fi),s=_s(a),u=Le(a,s),c=0,l=e.interpolate||lt,f="__p += '",h=yt((e.escape||lt).source+"|"+l.source+"|"+(l===H?nt:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),p="//# sourceURL="+(St.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jt+"]")+"\n";t.replace(h,(function(e,n,r,a,s,u){return r||(r=a),f+=t.slice(c,u).replace(ft,Ue),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var d=St.call(e,"variable")&&e.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(D,""):f).replace(I,"$1").replace(O,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Vs((function(){return pt(s,p+"return "+f).apply(void 0,u)}));if(v.source=f,ja(v))throw v;return v},An.times=function(t,e){if((t=rs(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Re(r,e=Ki(e));++n<t;)e(n);return i},An.toFinite=ns,An.toInteger=rs,An.toLength=is,An.toLower=function(t){return ss(t).toLowerCase()},An.toNumber=os,An.toSafeInteger=function(t){return t?Xn(rs(t),-9007199254740991,9007199254740991):0===t?t:0},An.toString=ss,An.toUpper=function(t){return ss(t).toUpperCase()},An.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(q,"");if(!t||!(e=Jr(e)))return t;var r=Ge(t),i=Ge(e);return ci(r,De(r,i),Ie(r,i)+1).join("")},An.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Jr(e)))return t;var r=Ge(t);return ci(r,0,Ie(r,Ge(e))+1).join("")},An.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Jr(e)))return t;var r=Ge(t);return ci(r,De(r,Ge(e))).join("")},An.truncate=function(t,e){var n=30,r="...";if(Wa(e)){var i="separator"in e?e.separator:i;n="length"in e?rs(e.length):n,r="omission"in e?Jr(e.omission):r}var o=(t=ss(t)).length;if(je(t)){var a=Ge(t);o=a.length}if(n>=o)return t;var s=n-$e(r);if(s<1)return r;var u=a?ci(a,0,s).join(""):t.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),qa(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=yt(i.source,ss(rt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,void 0===f?s:f)}}else if(t.indexOf(Jr(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},An.unescape=function(t){return(t=ss(t))&&U.test(t)?t.replace(N,Ye):t},An.uniqueId=function(t){var e=++Et;return ss(t)+e},An.upperCase=Us,An.upperFirst=js,An.each=sa,An.eachRight=ua,An.first=Oo,Ks(An,(lu={},ur(An,(function(t,e){St.call(An.prototype,e)||(lu[e]=t)})),lu),{chain:!1}),An.VERSION="4.17.20",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){An[t].placeholder=An})),se(["drop","take"],(function(t,e){Cn.prototype[t]=function(n){n=void 0===n?1:an(rs(n),0);var r=this.__filtered__&&!e?new Cn(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Cn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Cn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ki(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Cn.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Cn.prototype[t]=function(){return this.__filtered__?new Cn(this):this[n](1)}})),Cn.prototype.compact=function(){return this.filter(Gs)},Cn.prototype.find=function(t){return this.filter(t).head()},Cn.prototype.findLast=function(t){return this.reverse().find(t)},Cn.prototype.invokeMap=Ur((function(t,e){return"function"==typeof t?new Cn(this):this.map((function(n){return mr(n,t,e)}))})),Cn.prototype.reject=function(t){return this.filter(Sa(Ki(t)))},Cn.prototype.slice=function(t,e){t=rs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Cn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=rs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Cn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Cn.prototype.toArray=function(){return this.take(4294967295)},ur(Cn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=An[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(An.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Cn,u=a[0],c=s||Da(e),l=function(t){var e=i.apply(An,de([t],a));return r&&f?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,d=s&&!h;if(!o&&c){e=d?e:new Cn(this);var v=t.apply(e,a);return v.__actions__.push({func:na,args:[l],thisArg:void 0}),new Ln(v,f)}return p&&d?t.apply(this,a):(v=this.thru(l),p?r?v.value()[0]:v.value():v)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=bt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);An.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Da(i)?i:[],t)}return this[n]((function(n){return e.apply(Da(n)?n:[],t)}))}})),ur(Cn.prototype,(function(t,e){var n=An[e];if(n){var r=n.name+"";St.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[Ai(void 0,2).name]=[{name:"wrapper",func:void 0}],Cn.prototype.clone=function(){var t=new Cn(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},Cn.prototype.reverse=function(){if(this.__filtered__){var t=new Cn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Cn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Da(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=sn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return ni(t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var v=-1,y=t[c+=e];++v<f;){var g=l[v],m=g.iteratee,b=g.type,_=m(y);if(2==b)y=_;else if(!_){if(1==b)continue t;break t}}d[h++]=y}return d},An.prototype.at=ra,An.prototype.chain=function(){return ea(this)},An.prototype.commit=function(){return new Ln(this.value(),this.__chain__)},An.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},An.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var r=Ao(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},An.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Cn){var e=t;return this.__actions__.length&&(e=new Cn(this)),(e=e.reverse()).__actions__.push({func:na,args:[Wo],thisArg:void 0}),new Ln(e,this.__chain__)}return this.thru(Wo)},An.prototype.toJSON=An.prototype.valueOf=An.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},An.prototype.first=An.prototype.head,Qt&&(An.prototype[Qt]=function(){return this}),An}();Yt._=qe,void 0===(i=function(){return qe}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(36),n(129)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";t.exports={data:n(131),read:n(87),save:n(135),resize:n(136),sat:n(137),ssat:n(138),sobel:n(139),scharr:n(140),areaSum:n(89),areaValue:n(141),rgb2gray:n(40),flip:n(142)}},function(t,e,n){"use strict";(function(e){var r=n(132),i=n(87),o=r.join(r.resolve(e),"../../data");function a(t){return i(r.join(o,t))}var s={};Object.defineProperty(s,"digit",{get:function(){return a("five.png")}}),Object.defineProperty(s,"five",{get:function(){return a("five.png")}}),Object.defineProperty(s,"node",{get:function(){return a("nodejs.png")}}),Object.defineProperty(s,"lena",{get:function(){return a("lenna.png")}}),Object.defineProperty(s,"lenna",{get:function(){return a("lenna.png")}}),Object.defineProperty(s,"moon",{get:function(){return a("moon.jpg")}}),t.exports=s}).call(this,"/")},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(133))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(24),i=n(18),o=r({args:["array","array","array"],pre:function(){this.isgray=!0},body:function(t,e,n){t===e&&e===n||(this.isgray=!1)},post:function(){return this.isgray}});t.exports=function(t){t instanceof i&&(t=t.selection);var e=t.shape;return 1!==e.length&&(2===e.length||3===e.length&&1===e[2]||3===e.length&&(3===e[2]||4===e[2])&&o(t.pick(null,null,0),t.pick(null,null,1),t.pick(null,null,2)))}},function(t,e,n){"use strict";var r=n(88),i=n(49);t.exports=function(t,e){var n=t.shape,o=n[0],a=n[1];if(!(e instanceof HTMLCanvasElement))throw new i.ValueError("expect input to be either an HTML Canvas or a (loaded) Image");var s=document.createElement("canvas");s.height=o,s.width=a;var u=s.getContext("2d"),c=u.createImageData(a,o),l=r.setRawData(t.selection,c.data);if(l)throw l;u.putImageData(c,0,0),u.drawImage(s,a,o),e.getContext("2d").drawImage(s,0,0,a,o,0,0,e.width,e.height)}},function(t,e,n){"use strict";var r=n(88),i=n(37),o=n(18);t.exports=function(t,e,n){var a=t.shape,s=a[0],u=a[1],c=a[2]||1,l=document.createElement("canvas");l.height=s,l.width=u;var f=l.getContext("2d"),h=f.createImageData(u,s),p=r.setRawData(t.selection,h.data);if(p)throw p;var d=s/e,v=u/n,y=Math.min(d,v),g=e*y,m=n*y,b=(s-y*e)/2,_=(u-y*n)/2;f.putImageData(h,0,0),f.drawImage(l,_,b,m,g,0,0,n,e);var w=f.getImageData(0,0,n,e),x=[0|n,0|e,4],k=[4,4*n|0,1],S=i(new Uint8Array(w.data),x,k,0).transpose(1,0);return(2===a.length||3===a.length&&1===c)&&(S=S.pick(null,null,0)),new o(S)}},function(t,e,n){"use strict";var r=n(24),i=n(18),o=n(40),a=r({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],body:function(t,e,n,r,i,o){0!==n[0]&&0!==n[1]?e+i+o-r:0===n[0]&&0===n[1]?e:0===n[0]?e+o:e+i}});t.exports=function(t){var e=o(t),n=e.shape,r=n[0],s=n[1],u=new i(new Uint32Array(r*s),[r,s]);return a(u.selection,e.selection),u}},function(t,e,n){"use strict";var r=n(24),i=n(18),o=n(40),a=r({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],body:function(t,e,n,r,i,o){0!==n[0]&&0!==n[1]?e*e+i+o-r:0===n[0]&&0===n[1]?e*e:0===n[0]?e*e+o:e*e+i}});t.exports=function(t){var e=o(t),n=e.shape,r=n[0],s=n[1],u=new i(new Uint32Array(r*s),[r,s]);return a(u.selection,e.selection),u}},function(t,e,n){"use strict";var r=n(24),i=n(38),o=n(18),a=n(39),s=n(40),u=r({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],body:function(t,e,n,r,i,o,a,s,u,c){var l=n+2*r+i-s-2*u-c,f=n-i+2*o-2*a+s-c;Math.sqrt(f*f+l*l)}});t.exports=function(t){var e=s(t),n=e.shape,r=n[0],c=n[1],l=new o(new Float32Array(a.shapeSize(n)),n);return u(l.selection,e.selection),i.assigns(l.selection.pick(0,null),0),i.assigns(l.selection.pick(null,0),0),i.assigns(l.selection.pick(r-1,null),0),i.assigns(l.selection.pick(null,c-1),0),l.divide(4*Math.sqrt(2),!1)}},function(t,e,n){"use strict";var r=n(24),i=n(38),o=n(18),a=n(39),s=n(40),u=r({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],body:function(t,e,n,r,i,o,a,s,u,c){var l=3*n+10*r+3*i-3*s-10*u-3*c,f=3*n-3*i+10*o-10*a+3*s-3*c;Math.sqrt(f*f+l*l)}});t.exports=function(t){var e=s(t),n=e.shape,r=n[0],c=n[1],l=new o(new Float32Array(a.shapeSize(n)),n);return u(l.selection,e.selection),i.assigns(l.selection.pick(0,null),0),i.assigns(l.selection.pick(null,0),0),i.assigns(l.selection.pick(r-1,null),0),i.assigns(l.selection.pick(null,c-1),0),l.divide(16*Math.sqrt(2),!1)}},function(t,e,n){"use strict";var r=n(89);t.exports=function(t,e,n,i,o){return r(t,e,n,i,o)/(n*i)}},function(t,e,n){"use strict";var r=n(18);t.exports=function(t){return new r(t.selection.step(null,-1))}},function(t,e,n){!function(){"use strict";var e=n(60),r=n(144);function i(t){var e=t.getContext("2d"),n=null,i=null,o=null;return this.drawFrame=function(a){var s=a.format;t.width===s.displayWidth&&t.height===s.displayHeight||(t.width=s.displayWidth,t.height=s.displayHeight),null!==n&&n.width==s.width&&n.height==s.height||function(t,r){for(var i=(n=e.createImageData(t,r)).data,o=t*r*4,a=0;a<o;a+=4)i[a+3]=255}(s.width,s.height),r.convertYCbCr(a,n.data);var u,c,l,f=s.cropWidth!=s.displayWidth||s.cropHeight!=s.displayHeight;f?(i||(c=s.cropWidth,l=s.cropHeight,(i=document.createElement("canvas")).width=c,i.height=l,o=i.getContext("2d")),u=o):u=e,u.putImageData(n,-s.cropLeft,-s.cropTop,s.cropLeft,s.cropTop,s.cropWidth,s.cropHeight),f&&e.drawImage(i,0,0,s.displayWidth,s.displayHeight)},this.clear=function(){e.clearRect(0,0,t.width,t.height)},this}i.prototype=Object.create(e.prototype),t.exports=i}()},function(t,e,n){!function(){"use strict";var e=n(145);
/**
	 * Basic YCbCr->RGB conversion
	 *
	 * @author Brion Vibber <brion@pobox.com>
	 * @copyright 2014-2019
	 * @license MIT-style
	 *
	 * @param {YUVFrame} buffer - input frame buffer
	 * @param {Uint8ClampedArray} output - array to draw RGBA into
	 * Assumes that the output array already has alpha channel set to opaque.
	 */t.exports={convertYCbCr:function(t,n){var r=0|t.format.width,i=0|t.format.height,o=0|e(t.format.width/t.format.chromaWidth),a=0|e(t.format.height/t.format.chromaHeight),s=t.y.bytes,u=t.u.bytes,c=t.v.bytes,l=0|t.y.stride,f=0|t.u.stride,h=0|t.v.stride,p=r<<2,d=0,v=0,y=0,g=0,m=0,b=0,_=0,w=0,x=0,k=0,S=0,E=0,P=0,T=0,A=0,R=0,B=0,L=0;if(1==o&&1==a)for(_=0,w=p,L=0,R=0;R<i;R+=2){for(y=(v=R*l|0)+l|0,g=L*f|0,m=L*h|0,A=0;A<r;A+=2)x=0|u[g++],E=(409*(k=0|c[m++])|0)-57088|0,P=(100*x|0)+(208*k|0)-34816|0,T=(516*x|0)-70912|0,S=298*s[v++]|0,n[_]=S+E>>8,n[_+1]=S-P>>8,n[_+2]=S+T>>8,_+=4,S=298*s[v++]|0,n[_]=S+E>>8,n[_+1]=S-P>>8,n[_+2]=S+T>>8,_+=4,S=298*s[y++]|0,n[w]=S+E>>8,n[w+1]=S-P>>8,n[w+2]=S+T>>8,w+=4,S=298*s[y++]|0,n[w]=S+E>>8,n[w+1]=S-P>>8,n[w+2]=S+T>>8,w+=4;_+=p,w+=p,L++}else for(b=0,R=0;R<i;R++)for(B=0,d=R*l|0,g=(L=R>>a)*f|0,m=L*h|0,A=0;A<r;A++)x=0|u[g+(B=A>>o)],E=(409*(k=0|c[m+B])|0)-57088|0,P=(100*x|0)+(208*k|0)-34816|0,T=(516*x|0)-70912|0,S=298*s[d++]|0,n[b]=S+E>>8,n[b+1]=S-P>>8,n[b+2]=S+T>>8,b+=4}}}()},function(t,e){!function(){"use strict";
/**
   * Convert a ratio into a bit-shift count; for instance a ratio of 2
   * becomes a bit-shift of 1, while a ratio of 1 is a bit-shift of 0.
   *
   * @author Brion Vibber <brion@pobox.com>
   * @copyright 2016
   * @license MIT-style
   *
   * @param {number} ratio - the integer ratio to convert.
   * @returns {number} - number of bits to shift to multiply/divide by the ratio.
   * @throws exception if given a non-power-of-two
   */t.exports=function(t){for(var e=0,n=t>>1;0!=n;)n>>=1,e++;if(t!==1<<e)throw"chroma plane dimensions must be power of 2 ratio to luma plane dimensions; got "+t;return e}}()},function(t,e,n){!function(){"use strict";var e=n(60),r=n(147);function i(t){var e,n,o=this,a=i.contextForCanvas(t);if(null===a)throw new Error("WebGL unavailable");function s(t,e){var n=a.createShader(t);if(a.shaderSource(n,e),a.compileShader(n),!a.getShaderParameter(n,a.COMPILE_STATUS)){var r=a.getShaderInfoLog(n);throw a.deleteShader(n),new Error("GL shader compilation for "+t+" failed: "+r)}return n}var u,c,l,f,h,p,d,v,y,g,m=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),b={},_={},w={};function x(t){return b[t]||(b[t]=a.createTexture()),b[t]}function k(t,e,n,r){var o=x(t);if(a.activeTexture(a.TEXTURE0),i.stripe){var s=!b[t+"_temp"],u=x(t+"_temp");a.bindTexture(a.TEXTURE_2D,u),s?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,e/4,n,0,a.RGBA,a.UNSIGNED_BYTE,r)):a.texSubImage2D(a.TEXTURE_2D,0,0,0,e/4,n,a.RGBA,a.UNSIGNED_BYTE,r);var c=b[t+"_stripe"],l=!c;l&&(c=x(t+"_stripe")),a.bindTexture(a.TEXTURE_2D,c),l&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,e,1,0,a.RGBA,a.UNSIGNED_BYTE,function(t){if(w[t])return w[t];for(var e=t,n=new Uint32Array(e),r=0;r<e;r+=4)n[r]=255,n[r+1]=65280,n[r+2]=16711680,n[r+3]=4278190080;return w[t]=new Uint8Array(n.buffer)}(e)))}else a.bindTexture(a.TEXTURE_2D,o),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,e,n,0,a.LUMINANCE,a.UNSIGNED_BYTE,r)}function S(t,e,r){var i=b[t];a.useProgram(n);var o=_[t];o||(a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,i),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,e,r,0,a.RGBA,a.UNSIGNED_BYTE,null),o=_[t]=a.createFramebuffer()),a.bindFramebuffer(a.FRAMEBUFFER,o),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,i,0);var s=b[t+"_temp"];a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,s),a.uniform1i(p,1);var d=b[t+"_stripe"];a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,d),a.uniform1i(h,2),a.bindBuffer(a.ARRAY_BUFFER,u),a.enableVertexAttribArray(c),a.vertexAttribPointer(c,2,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,l),a.enableVertexAttribArray(f),a.vertexAttribPointer(f,2,a.FLOAT,!1,0,0),a.viewport(0,0,e,r),a.drawArrays(a.TRIANGLES,0,m.length/2),a.bindFramebuffer(a.FRAMEBUFFER,null)}function E(t,n,r){a.activeTexture(n),a.bindTexture(a.TEXTURE_2D,b[t]),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.uniform1i(a.getUniformLocation(e,t),r)}function P(t,e){var n=s(a.VERTEX_SHADER,t),r=s(a.FRAGMENT_SHADER,e),i=a.createProgram();if(a.attachShader(i,n),a.attachShader(i,r),a.linkProgram(i),!a.getProgramParameter(i,a.LINK_STATUS)){var o=a.getProgramInfoLog(i);throw a.deleteProgram(i),new Error("GL program linking failed: "+o)}return i}return o.drawFrame=function(s){var b=s.format,_=!e||t.width!==b.displayWidth||t.height!==b.displayHeight;if(_&&(t.width=b.displayWidth,t.height=b.displayHeight,o.clear()),e||function(){if(i.stripe){n=P(r.vertexStripe,r.fragmentStripe),a.getAttribLocation(n,"aPosition"),l=a.createBuffer();var t=new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]);a.bindBuffer(a.ARRAY_BUFFER,l),a.bufferData(a.ARRAY_BUFFER,t,a.STATIC_DRAW),f=a.getAttribLocation(n,"aTexturePosition"),h=a.getUniformLocation(n,"uStripe"),p=a.getUniformLocation(n,"uTexture")}e=P(r.vertex,r.fragment),u=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,u),a.bufferData(a.ARRAY_BUFFER,m,a.STATIC_DRAW),c=a.getAttribLocation(e,"aPosition"),d=a.createBuffer(),v=a.getAttribLocation(e,"aLumaPosition"),y=a.createBuffer(),g=a.getAttribLocation(e,"aChromaPosition")}(),_){var w=function(t,e,n){var r=b.cropLeft/n,i=(b.cropLeft+b.cropWidth)/n,o=(b.cropTop+b.cropHeight)/b.height,s=b.cropTop/b.height,u=new Float32Array([r,o,i,o,r,s,r,s,i,o,i,s]);a.bindBuffer(a.ARRAY_BUFFER,t),a.bufferData(a.ARRAY_BUFFER,u,a.STATIC_DRAW)};w(d,0,s.y.stride),w(y,0,s.u.stride*b.width/b.chromaWidth)}k("uTextureY",s.y.stride,b.height,s.y.bytes),k("uTextureCb",s.u.stride,b.chromaHeight,s.u.bytes),k("uTextureCr",s.v.stride,b.chromaHeight,s.v.bytes),i.stripe&&(S("uTextureY",s.y.stride,b.height),S("uTextureCb",s.u.stride,b.chromaHeight),S("uTextureCr",s.v.stride,b.chromaHeight)),a.useProgram(e),a.viewport(0,0,t.width,t.height),E("uTextureY",a.TEXTURE0,0),E("uTextureCb",a.TEXTURE1,1),E("uTextureCr",a.TEXTURE2,2),a.bindBuffer(a.ARRAY_BUFFER,u),a.enableVertexAttribArray(c),a.vertexAttribPointer(c,2,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,d),a.enableVertexAttribArray(v),a.vertexAttribPointer(v,2,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,y),a.enableVertexAttribArray(g),a.vertexAttribPointer(g,2,a.FLOAT,!1,0,0),a.drawArrays(a.TRIANGLES,0,m.length/2)},o.clear=function(){a.viewport(0,0,t.width,t.height),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT)},o.clear(),o}i.stripe=-1!==navigator.userAgent.indexOf("Windows"),i.contextForCanvas=function(t){var e={preferLowPowerToHighPerformance:!0,powerPreference:"low-power",failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!0};return t.getContext("webgl",e)||t.getContext("experimental-webgl",e)},i.isAvailable=function(){var t,e=document.createElement("canvas");e.width=1,e.height=1;try{t=i.contextForCanvas(e)}catch(t){return!1}if(t){var n=t.TEXTURE0,r=t.createTexture(),o=new Uint8Array(16),a=i.stripe?1:4,s=i.stripe?t.RGBA:t.LUMINANCE,u=i.stripe?t.NEAREST:t.LINEAR;return t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,u),t.texImage2D(t.TEXTURE_2D,0,s,a,4,0,s,t.UNSIGNED_BYTE,o),!t.getError()}return!1},i.prototype=Object.create(e.prototype),t.exports=i}()},function(t,e){t.exports={vertex:"precision lowp float;\n\nattribute vec2 aPosition;\nattribute vec2 aLumaPosition;\nattribute vec2 aChromaPosition;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n    gl_Position = vec4(aPosition, 0, 1);\n    vLumaPosition = aLumaPosition;\n    vChromaPosition = aChromaPosition;\n}\n",fragment:"// inspired by https://github.com/mbebenita/Broadway/blob/master/Player/canvas.js\n\nprecision lowp float;\n\nuniform sampler2D uTextureY;\nuniform sampler2D uTextureCb;\nuniform sampler2D uTextureCr;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n   // Y, Cb, and Cr planes are uploaded as LUMINANCE textures.\n   float fY = texture2D(uTextureY, vLumaPosition).x;\n   float fCb = texture2D(uTextureCb, vChromaPosition).x;\n   float fCr = texture2D(uTextureCr, vChromaPosition).x;\n\n   // Premultipy the Y...\n   float fYmul = fY * 1.1643828125;\n\n   // And convert that to RGB!\n   gl_FragColor = vec4(\n     fYmul + 1.59602734375 * fCr - 0.87078515625,\n     fYmul - 0.39176171875 * fCb - 0.81296875 * fCr + 0.52959375,\n     fYmul + 2.017234375   * fCb - 1.081390625,\n     1\n   );\n}\n",vertexStripe:"precision lowp float;\n\nattribute vec2 aPosition;\nattribute vec2 aTexturePosition;\nvarying vec2 vTexturePosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 0, 1);\n    vTexturePosition = aTexturePosition;\n}\n",fragmentStripe:"// extra 'stripe' texture fiddling to work around IE 11's poor performance on gl.LUMINANCE and gl.ALPHA textures\n\nprecision lowp float;\n\nuniform sampler2D uStripe;\nuniform sampler2D uTexture;\nvarying vec2 vTexturePosition;\nvoid main() {\n   // Y, Cb, and Cr planes are mapped into a pseudo-RGBA texture\n   // so we can upload them without expanding the bytes on IE 11\n   // which doesn't allow LUMINANCE or ALPHA textures\n   // The stripe textures mark which channel to keep for each pixel.\n   // Each texture extraction will contain the relevant value in one\n   // channel only.\n\n   float fLuminance = dot(\n      texture2D(uStripe, vTexturePosition),\n      texture2D(uTexture, vTexturePosition)\n   );\n\n   gl_FragColor = vec4(fLuminance, fLuminance, fLuminance, 1);\n}\n"}},function(t,e,n){"use strict";n.r(e);var r=n(4),i=n.n(r),o=n(5),a=n.n(o),s=n(0),u=n.n(s),c=n(72),l=n.n(c),f=n(12),h=n.n(f),p=n(20),d=n.n(p),v=n(31),y=n.n(v),g=n(11),m=n(26);function b(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w=g.a.get("HTTP.js",{level:2}),x=function(){var t=y()(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof Blob)){t.next=5;break}return t.next=3,new Response(e).arrayBuffer();case 3:return n=t.sent,t.abrupt("return",new Uint8Array(n,0));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var k=function(t){if(t)return Object.entries(t).reduce((function(t,e,n){var r=l()(e,2),i=r[0],o=r[1];return t+(0===n?i+"="+encodeURIComponent(o):"&"+i+"="+encodeURIComponent(o))}),"")};function S(t,e){var n=("function"==typeof t.clone?t.clone():void 0)||t,r=function(t,e){var n={body:e,headers:function(t){return t.headers.entries?function(t){var e,n=Object.create(Object.getPrototypeOf(t.headers)),r=b(t.headers.entries());try{for(r.s();!(e=r.n()).done;){var i=l()(e.value,2),o=i[0],a=i[1];n[o]=a}}catch(t){r.e(t)}finally{r.f()}return n}(t):function(t){var e={},n=t.headers.__headers__;for(var r in n)e[r]=n[r].join("");return e}(t)}(t),response:t,status:t.status,statusText:t.statusText};return t.ok?Promise.resolve(n):Promise.reject(n)};return t[e]().then((function(t){return r(n,t)}))}function E(t,e){var n=t.headers.get("content-type"),r=t.clone().body.getReader(),i=0,o=i,a=setInterval((function(){var t=50*(i-o);t<=1||(w.info("HTTP>handleResponse","".concat(o," | ").concat(i),"".concat(t.toFixed(2)," Bytes/s")),self.postMessage({type:"notice",method:"fetch",noticeType:"speed",data:{speed:t,intervalValue:20,lastReceived:o,bytesReceived:i}}),o=i)}),20);return r.read().then((function o(s){return s.done?(clearInterval(a),function(){if("ts"===e||"video"===e)return S(t,"blob");if(n.includes("json"))return S(t,"json");if(n.includes("text"))return S(t,"text");if(n.includes("form"))return S(t,"formData");if(n.includes("video")||n.includes("image")||n.includes("octet-stream"))return S(t,"blob");try{return S(t,"text")}catch(e){return Object(m.a)(e,"[HTTP>handleResponse:unknow content-type]",n,t),Promise.resolve(t)}}()):(i+=s.value.length,r.read().then(o))}))}var P=null,T=(P||(P=new(function(){function t(e){i()(this,t),u()(this,"options",{"content-type":"application/json;charset=UTF-8",cache:"no-cache",mode:"cors"}),Object.assign(this.options,e)}var e;return a()(t,[{key:"setOptions",value:function(t){var e=Object.assign(this.options,t);e.url=function(t){var e=t.url,n=t.params;return n?e+"?"+k(n):e}(e),e.method=e.method||"get",e.headers=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.headers,n=void 0===e?{}:e,r=t.method,i=void 0===r?"get":r,o=t.username,a=t.password,s=t.token,u=new Headers(n);if(o||a){if(!o)throw new TypeError("username required for basic authentication");if(!a)throw new TypeError("password required for basic authentication");var c="object"===("undefined"==typeof win?"undefined":h()(win))&&win.btoa?btoa:function(t){return t};u.set("Authorization","Basic "+c(o+":"+a))}return s&&u.set("Authorization","Bearer "+s),"get"===i||u.get("content-type")||u.set("content-type","application/json"),u}(e),e.body=function(t){var e=t.headers.get("content-type");if(e)return e.includes("json")?JSON.stringify(t.body):e.includes("x-www-form-urlencoded")?k(t.body):t.body}(e),delete e.username,delete e.password,delete e.token,this.options=e}},{key:"request",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(t)return this.setOptions(Object.assign({url:t},e)),fetch(this.options.url,this.options).then((function(t){return E(t,n)}));w.error("[HTTP>request]","url is undefined","url:",t,"options:",e)}},{key:"fetch",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=y()(d.a.mark((function t(e){var n,r,i,o,a=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},r=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,e){t.next=6;break}return w.wran("[HTTP>fetch]","url is undefined","url:",e,"options:",n),t.abrupt("return");case 6:return this.setOptions(Object.assign({url:e},n)),w.info("[HTTP>fetch]","http fetch","url:",e,"options:",n),t.next=10,fetch(e,n);case 10:(o=t.sent).ok?o.text().then((function(t){self.postMessage({type:"invoke",method:"fetch",fileType:i,name:r,data:t})})):self.postMessage({result:"failed"});case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}())},{key:"get",value:(e=y()(d.a.mark((function t(e){var n,r,i,o,a,s=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,i=s.length>3?s[3]:void 0,n.method="get",w.info("[HTTP>get]","http get","url:",e,"options:",n,"name:",r,"fileType:",i),a={type:"invoke",method:"get",fileType:i,name:r,url:e},t.prev=6,t.next=9,this.request.call(this,e,n,i);case 9:o=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),w.error("[HTTP>get]","networks error","url:",e,"options:",n,"name:",r,"fileType:",i,"ex:",t.t0);case 15:if(!o||!o.body){t.next=24;break}if(a.data=o.body,"ts"!==i&&"video"!==i){t.next=21;break}return t.next=20,x(a.data);case 20:a.arrayBuffer=t.sent;case 21:a.arrayBuffer?self.postMessage(a,[a.arrayBuffer.buffer]):self.postMessage(a),t.next=27;break;case 24:a.type="error",a.data=o,self.postMessage(a);case 27:case"end":return t.stop()}}),t,this,[[6,12]])}))),function(t){return e.apply(this,arguments)})}]),t}())({})),P);e.default=function(t){t.onmessage=function(t){var e=t.data,n=e.type,r=e.method;switch(n){case"invoke":T[r].call(T,e.url,e.options,e.name,e.fileType)}}}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(t,e,n){var r=n(152);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(155);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(157)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(156)(!1)).push([t.i,'.goldplay{background:transparent}gp-button{cursor:pointer;font-size:14px}@-webkit-keyframes goldplay-rotate-360{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes goldplay-rotate-360{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.goldplay-btn{border:1px outset;text-align:center;display:inline-block;cursor:pointer}.goldplay-hoverbox{background:rgba(70,70,70,.8);border-radius:3px;visibility:hidden;display:inline-block;position:absolute;font-size:14px}.goldplay-hoverbox ul li{height:24px}.goldplay-hoverbox .gp-selected{color:#f60}.goldplay__container{display:block;z-index:9999;font-family:Arial,Helvetica,sans-serif;background:#000}.goldplay__container-fullpage,.goldplay__container-fullscreen{position:absolute;width:100%;height:100%;line-height:100%;left:0;top:0}.goldplay__container *{-webkit-box-sizing:border-box;box-sizing:border-box}.goldplay__container svg{overflow:auto;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;width:auto;height:auto}.goldplay__container li,.goldplay__container ul{list-style:none}.goldplay__screen--bigplay{z-index:299;opacity:0;-webkit-transition:opacity 1s;transition:opacity 1s}.goldplay__screen--bigplay,.goldplay__screen--poster{color:#fff;text-align:center;font-family:Arial,Helvetica,sans-serif;position:absolute;display:inline-block}.goldplay__screen--poster{vertical-align:middle;z-index:399;opacity:1;-webkit-transition:opacity 2s;transition:opacity 2s}.goldplay__screen--poster-image{margin:auto;text-align:center;vertical-align:middle;-webkit-filter:"";filter:""}.goldplay__screen--poster-speed{display:block}.goldplay__control--container{width:auto;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 5px;background:transparent;opacity:0;-webkit-transition:opacity 1s;transition:opacity 1s;display:block}.goldplay__control--container-float{position:absolute;margin-top:-50px}.goldplay__control--nearside{padding-top:4px;margin-left:10px;display:block}.goldplay__control--sidebar{padding-top:4px;float:right;display:block}.goldplay__control--container.canvas{position:absolute}.goldplay__screen--container{width:100%;display:block}.goldplay__progress-bar{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;background:hsla(0,15%,90%,.4);height:3px;border-radius:5px;line-height:3px;margin:6px 0;display:inline-block}.goldplay__progress-bar:hover{height:5px;line-height:5px;margin:5px 0;border-top:1px solid transparent}.goldplay__progress-bar:hover .goldplay__progressbar--load,.goldplay__progress-bar:hover .goldplay__progressbar--play{height:5px;line-height:5px;margin-top:-1px}.goldplay__progress-bar-hover{height:5px;line-height:5px;margin:5px 0;border-radius:5px}.goldplay__progressbar--load-hover,.goldplay__progressbar--play-hover{height:5px!important;line-height:5px!important}.goldplay__control--button-block{display:inline-block}.goldplay__control--play{display:none;width:20px}.goldplay__control--replay{display:none;margin:-4px 0 0 -4px}.goldplay__control--pause{display:none;width:20px}.goldplay__control--pause-loading{margin:-5px 0 0 -5px}.goldplay__waiting-bar{position:absolute;text-align:center;color:#fff;z-index:98;display:none;opacity:.7}.goldplay__waiting-bar--icon{width:120px;text-align:center;display:block}.goldplay__waiting-bar img{opacity:.3}.goldplay__waiting-bar--speed{display:block}.goldplay__progressbar--play{height:3px;border-radius:5px;background-color:rgba(255,80,0,.8);position:absolute}.goldplay__progressbar--load{height:3px;border-radius:5px;background-color:hsla(0,0%,100%,.8);position:absolute}.goldplay__progressbar--dot{position:absolute}.goldplay__progressbar--dot:before{content:"";display:inline-block;width:12px;height:12px;background:#fff;margin-top:-5px;border-radius:50%;border:1px solid #f1f1f1;background-image:-webkit-radial-gradient(circle arthest-corner at 45px 45px,#b0b9be,#191611);-webkit-box-shadow:0 0 2px 0 rgba(0,0,0,.26);box-shadow:0 0 2px 0 rgba(0,0,0,.26);cursor:-webkit-grab;cursor:grab}.goldplay__progressbar--dot-hover:before,.goldplay__progressbar--dot:hover:before{background:#f60;border:1px solid #f60;-webkit-box-shadow:0 0 6px 2px hsla(0,10%,100%,.5);box-shadow:0 0 6px 2px hsla(0,10%,100%,.5);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform .15s ease-in-out;transition:-webkit-transform .15s ease-in-out;transition:transform .15s ease-in-out;transition:transform .15s ease-in-out,-webkit-transform .15s ease-in-out}.goldplay__control--timer{font-size:.9em;color:#ccc;margin:3px 5px 0;display:inline-block;-webkit-transform:translateY(-5px);transform:translateY(-5px)}.goldplay__control--timer-total{color:#999}.goldplay__volume-bar--handle{height:100px;width:20px;margin:-122px 0 0;cursor:default}.goldplay__volume-bar--column{background:hsla(0,14%,92%,.5);width:4px;top:15px;left:8px;height:80px;position:absolute}.goldplay__volume-bar--precent{position:absolute;top:2px;width:100%;text-align:center;color:#f1f1f1;font-size:10px;cursor:text}.goldplay__volume-bar--size{background:#f60;left:8px;z-index:2;position:absolute}.goldplay__volume-bar--rod{position:absolute;left:5px;z-index:3}.goldplay__volume-bar--rod:before{content:"";display:table;width:12px;height:12px;background:#fff;margin-top:0;margin-left:-2px;border-radius:50%;border:1px solid #f1f1f1;background-image:radial-gradient(circle arthest-corner at 45px,at 45px,#b0b9be,#191611);background-image:radial-gradient(circle arthest-corner at 45px 45px,#b0b9be,#191611);-webkit-box-shadow:0 0 6px 2px hsla(0,10%,100%,.5);box-shadow:0 0 6px 2px hsla(0,10%,100%,.5);cursor:-webkit-grab;cursor:grab}.goldplay__volume-bar--rod-hover:before,.goldplay__volume-bar--rod:hover:before{background:#f60;border:1px solid #f60;-webkit-box-shadow:0 0 6px 2px hsla(0,10%,100%,.5);box-shadow:0 0 6px 2px hsla(0,10%,100%,.5);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform .15s ease-in-out;transition:-webkit-transform .15s ease-in-out;transition:transform .15s ease-in-out;transition:transform .15s ease-in-out,-webkit-transform .15s ease-in-out}.goldplay__control--fullpage{margin:0 0 0 5px}.goldplay__control--fullscreen{margin:0 12px 0 10px}.goldplay__alter-box{z-index:999;padding:20px;border-radius:10px;color:#fff;position:absolute;word-break:break-word;overflow:auto;-webkit-box-shadow:0 0 6px 2px hsla(0,10%,100%,.5);box-shadow:0 0 6px 2px hsla(0,10%,100%,.5);background:rgba(0,0,0,.6);min-width:50px;min-height:20px;max-width:400px;max-height:300px;opacity:0;-webkit-transition:opacity .3s;transition:opacity .3s}.goldplay__alter--close{margin:5px;display:block;position:absolute;right:0;top:0;cursor:pointer}.goldplay__alter--warn{float:left;margin:-5px 10px 5px 0}.goldplay__rate-bar,.goldplay__speed-bar{display:inline-block;color:#ccc;vertical-align:middle;margin:-14px 10px 0 0}.goldplay__rate-bar--box,.goldplay__speed-bar--box{cursor:default}.goldplay__speed-bar--box ul{margin:6px 0;padding:0;text-align:right}.goldplay__speed-bar--box ul li{height:2em;line-height:2em;padding:0 15px}.goldplay__rate-bar--box ul li:hover,.goldplay__speed-bar--box ul li:hover{background:rgba(0,0,0,.4)}.goldplay__rate-bar--box ul{margin:6px 0;padding:0;text-align:right}.goldplay__rate-bar--box ul li{height:2em;line-height:2em;padding:0 15px}',""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},u=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,l=0,f=[],h=n(158);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(b(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function v(t,e){var n=u(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),f.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=u(t.insertAt.before,n);n.insertBefore(e,i)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return m(e,t.attrs),v(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=l++;n=c||(c=g(e)),r=x.bind(null,n,a,!1),i=x.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),v(t,e),e}(e),r=S.bind(null,n,e),i=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=k.bind(null,n),i=function(){y(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return p(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&p(d(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var _,w=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function x(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function k(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function S(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=h(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){var r=n(16),i=n(13).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){e.f=n(17)},function(t,e,n){var r=n(98)("keys"),i=n(62);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(13).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(16),i=n(15),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(43)(Function.call,n(46).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r ¬†·öÄ·†é‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff"},function(t,e,n){var r=n(16),i=n(164).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(45),i=n(51);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(45),i=n(51);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(63),i=n(8),o=n(28),a=n(34),s=n(75),u=n(202),c=n(73),l=n(68),f=n(17)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,y,g){u(n,e,d);var m,b,_,w=function(t){if(!h&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",k="values"==v,S=!1,E=t.prototype,P=E[f]||E["@@iterator"]||v&&E[v],T=P||w(v),A=v?k?w("entries"):T:void 0,R="Array"==e&&E.entries||P;if(R&&(_=l(R.call(new t)))!==Object.prototype&&_.next&&(c(_,x,!0),r||"function"==typeof _[f]||a(_,f,p)),k&&P&&"values"!==P.name&&(S=!0,T=function(){return P.call(this)}),r&&!g||!h&&!S&&E[f]||a(E,f,T),s[e]=T,s[x]=p,v)if(m={values:k?T:w("values"),keys:y?T:w("keys"),entries:A},g)for(b in m)b in E||o(E,b,m[b]);else i(i.P+i.F*(h||S),e,m);return m}},function(t,e,n){var r=n(173),i=n(51);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(16),i=n(50),o=n(17)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(17)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(75),i=n(17)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(23),i=n(61);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(92),i=n(17)("iterator"),o=n(75);t.exports=n(21).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(25),i=n(65),o=n(19);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(69),i=n(207),o=n(75),a=n(35);t.exports=n(171)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r,i,o=n(103),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(u=function(t){var e,n,r,i,u=this;return l&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),c&&(e=u.lastIndex),r=a.call(u,t),c&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),l&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=u},function(t,e,n){"use strict";var r=n(170)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,i,o,a=n(43),s=n(196),u=n(163),c=n(159),l=n(13),f=l.process,h=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,y=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){m.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete g[t]},"process"==n(50)(f)?r=function(t){f.nextTick(a(m,t,1))}:v&&v.now?r=function(t){v.now(a(m,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:h,clear:p}},function(t,e,n){"use strict";var r=n(13),i=n(22),o=n(63),a=n(109),s=n(34),u=n(78),c=n(14),l=n(77),f=n(45),h=n(19),p=n(215),d=n(67).f,v=n(23).f,y=n(178),g=n(73),m=r.ArrayBuffer,b=r.DataView,_=r.Math,w=r.RangeError,x=r.Infinity,k=m,S=_.abs,E=_.pow,P=_.floor,T=_.log,A=_.LN2,R=i?"_b":"buffer",B=i?"_l":"byteLength",L=i?"_o":"byteOffset";function C(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?E(2,-24)-E(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for((t=S(t))!=t||t===x?(i=t!=t?1:0,r=u):(r=P(T(t)/A),t*(o=E(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?l/o:l*E(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*E(2,e),r+=c):(i=t*E(2,c-1)*E(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a}function D(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-x:x;r+=E(2,e),l-=a}return(c?-1:1)*r*E(2,l-e)}function I(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function O(t){return[255&t]}function N(t){return[255&t,t>>8&255]}function M(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function U(t){return C(t,52,8)}function j(t){return C(t,23,4)}function F(t,e,n){v(t.prototype,e,{get:function(){return this[n]}})}function V(t,e,n,r){var i=p(+n);if(i+e>t[B])throw w("Wrong index!");var o=t[R]._b,a=i+t[L],s=o.slice(a,a+e);return r?s:s.reverse()}function H(t,e,n,r,i,o){var a=p(+n);if(a+e>t[B])throw w("Wrong index!");for(var s=t[R]._b,u=a+t[L],c=r(+i),l=0;l<e;l++)s[u+l]=c[o?l:e-l-1]}if(a.ABV){if(!c((function(){m(1)}))||!c((function(){new m(-1)}))||c((function(){return new m,new m(1.5),new m(NaN),"ArrayBuffer"!=m.name}))){for(var W,z=(m=function(t){return l(this,m),new k(p(t))}).prototype=k.prototype,$=d(k),G=0;$.length>G;)(W=$[G++])in m||s(m,W,k[W]);o||(z.constructor=m)}var Y=new b(new m(2)),q=b.prototype.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||u(b.prototype,{setInt8:function(t,e){q.call(this,t,e<<24>>24)},setUint8:function(t,e){q.call(this,t,e<<24>>24)}},!0)}else m=function(t){l(this,m,"ArrayBuffer");var e=p(t);this._b=y.call(new Array(e),0),this[B]=e},b=function(t,e,n){l(this,b,"DataView"),l(t,m,"DataView");var r=t[B],i=f(e);if(i<0||i>r)throw w("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw w("Wrong length!");this[R]=t,this[L]=i,this[B]=n},i&&(F(m,"byteLength","_l"),F(b,"buffer","_b"),F(b,"byteLength","_l"),F(b,"byteOffset","_o")),u(b.prototype,{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return I(V(this,4,t,arguments[1]))},getUint32:function(t){return I(V(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return D(V(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return D(V(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){H(this,1,t,O,e)},setUint8:function(t,e){H(this,1,t,O,e)},setInt16:function(t,e){H(this,2,t,N,e,arguments[2])},setUint16:function(t,e){H(this,2,t,N,e,arguments[2])},setInt32:function(t,e){H(this,4,t,M,e,arguments[2])},setUint32:function(t,e){H(this,4,t,M,e,arguments[2])},setFloat32:function(t,e){H(this,4,t,j,e,arguments[2])},setFloat64:function(t,e){H(this,8,t,U,e,arguments[2])}});g(m,"ArrayBuffer"),g(b,"DataView"),s(b.prototype,a.VIEW,!0),e.ArrayBuffer=m,e.DataView=b},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(220)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";n.r(e);var r,i=n(4),o=n.n(i),a=n(5),s=n.n(a),u=n(10),c=(n(117),function(){function t(e){o()(this,t),this.decode=e,this.result=[]}return s()(t,[{key:"openDecode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,n=Module.addFunction((function(t,n,r,i,o,a,s,u,c,l,f){var h=HEAPU8.subarray(t,t+i*u),p=HEAPU8.subarray(n,n+o*u/2),d=HEAPU8.subarray(r,r+a*u/2),v=HEAPU8.subarray(l,l+f),y={stride_y:i,stride_u:o,stride_v:a,width:s,height:u,buf_y:Uint8Array.from(h),buf_u:Uint8Array.from(p),buf_v:Uint8Array.from(d),pts:c,buf_bgr:Uint8Array.from(v),bgr_size:f};e.result.push(y)}),"viiiiiiiiiii");Module._openDecoder(t,n,1)}},{key:"decodeData",value:function(t,e){var n=t.length,r=Module._malloc(n);Module.HEAPU8.set(t,r),Module._decodeData(r,n,e),Module._free(r)}},{key:"flush",value:function(){for(Module._flushDecoder();this.checkData();)this.decode.getDecodeYUV()}},{key:"closeDecode",value:function(){Module._closeDecoder()}},{key:"getYUV",value:function(){var t=null;return this.result.length>0&&(t=this.result.shift()),t}},{key:"checkData",value:function(){return this.result.length>0}}]),t}()),l=function(){function t(e){o()(this,t),this.decode=e}return s()(t,[{key:"openDecode",value:function(){return _web_decoder_open()}},{key:"closeDecode",value:function(t){_web_decoder_close(t)}},{key:"decodeData",value:function(t,e,n){var r=t.length||0;Module.ccall("web_decoder_decode_frame","number",["number","array","number","number"],[n,t,r,e])}},{key:"flush",value:function(t){var e=this.decode;if(_web_decoder_decode_frame)for(;;){if(_web_decoder_decode_frame(t,null,0,0)<0||!_web_got_frame(t))break;e.getDecodeYUV(t)}}},{key:"getYUV",value:function(t){var e=_web_get_stride_y(t),n=_web_get_stride_u(t),r=_web_get_stride_v(t),i=_web_get_width(t),o=_web_get_height(t),a=_web_get_frame_y(t),s=_web_get_frame_u(t),c=_web_get_frame_v(t),l=parseInt(_web_got_frame_pts(t)*u.a*1e3),f=HEAPU8.subarray(a,a+e*o),h=HEAPU8.subarray(s,s+n*o/2),p=HEAPU8.subarray(c,c+r*o/2);return{stride_y:e,stride_u:n,stride_v:r,width:i,height:o,buf_y:new Uint8Array(f),buf_u:new Uint8Array(h),buf_v:new Uint8Array(p),pts:l}}},{key:"checkData",value:function(t){return _web_got_frame(t)}}]),t}(),f=function(){function t(){o()(this,t),this.p=null,this.ptsList=[],this.ptsOffset=0,this.fps=0,this.lastDuration=0,this.previousPTS=0,this.status=!1,this.yuvArray=[],this.decodeTool=null}return s()(t,[{key:"loadWASM",value:function(t){var e=t.data.libPath;this.codec=t.data.codec,self.Module={locateFile:function(t){return e+t}},self.importScripts(e+"libffmpeg2.js"),self.Module.onRuntimeInitialized=function(){Module._web_decoder_open?self.decode.decodeTool=new l(self.decode,this.event):self.decode.decodeTool=new c(self.decode,this.event),self.decode.openDecode(),self.decode.onWasmLoaded()}}},{key:"openDecode",value:function(){try{this.status||(this.p=this.decodeTool.openDecode(this.codec),this.status=!0)}catch(t){console.error(t)}}},{key:"closeDecode",value:function(){this.status&&(this.decodeTool.closeDecode(this.p),this.status=!1)}},{key:"push",value:function(t){var e=this;t.forEach((function(t){var n=t.PTS,r=t.data_byte,i=t.partEnd,o=t.lastTS,a=e.ptsList;e.insertSort(a,parseInt(n*u.a*1e3)),e.decodeTool.decodeData(r,n,e.p),e.decodeTool.checkData(e.p)&&e.getDecodeYUV(e.p,i,o)}))}},{key:"getDecodeYUV",value:function(t,e,n){if(!this.reseting){var r=0;this.fps||(this.fps=this.getFPS());var i=this.decodeTool.getYUV(t),o=this.ptsList.shift();if(i.pts=o,this.previousPTS&&o?(r=parseInt(o-this.previousPTS),this.lastDuration=r):r=this.lastDuration,i.duration=r,i.fps=this.fps,o)this.previousPTS=o,this.yuvArray.push(i),this.yuvArray.length>10&&(self.postMessage({type:"decoded",data:this.yuvArray,no:this.no}),this.yuvArray=[]);e&&(this.yuvArray.length&&(self.postMessage({type:"decoded",data:this.yuvArray,no:this.no}),this.yuvArray=[]),self.postMessage({type:"partEnd",data:n}))}}},{key:"reset",value:function(){this.reseting=!0,this.ptsList=[],this.ptsOffset=0,this.previousPTS=0,this.fps=0,this.yuvArray=[],this.closeDecode(),this.openDecode(),self.postMessage({type:"resetEnd",data:Date.now()}),this.reseting=!1}},{key:"flush",value:function(){this.decodeTool.flush(this.p),this.yuvArray.length&&(self.postMessage({type:"decoded",data:this.yuvArray}),this.yuvArray=[]),this.closeDecode(),self.postMessage({type:"flushEnd",data:this.previousPTS})}},{key:"getFPS",value:function(){var t=this.ptsList;return t.length>=2?Math.round(1e3/(t[1]-t[0])):null}},{key:"onWasmLoaded",value:function(){self.postMessage({type:"dataProcessorReady"})}},{key:"insertSort",value:function(t,e){var n=t.length;if(0!==n){for(var r=0;r<n;r++)if(e<t[r]){for(var i=n;i>r;)t[i]=t[i-1],i--;return void(t[r]=e)}t.push(e)}else t.push(e)}}]),t}(),h=n(0),p=n.n(h);!function(t){t.ERROR="ERROR",t.INFO="INFO",t.DATA="DATA",t.DEMUX_DATA="DEMUX_DATA",t.DONE="DONE"}(r||(r={}));var d=Object.create||function(t){var e=function(){};return e.prototype=t,new e},v=Object.keys||function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e);return e},y=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};let g,m=10;class b{constructor(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=d(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}static listenerCount(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):S.call(t,e)}emit(t,...e){var n,r,i,o,a,s,u="error"===t;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(u){if(arguments.length>1&&(n=arguments[1]),n instanceof Error)throw n;var c=new Error('Unhandled "error" event. ('+n+")");throw c.context=n,c}if(!(r=s[t]))return!1;var l="function"==typeof r;switch(i=arguments.length){case 1:!function(t,e,n){if(e)t.call(n);else for(var r=t.length,i=E(t,r),o=0;o<r;++o)try{i[o].call(n)}catch(t){console.error(t)}}(r,l,this);break;case 2:!function(t,e,n,r){if(e)t.call(n,r);else for(var i=t.length,o=E(t,i),a=0;a<i;++a)try{o[a].call(n,r)}catch(t){console.error(t)}}(r,l,this,arguments[1]);break;case 3:!function(t,e,n,r,i){if(e)t.call(n,r,i);else for(var o=t.length,a=E(t,o),s=0;s<o;++s)try{a[s].call(n,r,i)}catch(t){console.error(t)}}(r,l,this,arguments[1],arguments[2]);break;case 4:!function(t,e,n,r,i,o){if(e)t.call(n,r,i,o);else for(var a=t.length,s=E(t,a),u=0;u<a;++u)try{s[u].call(n,r,i,o)}catch(t){console.error(t)}}(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),a=1;a<i;a++)o[a-1]=arguments[a];!function(t,e,n,r){if(e)t.apply(n,r);else for(var i=t.length,o=E(t,i),a=0;a<i;++a)try{o[a].apply(n,r)}catch(t){console.error(t)}}(r,l,this,o)}return!0}on(t,e){return function(t,e,n){var r,i,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');(i=t._events)?(i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]):(i=t._events=d(null),t._eventsCount=0);if(o){if("function"==typeof o?o=i[e]=[o,n]:o.push(n),!o.warned&&(r=void 0===(a=t)._maxListeners?b.defaultMaxListeners:a._maxListeners)&&r>0&&o.length>r){o.warned=!0;class n extends Error{}let r=new n("Possible Dispatcher memory leak detected. "+o.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');r.name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=o.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",r.name,r.message)}}else o=i[e]=n,++t._eventsCount;var a;return t}(this,t,e)}once(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,function(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=y.call(x,r);return i.listener=n,r.wrapFn=i,i}(this,t,e)),this}off(t,e){return w.call(this,t,e)}removeAllListeners(t){var e,n,r;if(!(n=this._events))return this;if(!n.off)return 0===arguments.length?(this._events=d(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=d(null):delete n[t]),this;if(0===arguments.length){var i,o=v(n);for(r=0;r<o.length;++r)"off"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("off"),this._events=d(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.off(t,e);else if(e)for(r=e.length-1;r>=0;r--)this.off(t,e[r]);return this}listeners(t){return k(this,t,!0)}rawListeners(t){return k(this,t,!1)}listenerCount(){return b.listenerCount.apply(this,arguments)}}try{var _={};Object.defineProperty&&Object.defineProperty(_,"x",{value:0}),g=0===_.x}catch(t){g=!1}function w(t,e){var n,r,i,o,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=d(null):(delete r[t],r.off&&this.emit("off",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),r.off&&this.emit("off",t,a||e)}return this}function x(){if(!this.fired)switch(this.target.off(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function k(t,e,n){var r=t._events;if(!r)return[];var i=r[e];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):E(i,i.length):[]}function S(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function E(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}g?Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');m=t}}):b.defaultMaxListeners=m;class P extends b{}var T=Object.prototype.toString;function A(t){return!!t&&"object"==typeof t}function R(t){return"number"==typeof t&&!isNaN(t)}function B(t){return A(t)&&"[object arraybuffer]"===T.call(t).toLowerCase()}class L{constructor(){this.list_=[]}get byteLength(){if(!R(this.byteLength_)){let t=0;for(let e,n=0;n<this.list_.length;n++)e=this.list_[n],t+=e.byteLength;this.byteLength_=t}return this.byteLength_}get bytes(){const{bufferList:t}=this;let e=null;return t.length>0&&(e=0===t.length?t[0]:this.toNewBytes()),e}get empty(){return 0===this.list_.length}get bufferList(){return this.list_}clear(){let t=this.list_.length;t>0&&this.list_.splice(0,t),this.byteLength_=null}toNewBytes(){let t=null,e=0;for(;null===t;)try{e++,t=new Uint8Array(this.byteLength)}catch(t){if(e>50)throw t}for(let e=0,n=0;e<this.list_.length;e++){let r=this.list_[e];t.set(r,n),n+=r.byteLength}return t}append(t){t instanceof L?this.list_=this.list_.concat(t.bufferList):this.list_.push(t),this.byteLength_=null}cut(t,e=!0){let n=null;if(t>0&&!this.empty){let r=this.list_,i=0,o=0;for(;r.length>0;){let a=r.shift();if(0!==o){let o=t-i;if(a.byteLength>=o){e&&n.set(a.subarray(0,o),i),a=a.subarray(o),a.byteLength>0&&r.unshift(a);break}e&&n.set(a,i),i+=a.byteLength;break}if(a.byteLength>=t){e&&(n=a.subarray(0,t)),a.byteLength>t&&(a=a.subarray(t),r.unshift(a));break}if(e){try{n=new Uint8Array(t)}catch(e){throw`alloc_memory_error@ cache buffer: ${t} ${e.message}`}n.set(a,0)}i+=a.byteLength,o++}this.byteLength_=null}return n}}class C{constructor(){this.map_={}}push(t,e){Object.prototype.hasOwnProperty.call(this.map_,t)?this.map_[t].push(e):this.map_[t]=[e]}get(t){let e=this.map_[t];return e?e.slice():null}getAll(){let t=[];for(let e in this.map_)t.push.apply(t,this.map_[e]);return t}remove(t,e){let n=this.map_[t];if(n)for(let t=0;t<n.length;++t)n[t]==e&&(n.splice(t,1),--t)}clear(){this.map_={}}forEach(t){for(let e in this.map_)t(e,this.map_[e])}}class D{constructor(t,e,n){this.target=t,this.type=e,this.listener=n,this.target.addEventListener?this.target.addEventListener(e,n,!1):this.target.on&&this.target.on(e,n,!1)}off(){this.target.removeEventListener?this.target.removeEventListener(this.type,this.listener,!1):this.target.off&&this.target.off(this.type,this.listener,!1),this.target=null,this.listener=null}}class I{constructor(){this.bindingMap_=new C}destroy(){this.removeAll(),this.bindingMap_=null}on(t,e,n){if(!this.bindingMap_)return;let r=new D(t,e,n);return this.bindingMap_.push(e,r),this}once(t,e,n){this.on(t,e,function(r){this.off(t,e),n(r)}.bind(this))}off(t,e){if(!this.bindingMap_)return;let n=this.bindingMap_.get(e)||[];for(let r=0;r<n.length;++r){let i=n[r];i.target==t&&(i.off(),this.bindingMap_.remove(e,i))}}removeAll(){if(!this.bindingMap_)return;let t=this.bindingMap_.getAll();for(let e=0;e<t.length;++e)t[e].off();this.bindingMap_.clear()}}let O;O="undefined"==typeof window?self:window;let N=O.console;const M="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof importScripts;let U=new class extends b{constructor(){super(),this._enable=!1}get enable(){return this._enable}set enable(t){this._enable=t,this.MSG_NAME="__log__"}log(...t){M?U.emit(this.MSG_NAME,"log",[...t].join("")):this._enable&&N.log.call(N,">>>",...t)}debug(...t){M?U.emit(this.MSG_NAME,"debug",[...t].join("")):this._enable&&N.debug&&N.debug.call(N,">>>",...t)}assert(...t){if(this._enable&&N.assert){let e=t[0],n=Array.prototype.slice.call(t,1);n.unshift(">>>"),N.assert.call(N,e,...n)}}warn(...t){M?U.emit(this.MSG_NAME,"warn",[...t].join("")):this._enable&&N.warn.call(N,">>>",...t)}error(...t){M?U.emit(this.MSG_NAME,"error",[...t].join("")):this._enable&&N.error.call(N,">>>",...t)}};class j extends b{constructor(){super()}pipe(t){return this.on("reset",(function(){t.reset()})),this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),t}unpipe(){return this.removeAllListeners("reset"),this.removeAllListeners("data"),this.removeAllListeners("done"),this}push(t,e){this.emit("data",t)}flush(t){this.emit("done",t)}reset(){this.emit("reset")}}class F extends j{constructor(t={}){super(),t.debug&&(U.enable=!0),this.ctx_=new P,this.options_=t,this.cache_buffer_=new L}listenEndStream_(){this.eventManager_=new I,this.eventManager_.on(this.endStream,"data",t=>{this.emit(r.DEMUX_DATA,t)}).on(this.endStream,"done",t=>{this.emit(r.DONE,t)}).on(this.ctx_,"error",t=>{this.emit(r.ERROR,t)})}constraintPushData_(t){let e=null;return B(t)||A(n=t)&&"[object uint8array]"===T.call(n).toLowerCase()?(e=B(t)?new Uint8Array(t):t,e):(U.error("Data pushed is not an ArrayBuffer or Uint8Array: "+t),e);var n}reset(){}destroy(){this.unpipe(),this.endStream.unpipe(),this.eventManager_.removeAll()}}var V;!function(t){t[t.WORKER_EXCEPTION=0]="WORKER_EXCEPTION",t[t.WORKER_MSG_EXCEPTION=1]="WORKER_MSG_EXCEPTION",t[t.TS_SYNC_BYTE=2]="TS_SYNC_BYTE",t[t.FLV_HEAD_SIGNATURE=3]="FLV_HEAD_SIGNATURE",t[t.FLV_NOT_EXPECTED_ADJACENT_DATA=4]="FLV_NOT_EXPECTED_ADJACENT_DATA"}(V||(V={}));var H=V;function W(t){let e=0;return ArrayBuffer.isView(t)&&(e=t.byteOffset,t=t.buffer),new DataView(t,e)}class z{constructor(){}readUint8(t,e){return W(t).getUint8(e)}readUint16(t,e,n=!1){return W(t).getUint16(e,n)}readUint32(t,e,n=!1){return W(t).getUint32(e,n)}}class $ extends z{constructor(t){super(),this.table_id=t[0],this.section_syntax_indicator=t[1]>>7,this.section_length=(15&t[1])<<8|t[2],this.transport_stream_id=this.readUint16(t,3),this.version_number=t[5]>>1&31,this.current_next_indicator=t[5]&&1,this.section_number=t[6],this.last_section_number=t[7],this.network_PID=0;var e,n=0,r=this.section_length-4-5;for(this.pmtTable=[];n<r;n+=4)0==(e=this.readUint16(t,8+n))?(this.network_PID=(31&t[10+n])<<8|t[11+n],U.log("packet->network_PID %0x /n/n",this.network_PID)):this.pmtTable.push({programNum:e,program_map_PID:(31&t[10+n])<<8|t[11+n]});var i=this.section_length+3;this.CRC_32=(255&t[i-4])<<24|(255&t[i-3])<<16|(255&t[i-2])<<8|255&t[i-1]}}class G extends z{constructor(t){if(super(),this.table_id=t[0],this.section_syntax_indicator=t[1]>>7,this.section_length=(15&t[1])<<8|t[2],this.program_number=this.readUint16(t,3),this.version_number=t[5]>>1&31,this.current_next_indicator=t[5]&&1,this.section_number=t[6],this.last_section_number=t[7],this.PCR_PID=(31&t[8])<<8|t[9],this.program_info_length=(15&t[10])<<8|t[11],this.program_info_length<0)return;if(this.program_info_length>2){let e=0;for(;e<this.program_info_length;){e+=t[13+e]}}var e=12+this.program_info_length,n=this.section_length-this.program_info_length-9-4,r=e+n;if(e>=r)return void U.warn(`es_section_pos < es_section_end ${e}, ${r}`);this.pes_table=[];let i=0;for(;i<n;){let n=t[e+i],r=8191&this.readUint16(t,e+i+1),o=4095&this.readUint16(t,e+i+3);if(this.pes_table.push({streamType:n,PID:r}),o>2){let n=0,r=e+i+5;for(;n<o;){n+=t[r+n]}}i+=o+5}var o=this.section_length+3;this.CRC_32=(255&t[o-4])<<24|(255&t[o-3])<<16|(255&t[o-2])<<8|255&t[o-1]}parse(){}}class Y extends z{constructor(t){super(),this.table_id=t[0],this.section_syntax_indicator=t[1]>>7,this.section_length=(15&t[1])<<8|t[2],this.transport_stream_id=this.readUint16(t,3),this.version_number=t[5]>>1&31,this.current_next_indicator=1&t[5],this.section_number=t[6],this.last_section_number=t[7],this.original_network_id=this.readUint16(t,8);let e=this.section_length-8-4;this.service_table=[];let n=0;for(;n<e;){let e=0,r={service_id:this.readUint16(t,11),EIT_schedule_flag:2&t[13],EIT_present_following_flag:1&t[13],running_status:t[14]>>5,free_CA_mode:t[14]>>4&1,descriptors_loop_length:(15&t[14])<<8|t[15],provider_name:"",name:""};for(;e<r.descriptors_loop_length;){let n=16+e,i=t[n],o=t[n+1];switch(i){case 72:{let e=[],i=t[n+3],o=0,a=0,s=n+4;for(o=0;o<i;o++)e.push(String.fromCharCode(t[s])),s+=1;r.provider_name=e.join("");let u=[],c=t[s];for(s+=1,a=0;a<c;a++)u.push(String.fromCharCode(t[s])),s+=1;r.name=u.join("")}break;default:U.warn("sdt section unhandled descriptor_tag "+i)}e+=2+o}this.service_table.push(r),n+=5+r.descriptors_loop_length}}}class q{}class X{constructor(t){this.context=t,this.metadata=new q,this.pat_table=[],this.pes_streams=[]}get currentProgramPID(){let t=[];for(let e=0;e<this.pat_table.length;e++)t.push(this.pat_table[e].pid);return t.length>0?t[0]:-1}reset(){this.metadata=new q,this.pat_table.splice(0,this.pat_table.length),this.pes_streams.splice(0,this.pes_streams.length)}parse(t){0===t.PID?this._parsePat(t):1===t.PID||2===t.PID||3<=t.PID&&t.PID<=15||(17===t.PID?this._parseSdt(t):t.PID===this.currentProgramPID&&this._parsePmt(t))}findTrack(t){let e=null,n=this.pes_streams;for(let r=0;r<n.length;r++)if(n[r].id===t){e=n[r];break}return e}_parsePat(t){let e;if(t.payload_unit_start_indicator){let n=t.payload[0];e=t.payload.subarray(n+1)}else e=t.payload;let n=new $(e);for(var r=0;r<n.pmtTable.length;r++)this._add_pid_to_pmt(n.pmtTable[r].programNum,n.pmtTable[r].program_map_PID);return n}_add_pid_to_pmt(t,e){let n=this.pat_table;(function(t){for(let e,r=0;r<n.length;r++)if(e=n[r],e.id===t)return{idx:r,item:e};return null})(t)||n.push({id:t,pid:e})}_parsePmt(t){let e;if(t.payload_unit_start_indicator){let n=t.payload[0];e=t.payload.subarray(n+1)}else e=t.payload;let n=new G(e);for(var r=0;r<n.pes_table.length;r++)this._add_pes_stream(n.pes_table[r],n);return n}_add_pes_stream(t,e){let n=this.pes_streams;(function(t){for(let e,r=0;r<n.length;r++)if(e=n[r],e.id===t)return{idx:r,item:e};return null})(t.PID)||n.push({id:t.PID,stream_type:t.streamType,pcr_pid:e.PCR_PID,duration:0,sps:[],pps:[],pixelRatio:[1,1],timescale:9e4,width:0,height:0})}_parseSdt(t){let e;if(t.payload_unit_start_indicator){let n=t.payload[0];e=t.payload.subarray(n+1)}else e=t.payload;let n=new Y(e);return n.service_table.length>0&&(this.metadata.service_name=n.service_table[0].name,this.metadata.service_provider=n.service_table[0].provider_name),n}}class K extends j{constructor(t,e){super(),this.context=t,this.PSI=e,this.videoTrack=null,this.audioTrack=null,this.captionTrack=null}push(t){let e=t;for(let t,n=0;n<e.length;n++)switch(t=e[n],t.type){case"video":this._complexVideo(t);break;case"audio":this._complexAudio(t);break;case"caption":this._complexCaption(t)}}flush(){this.emit("done"),this._clearStream()}reset(){this._clearStream()}_clearStream(){this.videoTrack=null,this.audioTrack=null,this.captionTrack=null}_complexVideo(t){let e=this.PSI.findTrack(t.trackId);e&&(e.type="video",e.gops=t,e.firstDTS=t[0][0].dts,e.firstPTS=t[0][0].pts,e.duration=Number.POSITIVE_INFINITY,this.videoTrack=e,this.emit("data",{videoTrack:this.videoTrack}))}_complexAudio(t){let e=this.PSI.findTrack(t.trackId);e&&(e.type="audio",e.frames=t,e.firstPTS=e.firstDTS=t[0].dts,e.duration=Number.POSITIVE_INFINITY,this.audioTrack=e,this.emit("data",{audioTrack:this.audioTrack}))}_complexCaption(){}}const J={mac:!1,iphone:!1,android:!1},Q={version:!1,CHROME:!1,SAFARI:!1,FIREFOX:!1,IE11:!1,IE:!1,EDGE:!1,WECHAT:!1};let Z=navigator.userAgent.toLowerCase();var tt=/(edge)\/([\w.]+)/.exec(Z)||/(opr)[/]([\w.]+)/.exec(Z)||/(chrome)[ /]([\w.]+)/.exec(Z)||/(firefox)[ /]([\w.]+)/.exec(Z)||/(iemobile)[/]([\w.]+)/.exec(Z)||/(version)(applewebkit)[ /]([\w.]+).*(safari)[ /]([\w.]+)/.exec(Z)||/(webkit)[ /]([\w.]+).*(version)[ /]([\w.]+).*(safari)[ /]([\w.]+)/.exec(Z)||/(webkit)[ /]([\w.]+)/.exec(Z)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(Z)||/(msie) ([\w.]+)/.exec(Z)||Z.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(Z)||Z.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(Z)||[],et=/(ipad)/.exec(Z)||/(ipod)/.exec(Z)||/(windows phone)/.exec(Z)||/(iphone)/.exec(Z)||/(kindle)/.exec(Z)||/(silk)/.exec(Z)||/(android)/.exec(Z)||/(win)/.exec(Z)||/(mac)/.exec(Z)||/(linux)/.exec(Z)||/(cros)/.exec(Z)||/(playbook)/.exec(Z)||/(bb)/.exec(Z)||/(blackberry)/.exec(Z)||[],nt={version:void 0},rt={browser:tt[5]||tt[3]||tt[1]||"",version:tt[2]||tt[4]||"0",versionNumber:tt[4]||tt[2]||"0",platform:et[0]||""};if(rt.browser){nt[rt.browser]=!0;let t=rt.versionNumber.split(".");nt.version={major:parseInt(rt.versionNumber,10),string:rt.version},t.length>1&&(nt.version.minor=parseInt(t[1],10)),t.length>2&&(nt.version.build=parseInt(t[2],10))}Q.version=nt.version,Q.CHROME=!!nt.chrome,Q.SAFARI=!!nt.safari&&!Q.CHROME,Q.FIREFOX=!!nt.firefox,Q.IE11=/rv:11/.test(Z),Q.IE=!!nt.msie||Q.IE11,Q.EDGE=!!nt.edge,Q.WECHAT=/(wechat)|(micromessenger)/.test(Z),J.mac=!!rt.platform.mac,J.iphone=!!rt.platform.iphone,J.android=!!rt.platform.android;var it=Q,ot=J;const at=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];const st=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];class ut extends b{constructor(){super()}push(t){let e,n,r,i,o,{pts:a,dts:s,payload:u}=t,c=u,l=0,f=0;for(;l+5<c.length;){if(255!==c[l]||240!=(246&c[l+1])){l++;continue}if(n=2*(1&~c[l+1]),e=(3&c[l+3])<<11|c[l+4]<<3|(224&c[l+5])>>5,i=1024*(1+(3&c[l+6])),o=9e4*i/st[(60&c[l+2])>>>2],r=l+e,c.byteLength<r)return;let t={pts:a+f*o,dts:s+f*o,sampleCount:i,audioObjectType:1+(c[l+2]>>>6&3),channelCount:(1&c[l+2])<<2|(192&c[l+3])>>>6,sampleRate:st[(60&c[l+2])>>>2],samplingFrequencyIndex:(60&c[l+2])>>>2,sampleSize:16,data:c.subarray(l+7+n,r)};if(this.emit("frame",t),c.byteLength===r)return c=void 0,void this.emit("done");f++,c=c.subarray(r)}}}class ct extends j{constructor(t){super(),this.PSI=t,this.trackId=null,this.codec=new ut,this.codec.on("frame",t=>{this.frames.push(t),this.frames.byteLength+=t.data.byteLength,this.frames.trackId=this.trackId}),this._newFrames()}push(t){15===t.stream_type&&(this.trackId=t.pid,this.codec.push({dts:t.pes.DTS,pts:t.pes.PTS,payload:t.pes.data_byte}))}flush(){if(this.frames.length>0){let t=this.frames.length,e=this.frames[0],n=this.frames[t-1],r=n.sampleRate*n.sampleCount/9e4;this.frames.firstDTS=e.dts,this.frames.firstPTS=e.pts,this.frames.duration=1===t?r:r+(n.pts-e.pts),this._updateTrackMeta(e),this.emit("data",this.frames),this.reset(),this.emit("done")}}reset(){this.trackId=null,this._newFrames()}_newFrames(){this.frames=[],this.frames.type="audio",this.frames.byteLength=0,this.frames.duration=0,this.frames.firstDTS=0,this.frames.firstPTS=0}_updateTrackMeta(t){let e=this.PSI.findTrack(this.trackId),n=((t,e,n)=>{let r,i,o=t;if(!(e>at.length-1))return it.FIREFOX?e>=6?(t=5,i=new Array(4),r=e-3):(t=2,i=new Array(2),r=e):ot.android?(t=2,i=new Array(2),r=e):(t=5,i=new Array(4),e>=6?r=e-3:(1===n&&(t=2,i=new Array(2)),r=e)),i[0]=t<<3,i[0]|=(14&e)>>1,i[1]|=(1&e)<<7,i[1]|=n<<3,5===t&&(i[1]|=(14&r)>>1,i[2]=(1&r)<<7,i[2]|=8,i[3]=0),{config:i,sampleRate:at[e],channelCount:n,codec:"mp4a.40."+t,realCodec:"mp4a.40."+o};U.error("invalid sampling index:"+e)})(t.audioObjectType,t.samplingFrequencyIndex,t.channelCount);e.config=n.config,e.sampleRate=n.sampleRate,e.inputTimeScale=e.inputTimeScale||e.timescale,e.timescale=n.sampleRate,e.channelCount=n.channelCount,e.codec=n.codec,e.realCodec=n.realCodec,e.isAAC=!0}}function lt(t,e=0,n=1){let r=0,i=0,o=0,a="",s=0;for(let o=e;o<e+n;o++)r=Math.floor(o/8),i=7-o%8,s=t[r]>>i&1,a+=s;return o=parseInt(a,2),o}function ft(t,e=0){let n=[],r=8*t.byteLength,i=!1,o=0,a=0,s=0,u="";for(let u=e;u<r;u++)if(o=Math.floor(u/8),a=7-u%8,s=t[o]>>a&1,!i){if(0!==s){i=!0,e=u;break}n.push(0)}let c=n.length+1;for(let n=e;n<e+c;n++)o=Math.floor(n/8),a=7-n%8,s=t[o]>>a&1,u+=s;return{bitLength:n.length+c,value:parseInt(u,2)-1}}var ht={readUEV:ft,readSEV:function(t,e=0){let n=ft(t,e),r=n.value,i=Math.pow(-1,r+1)*Math.ceil(r/2);return{bitLength:n.bitLength,value:i}},readBit:lt,readByte:function(t,e=0){return lt(t,e,8)}};let pt=0;function dt(t,e){let n,r=8,i=8;for(var o=0;o<e;o++)0!=i&&(n=ht.readUEV(t,pt),pt+=n.bitLength,i=(r+n.value+256)%256),r=t[o]}class vt extends z{constructor(t){switch(super(),this.forbidden_zero_bit=t[0]>>7,this.ref_idc=t[0]>>5&3,this.unit_type=31&t[0],this.data=function(t){let e,n=t.byteLength,r=[],i=1,o=new Uint8Array(0);for(;i<n-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return t;e=n-r.length;try{o=new Uint8Array(e)}catch(t){throw"epsb alloc mem error "+e}let a=0;for(i=0;i<e;a++,i++)a===r[0]&&(a++,r.shift()),o[i]=t[a];return o}(t.subarray(1)),this.rawData=t,this.unit_type){case 1:break;case 2:case 3:case 4:case 5:break;case 7:this.sps=function(t){pt=0;let e,n,r,i,o,a,s,u=t[0],c=t[1],l=t[2],f=t.subarray(3),h=0,p=[1,1],d=1,v=0,y=!0,g=ht.readUEV(f,pt);if(pt+=g.bitLength,100==u||110==u||122==u||244==u||44==u||83==u||86==u||118==u||128==u){let t=ht.readUEV(f,pt);pt+=t.bitLength,3==t.value&&(pt+=1);let e=ht.readUEV(f,pt);pt+=e.bitLength;let n=ht.readUEV(f,pt);if(pt+=n.bitLength,pt+=1,h=ht.readBit(f,pt),pt+=1,h)for(let e=0;e<(3!=t.value?8:12);e++){let t=ht.readBit(f,pt);pt+=1,t&&dt(f,e<6?16:64)}}let m=ht.readUEV(f,pt);pt+=m.bitLength;let b=ht.readUEV(f,pt),_=b.value;if(pt+=b.bitLength,0===_)e=ht.readUEV(f,pt),pt+=e.bitLength;else if(1===_){pt+=1,n=ht.readSEV(f,pt),pt+=n.bitLength,r=ht.readSEV(f,pt),pt+=r.bitLength,i=ht.readUEV(f,pt),pt+=i.bitLength;for(let t,e=0;e<i.value;e++)t=ht.readSEV(f,pt),pt+=t.bitLength}let w=ht.readUEV(f,pt);pt+=w.bitLength,pt+=1;let x=ht.readUEV(f,pt);pt+=x.bitLength;let k=ht.readUEV(f,pt);pt+=k.bitLength;let S=ht.readBit(f,pt);pt+=1,S||(pt+=1),pt+=1;let E=ht.readBit(f,pt);pt+=1;let P=0,T=0,A=0,R=0;if(E){let t=ht.readUEV(f,pt);pt+=t.bitLength,P=t.value;let e=ht.readUEV(f,pt);pt+=e.bitLength,T=e.value;let n=ht.readUEV(f,pt);pt+=n.bitLength,A=n.value;let r=ht.readUEV(f,pt);pt+=r.bitLength,R=r.value}let B=ht.readBit(f,pt);if(pt+=1,B){let t=ht.readBit(f,pt);if(pt+=1,t){const t=ht.readByte(f,pt);switch(pt+=8,t){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:{let t=ht.readByte(f,pt);pt+=8;let e=ht.readByte(f,pt);pt+=8;let n=ht.readByte(f,pt);pt+=8;let r=ht.readByte(f,pt);pt+=8,p=[t<<8|e,n<<8|r];break}}p&&(d=p[0]/p[1]),255===t&&(pt+=16,pt+=16)}let e=ht.readBit(f,pt);pt+=1,e&&(pt+=1);let n=ht.readBit(f,pt);if(pt+=1,n){o=ht.readBit(f,pt,3),pt+=3,pt+=1;let t=ht.readBit(f,pt);pt+=1,t&&(pt+=24)}let r=ht.readBit(f,pt);if(pt+=1,r){let t=ht.readUEV(f,pt);pt+=t.bitLength;let e=ht.readUEV(f,pt);pt+=e.bitLength}let i=ht.readBit(f,pt);pt+=1,i&&(a=ht.readBit(f,pt,32),pt+=32,s=ht.readBit(f,pt,32),pt+=32,y=!!ht.readBit(f,pt),pt+=1,v=s/(2*a))}return{payload:f,profile_idc:u,profile_compatibility:c,level_idc:l,sps_id:g.value,log2_max_frame_num_minus4:b.value,pic_order_cnt_type:_,log2_max_pic_order_cnt_lsb_minus4:e?e.value:0,width:Math.ceil((16*(x.value+1)-2*P-2*T)*d),height:(2-S)*(k.value+1)*16-2*A-2*R,pixelRatio:p,video_format:o,fps:v,fixedFPS:y}}(this.data);break;case 8:this.pps=function(t){let e,n,r=0,i=t,o=[],a=0;r+=ht.readUEV(i,r).bitLength,r+=ht.readUEV(i,r).bitLength,r+=1,r+=1;let s=ht.readUEV(i,r);if(r+=s.bitLength,s.value>0){let t=ht.readUEV(i,r);r+=t.bitLength;let u,c=0;switch(t.value){case 0:for(c=0;c<=t.value;c++)u=ht.readUEV(i,r),r+=u.bitLength;break;case 2:for(c=0;c<=t.value;c++)u=ht.readUEV(i,r),r+=u.bitLength,u=ht.readUEV(i,r),r+=u.bitLength;break;case 3:case 4:case 5:r+=1,e=ht.readUEV(i,r),r+=e.bitLength;break;case 6:{n=ht.readUEV(i,r),r+=n.bitLength;let t=Math.ceil(Math.log2(s.value+1));for(a=0;a<=n.value;a++)o.push(ht.readBit(i,r,t)),r+=t}}}return r+=ht.readUEV(i,r).bitLength,r+=ht.readUEV(i,r).bitLength,r+=1,r+=1,r+=ht.readSEV(i,r).bitLength,r+=ht.readSEV(i,r).bitLength,r+=ht.readSEV(i,r).bitLength,r+=1,r+=1,r+=1,{sliceGroupNum:s.value+1}}(this.data);break;case 6:this.sei=(this.data,{});break;case 9:this.primary_pic_type=this.data[0]>>5}}}class yt extends b{constructor(){super(),this.cachedBytes=null}push(t){let e,n=this,r=0,i=0,o=0,{pts:a,dts:s,payload:u,naluSizeLength:c}=t;if(this.cachedBytes){try{e=new Uint8Array(this.cachedBytes.byteLength+u.byteLength)}catch(t){throw`h264 alloc mem error ${this.cachedBytes.byteLength}/${u.byteLength}`}e.set(this.cachedBytes),e.set(u,this.cachedBytes.byteLength)}else e=u;if(c){let t=0,r=0,i=0;do{r=0;for(let n=0;n<c;n++)r|=e[t+n]<<8*(c-n-1);t+=c,i=t+r,i>e.length&&(i=e.length);let o=e.subarray(t,i),u=new vt(o);u.pts=a,u.dts=s,n.emit("nalu",u),t=i}while(t<e.length)}else{let t=e.byteLength-1,u=0;do{if(0!==e[t])break;u++,t--}while(t>0);u>=3&&(e=e.subarray(0,t+1));do{let t=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],c=e.length-r>=4?t:-1,l=0,f=r===e.length-1;if(c>>8==1?l=3:1===c&&(l=4),3===l||4===l||f){let t=i+o,c=f&&u>=3;if(r>i&&(!f||c)){let o=e.subarray(t,c?r+1:r),u=new vt(o);u.pts=a,u.dts=s,n.emit("nalu",u),i=r}f&&(u<3?(this.cachedBytes=e.subarray(i),this.cachedBytes.pts=a,this.cachedBytes.dts=s,this.cachedBytes.startCodeLength=o):this.cachedBytes=null),r===i&&(o=l),r+=l||1}else r++}while(r<e.length)}if(this.cachedBytes){let t=new vt(this.cachedBytes.subarray(this.cachedBytes.startCodeLength));t.pts=this.cachedBytes.pts,t.dts=this.cachedBytes.dts,this.emit("nalu",t),this.cachedBytes=null}this.emit("done")}reset(){this.cachedBytes=null}}class gt extends j{constructor(t){super(),this.PSI=t,this.trackId=null,this.currentFrame=[],this.codec=new yt,this._newGop(),this._newGops(),this.codec.on("nalu",t=>{if(7===t.unit_type){let e=this.PSI.findTrack(this.trackId),n=(t=>{let e="avc1.",n=[t.profile_idc,t.profile_compatibility,t.level_idc];for(let t=0;t<n.length;t++){let r=n[t].toString(16);r.length<2&&(r="0"+r),e+=r}return{codec:e}})(t.sps);e.codec=n.codec,e.width=t.sps.width,e.height=t.sps.height,e.profileIdc=t.sps.profile_idc,e.profileCompatibility=t.sps.profile_compatibility,e.levelIdc=t.sps.level_idc,e.pixelRatio=t.sps.pixelRatio,e.sps=[t.rawData]}else if(8===t.unit_type){this.PSI.findTrack(this.trackId).pps=[t.rawData]}this._grouping(t)})}push(t){const{stream_type:e,pes:n,pid:r}=t;if(27===e||36===e){this.trackId=r;let t={pts:n.PTS,dts:n.DTS,payload:n.data_byte};this.codec.push(t)}}flush(){this.currentFrame.length>0&&((!this.currentFrame.duration||this.currentFrame.duration<=0)&&(this.currentFrame.duration=this.prevFrame.duration||0),this._pushFrameIntoGop(),this.currentFrame=[]),this.gop.length>0&&this._pushGopIntoGroup()}reset(){this.codec.reset(),this.currentFrame=[],this._newGop(),this._newGops()}_grouping(t){9===t.unit_type?(this.currentFrame.length>0&&(this.currentFrame.duration=t.dts-this.currentFrame.dts,this.gop.length>0&&this.currentFrame.keyframe&&(this.gop.trackId=this.trackId,this._pushGopIntoGroup()),this.currentFrame.keyframe||this.gop.length>0?this._pushFrameIntoGop():U.warn("h264 codec drop frame")),this.prevFrame=this.currentFrame,this.currentFrame=[],this.currentFrame.keyframe=!1,this.currentFrame.byteLength=0,this.currentFrame.naluCount=0,this.currentFrame.pts=t.pts,this.currentFrame.dts=t.dts):(5===t.unit_type&&(this.currentFrame.keyframe=!0),this.currentFrame.byteLength+=t.rawData.byteLength,this.currentFrame.naluCount++,this.currentFrame.push(t)),this.currentFrame.duration=t.dts-this.currentFrame.dts}_newGop(){this.gop=[],this.gop.duration=0,this.gop.naluCount=0,this.gop.byteLength=0}_pushFrameIntoGop(){this.gop.push(this.currentFrame),this.gop.duration+=this.currentFrame.duration,this.gop.byteLength+=this.currentFrame.byteLength,this.gop.naluCount+=this.currentFrame.naluCount}_newGops(){this.gops=[],this.gops.type="video",this.gops.duration=0,this.gops.naluCount=0,this.gops.byteLength=0,this.gops.frameLength=0,this.gops.firstDTS=0}_pushGopIntoGroup(){let t=this.gop[0];this.gops.trackId=this.trackId,this.gops.duration+=this.gop.duration,this.gops.byteLength+=this.gop.byteLength,this.gops.naluCount+=this.gop.naluCount,this.gops.frameLength+=this.gop.length,this.gops.firstDTS=t.dts,this.gops.firstPTS=t.pts,this.gops.push(this.gop),this.emit("data",this.gops),this._newGop(),this._newGops(),this.emit("done")}}class mt extends j{constructor(t,e,n={}){super(),this.context=t,this.PSI=e,this.options=n,this.tracks=[],this.adtsStream=new ct(e),this.avcStream=new gt(e),this.streams=[this.adtsStream,this.avcStream],n.decodeCodec&&(this.avcStream.on("data",t=>{let e=n.config.stubTime;if(R(e)){let n=(t.firstPTS+t.duration)/9e4;if(n<e)return void U.warn(`drop avc gop, start/end/stubTime(${t.firstPTS}/${n}/${e})`)}this.tracks.push(t),this.emit("data",this.tracks),this.tracks=[],this.adtsStream.flush()}),this.adtsStream.on("data",t=>{let e=n.config.stubTime;if(R(e)){let n=(t.firstPTS+t.duration)/9e4;if(n<e)return void U.warn(`drop adts, start/end/stubTime(${t.firstPTS}/${n}/${e})`)}this.tracks.push(t),this.emit("data",this.tracks),this.tracks=[]}))}push(t){const{options:e,adtsStream:n,avcStream:r}=this;let{stream_type:i}=t;if(e.decodeCodec)switch(i){case 27:case 36:r.push(t);break;case 15:n.push(t);break;default:U.warn("ts elementary encounter unknown stream type "+i)}else this.emit("data",t)}flush(){let{streams:t,tracks:e}=this;for(let e=0;e<this.streams.length;e++){t[e].flush()}e.length>0&&this.emit("data",e),this.emit("done"),e.splice(0,e.length)}reset(){this.tracks=[];for(let t=0;t<this.streams.length;t++){this.streams[t].reset()}this.emit("reset")}}class bt extends z{constructor(t){super(),this.start_code_prefix=this.readUint16(t,0)<<8|t[2],this.stream_id=t[3],this.packet_length=this.readUint16(t,4),this.data_alignment_indicator=4&t[6],this.copyright=2&t[6],this.PTS_DTS_flags=t[7]>>6,this.ESCR_flag=32&t[7],this.ES_rate_flag=16&t[7],this.trick_mode_flag=8&t[7],this.additional_copy_info_flag=4&t[7],this.CRC_flag=2&t[7],this.extension_flag=1&t[7],this.header_data_length=t[8],this.PTS=0,2==(2&this.PTS_DTS_flags)&&(this.PTS=this.calcTimestamp_(t,9)),this.DTS=this.PTS,1==(1&this.PTS_DTS_flags)&&(this.DTS=this.calcTimestamp_(t,14)),this.data_byte=t.subarray(9+this.header_data_length)}calcTimestamp_(t,e){return 536870912*(14&t[e])+(t[e+1]<<22)+(t[e+2]>>1<<15)+(t[e+3]<<7)+(t[e+4]>>1)}valid(){let t=this.start_code_prefix;return 0===t[0]&&0===t[1]&&1===t[2]}}class _t extends j{constructor(t,e){super(),this.context=t,this.PSI=e,this.PID=null,this.cache_buffer=new L}push(t){const e=this;t.PID>255&&t.PID<8191&&(-1==this.PSI.currentProgramPID?e._pushPacket(t):this.PSI.currentProgramPID!==t.PID&&(1===t.payload_unit_start_indicator&&e._assembleOnePES(),e._pushPacket(t)))}flush(){this._assembleOnePES(),this.emit("done")}reset(){this._clearCached(),this.emit("reset")}_clearCached(){this.PID=null,this.cache_buffer.clear()}_pushPacket(t){let e=this.cache_buffer.empty;e&&0===t.payload_unit_start_indicator||(e&&(this.PID=t.PID),this.cache_buffer.append(t.payload))}_assembleOnePES(){const t=this;if(!this.cache_buffer.empty){let e;try{e=this.cache_buffer.toNewBytes()}catch(t){throw"pes alloc mem err "+this.cache_buffer.byteLength}let n=new bt(e),r=this.PSI.findTrack(this.PID);if(r){let e={pid:r.id,stream_type:r.stream_type,pcr_pid:r.pcr_pid,pes:n};t.emit("data",e)}t._clearCached()}}}class wt extends z{constructor(t){if(super(),this.sync_byte=t[0],this.transport_error_indicator=t[1]>>7,this.payload_unit_start_indicator=t[1]>>6&1,this.transport_priority=t[1]>>>5&1,this.PID=8191&this.readUint16(t,1),this.tsc=t[3]>>6,this.afc=t[3]>>4&3,this.continuity_counter=15&t[3],this.has_payload=1&this.afc,this.has_adaptation=2&this.afc,this.has_payload)if(this.has_adaptation){let e=t[4];this.payload=t.subarray(5+e)}else this.payload=t.subarray(4)}valid(){return 71===this.sync_byte&&1===this.has_payload}}class xt extends F{constructor(t={}){super(t),this.psi_=new X(this.ctx_),this.pesStream_=new _t(this.ctx_,this.psi_),this.elementaryStream_=new mt(this.ctx_,this.psi_,t),this.complexStream_=new K(this.ctx_,this.psi_),this.pipe(this.pesStream_),this.pesStream_.pipe(this.elementaryStream_),this.elementaryStream_.pipe(this.complexStream_),super.listenEndStream_()}get endStream(){let t=this.elementaryStream_;return this.options_.decodeCodec&&(t=this.complexStream_),t}push(t,e){const{done:n}=e,{options_:r,ctx_:i,cache_buffer_:o,psi_:a}=this;let s=super.constraintPushData_(t),u=o.byteLength,c=null;for(r.config=e,U.log(`hls demux received ${s.byteLength} bytes, cache ${u} bytes. ${n?"chunk done":""}`),o.append(s);o.byteLength>=188;){let t=o.cut(188);if(t){let e=new wt(t);if(!e.valid()){let n=`Encounter invalid ts packet, packet_length(${t.length}), cache_length(${this.cache_buffer_.byteLength}), has_payload(${e.has_payload}), data(${t})`;U.error(n),this.reset(),i.emit("error",H.TS_SYNC_BYTE,n,{startByte:c,endByte:c+t.byteLength});break}a.parse(e),this.emit("data",e),c+=t.byteLength}}o.empty&&n&&this.emit("done")}reset(){this.cache_buffer_.clear(),this.emit("reset")}}var kt,St;!function(t){t[t.HEAD=0]="HEAD",t[t.BODY=1]="BODY"}(kt||(kt={})),function(t){t[t.SCRIPT_DATA=18]="SCRIPT_DATA",t[t.VIDEO=9]="VIDEO",t[t.AUDIO=8]="AUDIO"}(St||(St={}));var Et,Pt,Tt,At;!function(t){t[t.AAC=10]="AAC"}(Et||(Et={})),function(t){t[t.MONO=0]="MONO",t[t.STEREO=1]="STEREO"}(Pt||(Pt={}));!function(t){t[t.SEQUENCE_HEAD=0]="SEQUENCE_HEAD",t[t.AAC_RAW=1]="AAC_RAW"}(Tt||(Tt={}));!function(t){t[t.SEQUENCE_HEAD=0]="SEQUENCE_HEAD",t[t.NALU=1]="NALU",t[t.SEQUENCE_END=2]="SEQUENCE_END"}(At||(At={}));const Rt=new yt,Bt=[];Rt.on("nalu",t=>{Bt.push(t)});var Lt;!function(t){t[t.AVC=7]="AVC"}(Lt||(Lt={}));var Ct=function(){function t(e){o()(this,t),p()(this,"previousPes",null),p()(this,"maxAudioPTS",0),p()(this,"maxVideoPTS",0),e?(this.init(),this.dataArray=[],this.videoArray=[],this.audioArray=[],this.decode=e):console.error("class TsDemux need pass decode parmas")}return s()(t,[{key:"init",value:function(){var t=this;try{this.demuxer=new xt({enableWorker:!1,debug:!1,onlyDemuxElementary:!0}),this.demuxer.on(r.DEMUX_DATA,(function(e){e instanceof Array?(t.dataArray.push(e),t.demuxed(t.dataArray),t.dataArray=[]):t.dataArray.push(e)})),this.demuxer.on(r.DONE,(function(e){var n={};t.demuxed(t.dataArray),t.dataArray=[],t.previousPes.partEnd=!0,t.previousPes.lastTS=t.isLast,t.isLast?(t.maxPTS=Math.min(t.maxAudioPTS,t.maxVideoPTS),n.audioEnd=!0,t.audioQueue(n),self.postMessage({type:"demuxedAAC",data:t.audioArray,no:t.no}),t.audioArray=[],self.postMessage({type:"maxPTS",data:{maxAudioPTS:t.maxAudioPTS,maxVideoPTS:t.maxVideoPTS}})):(self.postMessage({type:"demuxedAAC",data:t.audioArray,no:t.no}),t.audioArray=[]),t.decode.no=t.no,t.decode.push(t.videoArray),t.videoArray=[],t.previousPes=null}))}catch(t){console.error("init demuxer failed.")}}},{key:"push",value:function(t){this.demuxer.push(t,{done:!0})}},{key:"demuxed",value:function(t){var e=this;t.forEach((function(t){e.tsDemuxed(t)}))}},{key:"tsDemuxed",value:function(t){var e=t.stream_type,n=t.pes||{};switch(e){case 27:case 36:this.videoQueue(n);break;case 3:case 15:case 17:n.PTS=Math.round(n.PTS*u.a*1e3),this.maxAudioPTS=Math.max(n.PTS,this.maxAudioPTS),this.audioQueue(n)}}},{key:"audioQueue",value:function(t){this.audioArray.push(t)}},{key:"videoQueue",value:function(t){this.previousPes=t,this.maxVideoPTS=Math.max(this.maxVideoPTS,t.PTS),this.videoArray.push(t)}},{key:"destroy",value:function(){this.demuxer.destroy()}}]),t}();self.decode=new f,self.demuxer=new Ct(self.decode);e.default=function(t){t.onmessage=function(e){var n=e.data,r=n.type,i=n.data,o=n.no,a=n.isLast;switch(r){case"startDemux":t.demuxer.isLast=a,t.demuxer.no=o,t.demuxer.push(i);break;case"loadwasm":t.decode.loadWASM(e);break;case"flush":t.decode.flush()}}}},function(t,e,n){t.exports=!n(22)&&!n(14)((function(){return 7!=Object.defineProperty(n(159)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(13),i=n(21),o=n(63),a=n(160),s=n(23).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(33),i=n(35),o=n(99)(!1),a=n(161)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(23),i=n(15),o=n(64);t.exports=n(22)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(35),i=n(67).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(22),i=n(64),o=n(100),a=n(91),s=n(25),u=n(90),c=Object.assign;t.exports=!c||n(14)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=s(t),c=arguments.length,l=1,f=o.f,h=a.f;c>l;)for(var p,d=u(arguments[l++]),v=f?i(d).concat(f(d)):i(d),y=v.length,g=0;y>g;)p=v[g++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:c},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(44),i=n(16),o=n(196),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(13).parseInt,i=n(74).trim,o=n(165),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(13).parseFloat,i=n(74).trim;t.exports=1/r(n(165)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(50);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(16),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var r=n(66),i=n(61),o=n(73),a={};n(34)(a,n(17)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(15);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(319);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(44),i=n(25),o=n(90),a=n(19);t.exports=function(t,e,n,s,u){r(e);var c=i(t),l=o(c),f=a(c.length),h=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(h in l){s=l[h],h+=p;break}if(h+=p,u?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:f>h;h+=p)h in l&&(s=e(s,l[h],h,c));return s}},function(t,e,n){"use strict";var r=n(25),i=n(65),o=n(19);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(180);n(8)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(22)&&"g"!=/./g.flags&&n(23).f(RegExp.prototype,"flags",{configurable:!0,get:n(103)})},function(t,e,n){"use strict";var r,i,o,a,s=n(63),u=n(13),c=n(43),l=n(92),f=n(8),h=n(16),p=n(44),d=n(77),v=n(106),y=n(93),g=n(182).set,m=n(339)(),b=n(211),_=n(340),w=n(107),x=n(212),k=u.TypeError,S=u.process,E=S&&S.versions,P=E&&E.v8||"",T=u.Promise,A="process"==l(S),R=function(){},B=i=b.f,L=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(17)("species")]=function(t){t(R,R)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==P.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),C=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;m((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&N(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?c(k("Promise-chain cycle")):(o=C(n))?o.call(n,u,c):u(n)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)}))}},I=function(t){g.call(u,(function(){var e,n,r,i=t._v,o=O(t);if(o&&(e=_((function(){A?S.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=A||O(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},O=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){g.call(u,(function(){var e;A?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},M=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw k("Promise can't be resolved itself");(e=C(t))?m((function(){var r={_w:n,_d:!1};try{e.call(t,c(U,r,1),c(M,r,1))}catch(t){M.call(r,t)}})):(n._v=t,n._s=1,D(n,!1))}catch(t){M.call({_w:n,_d:!1},t)}}};L||(T=function(t){d(this,T,"Promise","_h"),p(t),r.call(this);try{t(c(U,this,1),c(M,this,1))}catch(t){M.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(78)(T.prototype,{then:function(t,e){var n=B(y(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(U,t,1),this.reject=c(M,t,1)},b.f=B=function(t){return t===T||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!L,{Promise:T}),n(73)(T,"Promise"),n(76)("Promise"),a=n(21).Promise,f(f.S+f.F*!L,"Promise",{reject:function(t){var e=B(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!L),"Promise",{resolve:function(t){return x(s&&this===a?T:this,t)}}),f(f.S+f.F*!(L&&n(102)((function(t){T.all(t).catch(R)}))),"Promise",{all:function(t){var e=this,n=B(e),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;v(t,!1,(function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=B(e),r=n.reject,i=_((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(44);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(15),i=n(16),o=n(211);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(23).f,i=n(66),o=n(78),a=n(43),s=n(77),u=n(106),c=n(171),l=n(207),f=n(76),h=n(22),p=n(58).fastKey,d=n(70),v=h?"_s":"size",y=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t((function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&u(r,n,t[c],t)}));return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=d(this,e),r=y(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(d(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return d(this,e)[v]}}),l},def:function(t,e,n){var r,i,o=y(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=d(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(78),i=n(58).getWeak,o=n(15),a=n(16),s=n(77),u=n(106),c=n(48),l=n(33),f=n(70),h=c(5),p=c(6),d=0,v=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,e){return h(t.a,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t((function(t,r){s(t,c,e,"_i"),t._t=e,t._i=d++,t._l=void 0,null!=r&&u(r,n,t[o],t)}));return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},function(t,e,n){var r=n(45),i=n(19);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(67),i=n(100),o=n(15),a=n(13).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(19),i=n(167),o=n(51);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return s;var f=l-u,h=i.call(c,Math.ceil(f/c.length));return h.length>f&&(h=h.slice(0,f)),a?h+s:s+h}},function(t,e,n){var r=n(22),i=n(64),o=n(35),a=n(91).f;t.exports=function(t){return function(e){for(var n,s=o(e),u=i(s),c=u.length,l=0,f=[];c>l;)n=u[l++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},,,,function(t,e,n){n(225),t.exports=n(410)},function(t,e,n){"use strict";n(226);var r,i=(r=n(397))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(t,e,n){"use strict";n(227),n(370),n(372),n(375),n(377),n(379),n(381),n(383),n(385),n(387),n(389),n(391),n(393),n(97)},function(t,e,n){n(228),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(309),n(310),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(179),n(333),n(208),n(334),n(209),n(335),n(336),n(337),n(338),n(210),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),t.exports=n(21)},function(t,e,n){"use strict";var r=n(13),i=n(33),o=n(22),a=n(8),s=n(28),u=n(58).KEY,c=n(14),l=n(98),f=n(73),h=n(62),p=n(17),d=n(160),v=n(189),y=n(230),g=n(101),m=n(15),b=n(16),_=n(25),w=n(35),x=n(57),k=n(61),S=n(66),E=n(192),P=n(46),T=n(100),A=n(23),R=n(64),B=P.f,L=A.f,C=E.f,D=r.Symbol,I=r.JSON,O=I&&I.stringify,N=p("_hidden"),M=p("toPrimitive"),U={}.propertyIsEnumerable,j=l("symbol-registry"),F=l("symbols"),V=l("op-symbols"),H=Object.prototype,W="function"==typeof D&&!!T.f,z=r.QObject,$=!z||!z.prototype||!z.prototype.findChild,G=o&&c((function(){return 7!=S(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=B(H,e);r&&delete H[e],L(t,e,n),r&&t!==H&&L(H,e,r)}:L,Y=function(t){var e=F[t]=S(D.prototype);return e._k=t,e},q=W&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},X=function(t,e,n){return t===H&&X(V,e,n),m(t),e=x(e,!0),m(n),i(F,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=S(n,{enumerable:k(0,!1)})):(i(t,N)||L(t,N,k(1,{})),t[N][e]=!0),G(t,e,n)):L(t,e,n)},K=function(t,e){m(t);for(var n,r=y(e=w(e)),i=0,o=r.length;o>i;)X(t,n=r[i++],e[n]);return t},J=function(t){var e=U.call(this,t=x(t,!0));return!(this===H&&i(F,t)&&!i(V,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,N)&&this[N][t])||e)},Q=function(t,e){if(t=w(t),e=x(e,!0),t!==H||!i(F,e)||i(V,e)){var n=B(t,e);return!n||!i(F,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=C(w(t)),r=[],o=0;n.length>o;)i(F,e=n[o++])||e==N||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===H,r=C(n?V:w(t)),o=[],a=0;r.length>a;)!i(F,e=r[a++])||n&&!i(H,e)||o.push(F[e]);return o};W||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(V,n),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),G(this,t,k(1,n))};return o&&$&&G(H,t,{configurable:!0,set:e}),Y(t)}).prototype,"toString",(function(){return this._k})),P.f=Q,A.f=X,n(67).f=E.f=Z,n(91).f=J,T.f=tt,o&&!n(63)&&s(H,"propertyIsEnumerable",J,!0),d.f=function(t){return Y(p(t))}),a(a.G+a.W+a.F*!W,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=R(p.store),it=0;rt.length>it;)v(rt[it++]);a(a.S+a.F*!W,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=D(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){$=!0},useSimple:function(){$=!1}}),a(a.S+a.F*!W,"Object",{create:function(t,e){return void 0===e?S(t):K(S(t),e)},defineProperty:X,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var ot=c((function(){T.f(1)}));a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return T.f(_(t))}}),I&&a(a.S+a.F*(!W||c((function(){var t=D();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!q(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,O.apply(I,r)}}),D.prototype[M]||n(34)(D.prototype,M,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){t.exports=n(98)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(64),i=n(100),o=n(91);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(8);r(r.S,"Object",{create:n(66)})},function(t,e,n){var r=n(8);r(r.S+r.F*!n(22),"Object",{defineProperty:n(23).f})},function(t,e,n){var r=n(8);r(r.S+r.F*!n(22),"Object",{defineProperties:n(191)})},function(t,e,n){var r=n(35),i=n(46).f;n(47)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e,n){var r=n(25),i=n(68);n(47)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(25),i=n(64);n(47)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){n(47)("getOwnPropertyNames",(function(){return n(192).f}))},function(t,e,n){var r=n(16),i=n(58).onFreeze;n(47)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(16),i=n(58).onFreeze;n(47)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(16),i=n(58).onFreeze;n(47)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(16);n(47)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(16);n(47)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(16);n(47)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},function(t,e,n){var r=n(8);r(r.S+r.F,"Object",{assign:n(193)})},function(t,e,n){var r=n(8);r(r.S,"Object",{is:n(194)})},function(t,e,n){var r=n(8);r(r.S,"Object",{setPrototypeOf:n(164).set})},function(t,e,n){"use strict";var r=n(92),i={};i[n(17)("toStringTag")]="z",i+""!="[object z]"&&n(28)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(8);r(r.P,"Function",{bind:n(195)})},function(t,e,n){var r=n(23).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(22)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(16),i=n(68),o=n(17)("hasInstance"),a=Function.prototype;o in a||n(23).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(8),i=n(197);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(8),i=n(198);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(13),i=n(33),o=n(50),a=n(166),s=n(57),u=n(14),c=n(67).f,l=n(46).f,f=n(23).f,h=n(74).trim,p=r.Number,d=p,v=p.prototype,y="Number"==o(n(66)(v)),g="trim"in String.prototype,m=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=g?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(y?u((function(){v.valueOf.call(n)})):"Number"!=o(n))?a(new d(m(e)),n,p):m(e)};for(var b,_=n(22)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(d,b=_[w])&&!i(p,b)&&f(p,b,l(d,b));p.prototype=v,v.constructor=p,n(28)(r,"Number",p)}},function(t,e,n){"use strict";var r=n(8),i=n(45),o=n(199),a=n(167),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(14)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,l),c=i(t),v="",y="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(d(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),f(1,1),h(2),y=p()}else f(0,n),f(1<<-e,0),y=p()+a.call("0",c);return y=c>0?v+((s=y.length)<=c?"0."+a.call("0",c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c)):v+y}})},function(t,e,n){"use strict";var r=n(8),i=n(14),o=n(199),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(8);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(8),i=n(13).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(8);r(r.S,"Number",{isInteger:n(200)})},function(t,e,n){var r=n(8);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(8),i=n(200),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(8);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(8);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(8),i=n(198);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(8),i=n(197);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(8),i=n(201),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(8),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(8),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(8),i=n(168);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(8);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(8),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(8),i=n(169);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(8);r(r.S,"Math",{fround:n(273)})},function(t,e,n){var r=n(168),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<u?c*(i/u/a+1/o-1/o)*u*a:(n=(e=(1+a/o)*i)-(e-i))>s||n!=n?c*(1/0):c*n}},function(t,e,n){var r=n(8),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(8),i=Math.imul;r(r.S+r.F*n(14)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(8);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(8);r(r.S,"Math",{log1p:n(201)})},function(t,e,n){var r=n(8);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(8);r(r.S,"Math",{sign:n(168)})},function(t,e,n){var r=n(8),i=n(169),o=Math.exp;r(r.S+r.F*n(14)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(8),i=n(169),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(8);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(8),i=n(65),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(8),i=n(35),o=n(19);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(74)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){"use strict";var r=n(170)(!0);n(171)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var r=n(8),i=n(170)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(8),i=n(19),o=n(172),a="".endsWith;r(r.P+r.F*n(174)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var r=n(8),i=n(172);r(r.P+r.F*n(174)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(8);r(r.P,"String",{repeat:n(167)})},function(t,e,n){"use strict";var r=n(8),i=n(19),o=n(172),a="".startsWith;r(r.P+r.F*n(174)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(29)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,n){"use strict";n(29)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,n){"use strict";n(29)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,n){"use strict";n(29)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,n){"use strict";n(29)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,n){"use strict";n(29)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,n){"use strict";n(29)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,n){"use strict";n(29)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,n){"use strict";n(29)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,n){"use strict";n(29)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){"use strict";n(29)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,n){"use strict";n(29)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){"use strict";n(29)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,n){var r=n(8);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(8),i=n(25),o=n(57);r(r.P+r.F*n(14)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(8),i=n(308);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(14),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(28)(r,"toString",(function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,e,n){var r=n(17)("toPrimitive"),i=Date.prototype;r in i||n(34)(i,r,n(311))},function(t,e,n){"use strict";var r=n(15),i=n(57);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(8);r(r.S,"Array",{isArray:n(101)})},function(t,e,n){"use strict";var r=n(43),i=n(8),o=n(25),a=n(203),s=n(175),u=n(19),c=n(176),l=n(177);i(i.S+i.F*!n(102)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,f,h=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,y=void 0!==v,g=0,m=l(h);if(y&&(v=r(v,d>2?arguments[2]:void 0,2)),null==m||p==Array&&s(m))for(n=new p(e=u(h.length));e>g;g++)c(n,g,y?v(h[g],g):h[g]);else for(f=m.call(h),n=new p;!(i=f.next()).done;g++)c(n,g,y?a(f,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){"use strict";var r=n(8),i=n(176);r(r.S+r.F*n(14)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(8),i=n(35),o=[].join;r(r.P+r.F*(n(90)!=Object||!n(41)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(8),i=n(163),o=n(50),a=n(65),s=n(19),u=[].slice;r(r.P+r.F*n(14)((function(){i&&u.call(i)})),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),c=a(e,n),l=s(c-i),f=new Array(l),h=0;h<l;h++)f[h]="String"==r?this.charAt(i+h):this[i+h];return f}})},function(t,e,n){"use strict";var r=n(8),i=n(44),o=n(25),a=n(14),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!n(41)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(8),i=n(48)(0),o=n(41)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(16),i=n(101),o=n(17)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(8),i=n(48)(1);r(r.P+r.F*!n(41)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(8),i=n(48)(2);r(r.P+r.F*!n(41)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(8),i=n(48)(3);r(r.P+r.F*!n(41)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(8),i=n(48)(4);r(r.P+r.F*!n(41)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(8),i=n(205);r(r.P+r.F*!n(41)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(8),i=n(205);r(r.P+r.F*!n(41)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(8),i=n(99)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(41)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(8),i=n(35),o=n(45),a=n(19),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(41)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(8);r(r.P,"Array",{copyWithin:n(206)}),n(69)("copyWithin")},function(t,e,n){var r=n(8);r(r.P,"Array",{fill:n(178)}),n(69)("fill")},function(t,e,n){"use strict";var r=n(8),i=n(48)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(69)("find")},function(t,e,n){"use strict";var r=n(8),i=n(48)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(69)(o)},function(t,e,n){n(76)("Array")},function(t,e,n){var r=n(13),i=n(166),o=n(23).f,a=n(67).f,s=n(173),u=n(103),c=r.RegExp,l=c,f=c.prototype,h=/a/g,p=/a/g,d=new c(h)!==h;if(n(22)&&(!d||n(14)((function(){return p[n(17)("match")]=!1,c(h)!=h||c(p)==p||"/a/i"!=c(h,"i")})))){c=function(t,e){var n=this instanceof c,r=s(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(d?new l(r&&!o?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),n?this:f,c)};for(var v=function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},y=a(l),g=0;y.length>g;)v(y[g++]);f.constructor=c,c.prototype=f,n(28)(r,"RegExp",c)}n(76)("RegExp")},function(t,e,n){"use strict";n(209);var r=n(15),i=n(103),o=n(22),a=/./.toString,s=function(t){n(28)(RegExp.prototype,"toString",t,!0)};n(14)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(t,e,n){"use strict";var r=n(15),i=n(19),o=n(181),a=n(104);n(105)("match",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var f,h=[],p=0;null!==(f=a(u,c));){var d=String(f[0]);h[p]=d,""===d&&(u.lastIndex=o(c,i(u.lastIndex),l)),p++}return 0===p?null:h}]}))},function(t,e,n){"use strict";var r=n(15),i=n(25),o=n(19),a=n(45),s=n(181),u=n(104),c=Math.max,l=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(105)("replace",2,(function(t,e,n,d){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=d(n,t,this,e);if(i.done)return i.value;var f=r(t),h=String(this),p="function"==typeof e;p||(e=String(e));var y=f.global;if(y){var g=f.unicode;f.lastIndex=0}for(var m=[];;){var b=u(f,h);if(null===b)break;if(m.push(b),!y)break;""===String(b[0])&&(f.lastIndex=s(h,o(f.lastIndex),g))}for(var _,w="",x=0,k=0;k<m.length;k++){b=m[k];for(var S=String(b[0]),E=c(l(a(b.index),h.length),0),P=[],T=1;T<b.length;T++)P.push(void 0===(_=b[T])?_:String(_));var A=b.groups;if(p){var R=[S].concat(P,E,h);void 0!==A&&R.push(A);var B=String(e.apply(void 0,R))}else B=v(S,h,E,P,A,e);E>=x&&(w+=h.slice(x,E)+B,x=E+S.length)}return w+h.slice(x)}];function v(t,e,r,o,a,s){var u=r+t.length,c=o.length,l=p;return void 0!==a&&(a=i(a),l=h),n.call(s,l,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var h=f(l/10);return 0===h?n:h<=c?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s}))}}))},function(t,e,n){"use strict";var r=n(15),i=n(194),o=n(104);n(105)("search",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=o(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},function(t,e,n){"use strict";var r=n(173),i=n(15),o=n(93),a=n(181),s=n(19),u=n(104),c=n(180),l=n(14),f=Math.min,h=[].push,p="length",d=!l((function(){RegExp(4294967295,"y")}));n(105)("split",2,(function(t,e,n,l){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,l+"g");(o=c.call(v,i))&&!((a=v.lastIndex)>f&&(u.push(i.slice(f,o.index)),o[p]>1&&o.index<i[p]&&h.apply(u,o.slice(1)),s=o[0][p],f=a,u[p]>=d));)v.lastIndex===o.index&&v.lastIndex++;return f===i[p]?!s&&v.test("")||u.push(""):u.push(i.slice(f)),u[p]>d?u.slice(0,d):u}:"0".split(void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):v.call(String(i),n,r)},function(t,e){var r=l(v,t,this,e,v!==n);if(r.done)return r.value;var c=i(t),h=String(this),p=o(c,RegExp),y=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(d?"y":"g"),m=new p(d?c:"^(?:"+c.source+")",g),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===h.length)return null===u(m,h)?[h]:[];for(var _=0,w=0,x=[];w<h.length;){m.lastIndex=d?w:0;var k,S=u(m,d?h:h.slice(w));if(null===S||(k=f(s(m.lastIndex+(d?0:w)),h.length))===_)w=a(h,w,y);else{if(x.push(h.slice(_,w)),x.length===b)return x;for(var E=1;E<=S.length-1;E++)if(x.push(S[E]),x.length===b)return x;w=_=k}}return x.push(h.slice(_)),x}]}))},function(t,e,n){var r=n(13),i=n(182).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(50)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var r=n(213),i=n(70);t.exports=n(108)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(213),i=n(70);t.exports=n(108)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(13),o=n(48)(0),a=n(28),s=n(58),u=n(193),c=n(214),l=n(16),f=n(70),h=n(70),p=!i.ActiveXObject&&"ActiveXObject"in i,d=s.getWeak,v=Object.isExtensible,y=c.ufstore,g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(l(t)){var e=d(t);return!0===e?y(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(f(this,"WeakMap"),t,e)}},b=t.exports=n(108)("WeakMap",g,m,c,!0,!0);h&&p&&(u((r=c.getConstructor(g,"WeakMap")).prototype,m),s.NEED=!0,o(["delete","has","get","set"],(function(t){var e=b.prototype,n=e[t];a(e,t,(function(e,i){if(l(e)&&!v(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},function(t,e,n){"use strict";var r=n(214),i=n(70);n(108)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(8),i=n(109),o=n(183),a=n(15),s=n(65),u=n(19),c=n(16),l=n(13).ArrayBuffer,f=n(93),h=o.ArrayBuffer,p=o.DataView,d=i.ABV&&l.isView,v=h.prototype.slice,y=i.VIEW;r(r.G+r.W+r.F*(l!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||c(t)&&y in t}}),r(r.P+r.U+r.F*n(14)((function(){return!new h(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(f(this,h))(u(i-r)),c=new p(this),l=new p(o),d=0;r<i;)l.setUint8(d++,c.getUint8(r++));return o}}),n(76)("ArrayBuffer")},function(t,e,n){var r=n(8);r(r.G+r.W+r.F*!n(109).ABV,{DataView:n(183).DataView})},function(t,e,n){n(52)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(52)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(52)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(8),i=n(44),o=n(15),a=(n(13).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(14)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(8),i=n(66),o=n(44),a=n(15),s=n(16),u=n(14),c=n(195),l=(n(13).Reflect||{}).construct,f=u((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),h=!u((function(){l((function(){}))}));r(r.S+r.F*(f||h),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var r=n(23),i=n(8),o=n(15),a=n(57);i(i.S+i.F*n(14)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(8),i=n(46).f,o=n(15);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(8),i=n(15),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(202)(o,"Object",(function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(46),i=n(68),o=n(33),a=n(8),s=n(16),u=n(15);a(a.S,"Reflect",{get:function t(e,n){var a,c,l=arguments.length<3?e:arguments[2];return u(e)===l?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=i(e))?t(c,n,l):void 0}})},function(t,e,n){var r=n(46),i=n(8),o=n(15);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(8),i=n(68),o=n(15);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(8);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(8),i=n(15),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(8);r(r.S,"Reflect",{ownKeys:n(216)})},function(t,e,n){var r=n(8),i=n(15),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(23),i=n(46),o=n(68),a=n(33),s=n(8),u=n(61),c=n(15),l=n(16);s(s.S,"Reflect",{set:function t(e,n,s){var f,h,p=arguments.length<4?e:arguments[3],d=i.f(c(e),n);if(!d){if(l(h=o(e)))return t(h,n,s,p);d=u(0)}if(a(d,"value")){if(!1===d.writable||!l(p))return!1;if(f=i.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(p,n,f)}else r.f(p,n,u(0,s));return!0}return void 0!==d.set&&(d.set.call(p,s),!0)}})},function(t,e,n){var r=n(8),i=n(164);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(371),t.exports=n(21).Array.includes},function(t,e,n){"use strict";var r=n(8),i=n(99)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(69)("includes")},function(t,e,n){n(373),t.exports=n(21).Array.flatMap},function(t,e,n){"use strict";var r=n(8),i=n(374),o=n(25),a=n(19),s=n(44),u=n(204);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(69)("flatMap")},function(t,e,n){"use strict";var r=n(101),i=n(16),o=n(19),a=n(43),s=n(17)("isConcatSpreadable");t.exports=function t(e,n,u,c,l,f,h,p){for(var d,v,y=l,g=0,m=!!h&&a(h,p,3);g<c;){if(g in u){if(d=m?m(u[g],g,n):u[g],v=!1,i(d)&&(v=void 0!==(v=d[s])?!!v:r(d)),v&&f>0)y=t(e,n,d,o(d.length),y,f-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=d}y++}g++}return y}},function(t,e,n){n(376),t.exports=n(21).String.padStart},function(t,e,n){"use strict";var r=n(8),i=n(217),o=n(107),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){n(378),t.exports=n(21).String.padEnd},function(t,e,n){"use strict";var r=n(8),i=n(217),o=n(107),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(380),t.exports=n(21).String.trimLeft},function(t,e,n){"use strict";n(74)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,n){n(382),t.exports=n(21).String.trimRight},function(t,e,n){"use strict";n(74)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,n){n(384),t.exports=n(160).f("asyncIterator")},function(t,e,n){n(189)("asyncIterator")},function(t,e,n){n(386),t.exports=n(21).Object.getOwnPropertyDescriptors},function(t,e,n){var r=n(8),i=n(216),o=n(35),a=n(46),s=n(176);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,c=i(r),l={},f=0;c.length>f;)void 0!==(n=u(r,e=c[f++]))&&s(l,e,n);return l}})},function(t,e,n){n(388),t.exports=n(21).Object.values},function(t,e,n){var r=n(8),i=n(218)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){n(390),t.exports=n(21).Object.entries},function(t,e,n){var r=n(8),i=n(218)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";n(210),n(392),t.exports=n(21).Promise.finally},function(t,e,n){"use strict";var r=n(8),i=n(21),o=n(13),a=n(93),s=n(212);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){n(394),n(395),n(396),t.exports=n(21)},function(t,e,n){var r=n(13),i=n(8),o=n(107),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(8),i=n(182);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(179),i=n(64),o=n(28),a=n(13),s=n(34),u=n(75),c=n(17),l=c("iterator"),f=c("toStringTag"),h=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),v=0;v<d.length;v++){var y,g=d[v],m=p[g],b=a[g],_=b&&b.prototype;if(_&&(_[l]||s(_,l,h),_[f]||s(_,f,g),u[g]=h,m))for(y in r)_[y]||o(_,y,r[y],!0)}},function(t,e,n){n(398),t.exports=n(219).global},function(t,e,n){var r=n(399);r(r.G,{global:n(184)})},function(t,e,n){var r=n(184),i=n(219),o=n(400),a=n(402),s=n(409),u=function(t,e,n){var c,l,f,h=t&u.F,p=t&u.G,d=t&u.S,v=t&u.P,y=t&u.B,g=t&u.W,m=p?i:i[e]||(i[e]={}),b=m.prototype,_=p?r:d?r[e]:(r[e]||{}).prototype;for(c in p&&(n=e),n)(l=!h&&_&&void 0!==_[c])&&s(m,c)||(f=l?_[c]:n[c],m[c]=p&&"function"!=typeof _[c]?n[c]:y&&l?o(f,r):g&&_[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,t&u.R&&b&&!b[c]&&a(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(401);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(403),i=n(408);t.exports=n(186)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(404),i=n(405),o=n(407),a=Object.defineProperty;e.f=n(186)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(185);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(186)&&!n(220)((function(){return 7!=Object.defineProperty(n(406)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(185),i=n(184).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(185);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";n.r(e);var r=n(110);e.default=r.default}])}));